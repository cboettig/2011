<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Lab Notebook</title>
 <link href="/2011/atom.xml" rel="self"/>
 <link href="/"/>
 <updated>2015-02-25T23:07:55+00:00</updated>
 <id>http://www.carlboettiger.info/2011</id>
 <author>
   <name>Carl Boettiger</name>
   <email>cboettig@gmail.com</email>
 </author>

 
 <entry>
   <title>Monday</title>
	 <link href="/2011/12/12/monday-12.html"/>
   <updated>2011-12-12T19:00:50+00:00</updated>
   <id>/12/12/monday-12</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote method2 test functions out in knitr/sweave. Sent document to Peter.&lt;/li&gt;
&lt;li&gt;Move my ropensci git origins to the ropensci github page.&lt;/li&gt;
&lt;li&gt;Ropensci comments on : recommended for anything non-trivial, including web calls. Richer tests should be put into testthat.&lt;/li&gt;
&lt;li&gt;Reply to Charles Jervis, biology high school teacher interested in tools to teach math/modeling in ecology.  Sounds like he’s already doing some cool stuff with phylogenies with his students.&lt;/li&gt;
&lt;li&gt;prepare vignette for rfishbase based on tutorial.&lt;/li&gt;
&lt;li&gt;prepare vignette for treebase base on tutorial.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-wordpressnotebook-stuff&quot;&gt;Misc Wordpress/Notebook Stuff&lt;/h2&gt;
&lt;p&gt;Kcite upgrade – moves to a new platform, becomes author-year format, smaller format bibliography.  Whoops, it also breaks my dynamic header-footers – for some reason they no longer appear on any page or post not calling the kcite citation!  Fixed with a hack call to kcite function in my footer&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;co&quot;&gt;&amp;lt;!-- MY ADDITION: KCITE HACK --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;script&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; kcite_citation_data;
&lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;( kcite_citation_data == &lt;span class=&quot;kw&quot;&gt;undefined&lt;/span&gt; ){
kcite_citation_data = [];
}
&amp;lt;&lt;span class=&quot;ot&quot;&gt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but not happy about this.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Better dynamic documents (Sweave) with syntax highlighting, caching, etc</title>
	 <link href="/2011/12/12/better-sweave-dynamic-documents-with-syntax-highlighting-easier-tools.html"/>
   <updated>2011-12-12T17:26:47+00:00</updated>
   <id>/12/12/better-sweave-dynamic-documents-with-syntax-highlighting-easier-tools</id>
   <content type="html">&lt;p&gt;The highlight package is a simple solution for very nice syntax highlighted code boxes in latex documents.  Requires &lt;a href=&quot;http://stackoverflow.com/questions/5448608/changing-the-sweave-driver-from-the-command-line&quot;&gt;switching the driver&lt;/a&gt;, which is best done from within R and requires creating a makefile though.  Needs the “highlight” package installed.  Here’s a &lt;a href=&quot;https://gist.github.com/1469063&quot;&gt;simple makefile.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A wealth/mess of Sweave related packages on the CRAN &lt;a href=&quot;http://cran.r-project.org/web/views/ReproducibleResearch.html&quot;&gt;taskview for Reproducible Research&lt;/a&gt; (now what other software platform has a the equivalent of a Reproducible Research task view?)&lt;/p&gt;
&lt;p&gt;But why not really do things correctly? The &lt;a href=&quot;http://yihui.github.com/knitr&quot;&gt;knitr&lt;/a&gt; package is beautiful. Abstracts the concept beyond just latex integration.  You can write in pure latex, (instead of noweb mix), in pure markdown, or pure html, embedding the R commands in comments.  knitr can run the code in those comments to generate a file of the same format, but with the dynamic content embedded.  Handles caching, syntax highlighting, and figures in a much more seamless manner.  It can also use the package author’s &lt;a href=&quot;https://github.com/yihui/formatR&quot;&gt;formatR&lt;/a&gt;code to tidy up your code before including it.  You can convince R to use this for vignettes with a similar makefile.&lt;/p&gt;
&lt;p&gt;[gist id=1470786]&lt;/p&gt;
&lt;p&gt;The github markdown integration makes github look like a better and better candidate for a lab notebook.  Wonder how it handles mathjax or citations?&lt;/p&gt;
&lt;p&gt;Another nice find for bringing my older package documentation into roxygen form: &lt;a href=&quot;https://github.com/yihui/Rd2roxygen&quot;&gt;Rd2roxygen&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;more-ambitious-dynamic-documentation&quot;&gt;More ambitious dynamic documentation&lt;/h2&gt;
&lt;p&gt;These improvements to Sweave are nice, though the dynamic document concept can certainly go much further.  &lt;a href=&quot;http://www.dexy.it/features/&quot;&gt;Dexy.it&lt;/a&gt; is an interesting multi-lingual version, but doesn’t seem to combine source and the documentation in the same file.  Guess that can be kinda good, kinda bad. It seem to use a non-standard syntax, and while it’s python easy_install sounds fine, might still be a barrier to adoption among R users…&lt;/p&gt;
&lt;p&gt;Meanwhile, some notes form a presentation I saw recently that have a much more ambitious view of what’s possible.  Nov 22 (which I’ve recast into the language Tim Berners-Lee uses to describe linked-data on the web:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One star – sweave&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;two stars - XDynDocs multiple views (alternate analyses, full lab notebook)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;three stars - rfirefox - interactive web view&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;star four - live data sources (self updating)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some people involved: Deborah Nolan, Thomas Lee, Paul Baines, Wolfgang Polonik, Duncan Temple-Lang, Gabriel Becker.&lt;/p&gt;
&lt;p&gt;some of my questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In the context of these tools, do we distinguish documenting code from publishing analyses?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does this make remaining errors the more insidious?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Some Notes on Open Notebooks, Open peer review practices.</title>
	 <link href="/2011/12/11/some-notes-on-open-notebooks-open-peer-review-practices.html"/>
   <updated>2011-12-11T22:45:54+00:00</updated>
   <id>/12/11/some-notes-on-open-notebooks-open-peer-review-practices</id>
   <content type="html">&lt;p&gt;What follows is a collection of notes, examples, and reflections I’ve been meaning to write down.&lt;/p&gt;
&lt;h2 id=&quot;section&quot;&gt;&lt;/h2&gt;
&lt;h2 id=&quot;revealing-revisions&quot;&gt;Revealing Revisions&lt;/h2&gt;
&lt;p&gt;Sharing version history is an important part of an open notebook really being open, and one reason why wikis have remained so popular for Open Notebook Science.  Wordpress (this platform) does version management internally, and the&lt;a href=&quot;http://wordpress.org/extend/plugins/post-revision-display/&quot;&gt;post-revision display plug-in&lt;/a&gt;makes this visible on posts.  I had experimented but disabled this a while ago because I didn’t like visual impact of the long list at the end of my posts.  I may often put a post up early in the day and add subsequent notes as I go along, so my revisions are nearly exclusively additions (I show any cross-outs on the final copy anyway) so it seemed unnecessary.  Anyway, this &lt;a href=&quot;http://ff.im/NPlPW&quot;&gt;FF discussion&lt;/a&gt; made me feel guilty so I added them back.  Luckily the manual mode lets me have this display in the metadata section, which feels a bit more out of the way. ((Configuration notes to self:  Directions basically follow the package instructions – I added  the two php lines to single.php in the sidebar section.  Would be overwritten by theme updates so I should write a &lt;a href=&quot;http://www.carlboettiger.info/archives/1697&quot;&gt;child theme,&lt;/a&gt; but I understand &lt;a href=&quot;http://somadesign.ca/projects/the-erudite/&quot;&gt;my theme&lt;/a&gt; is no longer being updated anyhow.  I’d have to edit the css to get color highlighting of the changes, doesn’t really fit with my theme.  My theme also doesn’t use the standard CSS file, but it’s own directory for css files which means I have to go outside the wordpress editor to edit it.)).  We’ll see.&lt;/p&gt;
&lt;h2 id=&quot;revealing-impact&quot;&gt;Revealing Impact&lt;/h2&gt;
&lt;p&gt;A while ago &lt;a href=&quot;http://www.researchremix.org/wordpress/&quot;&gt;Heather Piwowar&lt;/a&gt; asked me about setting up WP Post Views on my notebook so that projects like total-impact could include the data.  There should be a good plugin that just uses the API from the standard statistics plugin (now part of jetpack) to display views on individual posts, but it seems there isn’t.  WP Post Views requires modifying the theme files, and requires the ajax-the-views plugin to update the display on sites using caching, and uses it’s own counter (so it’s view counts only start once it’s installed), but I don’t have time to write my own, so it now appears in the metadata section of the posts.&lt;/p&gt;
&lt;h2 id=&quot;ons-logos&quot;&gt;ONS Logos&lt;/h2&gt;
&lt;p&gt;Interesting &lt;a href=&quot;http://andymaloney.wordpress.com/2011/11/24/ons-logo/#comment-69&quot;&gt;discussion&lt;/a&gt; by Andy Maloney on the use of ONS logos to track Open Notebook science.  (See mine in the footer “further information.”  The choice of ONS claim is a different discussion, e.g. &lt;a href=&quot;http://www.carlboettiger.info/archives/1229#comment-491&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;journals-with-open-peer-review&quot;&gt;Journals with Open Peer Review&lt;/h2&gt;
&lt;p&gt;Been meaning to jot these notes down, prompted to by the open-knowledge / &lt;a href=&quot;https://plus.google.com/107449381177524115065/posts/5iQoPnuY5R8&quot;&gt;G+ discussion&lt;/a&gt; here.  Here’s a few different models of open peer review.&lt;/p&gt;
&lt;p&gt;Biology Direct has always practiced open peer review in which reviews are solicited; then having received the reviews (either positive or negative) the author can opt to have the paper published, can make changes &amp;amp; publish, or can withdraw the paper. Any time the paper is published the reviews are published with it, with the reviewers name, and with the author’s reply to the reviews. &lt;a href=&quot;http://www.biology-direct.com/&quot; class=&quot;uri&quot;&gt;http://www.biology-direct.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Nature journal EMBO has an innovative but less extreme process where reviews are solicited, identities are included, but the reviews are published (as a supplement) only if the paper is accepted. The open review is opt-in, with 95% opting in. Interestingly reviewers are encouraged to “cross-review” or comment on remarks of other reviewers. They have stats showing that about 10% of the time people download the peer-review comments when they download the paper, comparable to downloads of traditional supplements. &lt;a href=&quot;http://www.nature.com/emboj/about/process.html&quot; class=&quot;uri&quot;&gt;http://www.nature.com/emboj/about/process.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nature did an experiment with its flagship journal on unsolicited open peer review in 2006 in parallel with it’s traditional peer review. They deemed it unsuccessful due to low opt-in rates among authors and few &amp;amp; lower quality reviews in the open. &lt;a href=&quot;http://www.nature.com/nature/peerreview/debate/nature05535.html&quot; class=&quot;uri&quot;&gt;http://www.nature.com/nature/peerreview/debate/nature05535.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;BMC Molecular Biology journals has authors recommend reviewers, non-anonymous review, and publishing of the reviews with the article.  &lt;a href=&quot;http://www.biomedcentral.com/bmcmolbiol/authors/peerreview&quot; class=&quot;uri&quot;&gt;http://www.biomedcentral.com/bmcmolbiol/authors/peerreview&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;copyright-licenses&quot;&gt;Copyright Licenses&lt;/h2&gt;
&lt;p&gt;Some vibrant discussion on non-commercial (NC) (and to some extent, share-alike, or SA) clauses in licenses on the open-knowledge list (and in the recent published literature: (Carroll, 2011), (Hagedorn &lt;em&gt;et. al.&lt;/em&gt; 2011)). The question at hand is targeting Open Access publishers who use NC license, but has interesting reflections onto bloggers and software licenses.&lt;/p&gt;
&lt;p&gt;While I’d heard discontent with NC before (particularly around PLoS ONE clones using NC clause), I was surprised at the extent – Creative Commons is apparently considering removing it since it is so problematic.  Similar troubles have dogged the share-alike/GPL clause for software (license incompatibility, etc), and it sounds that GPL is out of favor in preference for more open/permissive BSD licenses.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Carroll M (2011). “Why Full Open Access Matters.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001210&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001210&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hagedorn G, Mietchen D, Morris R, Agosti D, Penev L, Berendsohn W and Hobern D (2011). “Creative Commons Licenses And The Non-Commercial Condition: Implications For The re-Use of Biodiversity Information.” &lt;em&gt;Zookeys&lt;/em&gt;, &lt;strong&gt;150&lt;/strong&gt;. ISSN 1313-2989, &lt;a href=&quot;http://dx.doi.org/10.3897/zookeys.150.2189&quot;&gt;http://dx.doi.org/10.3897/zookeys.150.2189&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/12/09/friday-9.html"/>
   <updated>2011-12-09T13:42:30+00:00</updated>
   <id>/12/09/friday-9</id>
   <content type="html">&lt;h2 id=&quot;wrightscapepmc&quot;&gt;Wrightscape/pmc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Writing up derivation from Thursday properly / for manuscript.&lt;/li&gt;
&lt;li&gt;Writing up test cases for method2, direct evaluation of covariance matrix for comparisons&lt;/li&gt;
&lt;li&gt;Minor revisions submitted to Evolution&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-control-to-do&quot;&gt;pdg-control To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Implement the NCO.&lt;/li&gt;
&lt;li&gt;Implement HS SDP&lt;/li&gt;
&lt;li&gt;Closer read of (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005), (Su &amp;amp; Peterman, 2012) and &lt;a href=&quot;http://www.webmeets.com/files/papers/aere/2011/237/Woodward%20and%20Tomberlin%20-%20Robust%20DP%20-%20Fisheries.AERE.pdf&quot;&gt;Woodward &amp;amp; Tomberlin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Allee effects in linear programming with different classes.&lt;/li&gt;
&lt;li&gt;Timescales of noise using van Kampen expansion.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;image-log&quot;&gt;Image Log&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-09 7:00:37” max_upload_date=“2011-12-09 23:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Su Z and Peterman R (2012). “Performance of A Bayesian State-Space Model of Semelparous Species For Stock-Recruitment Data Subject to Measurement Error.” &lt;em&gt;Ecological Modelling&lt;/em&gt;, &lt;strong&gt;224&lt;/strong&gt;. ISSN 03043800, &lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolmodel.2011.11.001&quot;&gt;http://dx.doi.org/10.1016/j.ecolmodel.2011.11.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/12/08/thursday-11.html"/>
   <updated>2011-12-08T11:06:00+00:00</updated>
   <id>/12/08/thursday-11</id>
   <content type="html">&lt;p&gt;Another day of working on 4 different projects at once.&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;review Alan pulses manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;review (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003) Paper discussing the data you want $ $ the data you want&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;No way in Anchoveta data, look at time series:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7142/6478073223_819460d349_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;example-in-the-cod-data&quot;&gt;Example in the cod data&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7157/6477872559_87a539f2df_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;using only up until 1991 data:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7028/6477872503_bc33d69793_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Way forward – construct the step-wise predictor of probabilities.  Add the economic costs of both.  run in replicate — eek this will definitely be one for the NERSC cluster.  Is there really no policy to compare against?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Selecting figures, see section in &lt;a href=&quot;http://www.carlboettiger.info/archives/3488&quot;&gt;Yesterday’s post&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;describe the differences in optimization methods, and modify our mention of the Hessian to say that it may provide reasonable CIs, but not necessarily, and can be problematic to compute. – Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider AICc for comparison?  – supplement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cite Revel &amp;amp; Collar 2009 – Done&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reply letter.&lt;/p&gt;
&lt;p&gt;Code polish and submit.&lt;/p&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;p&gt;Very clever! State-space too big for SDP?  Just simulate forward a few steps and call it good. Now with citation.  Nicol &amp;amp; Chadès, 2011&lt;/p&gt;
&lt;p&gt;Discussing with Paul – read:&lt;/p&gt;
&lt;p&gt;Checking expected behavior when the cost of change is high and the stock has significant scrap value (reward for non-zero terminal condition):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7158/6479108919_5818e93990_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7159/6479067329_108dc6e17d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;in this limit the trivial solution is not to fish.&lt;/p&gt;
&lt;p&gt;Just implement NCO tracking on Reed’s S.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Beyond Stochastic Dynamic Programming: A Heuristic Sampling Method For Optimizing Conservation Decisions in Very Large State Spaces, Sam Nicol, Iadine Chadès, (2011) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2010.00069.x&quot;&gt;10.1111/j.2041-210X.2010.00069.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday - wrightscape runs and various other things</title>
	 <link href="/2011/12/07/wednesday-11.html"/>
   <updated>2011-12-07T18:01:07+00:00</updated>
   <id>/12/07/wednesday-11</id>
   <content type="html">&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;plots for changing costs&lt;/li&gt;
&lt;li&gt;Report out to Training Problem II group.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ggplot-note&quot;&gt;ggplot note&lt;/h3&gt;
&lt;p&gt;defining functions that return a ggplot object can be tricky. If you compute some objects in the plot function (stats etc), those stats are not stored by the object (due to lazy evaluation, usually a very nice time-saving feature), so the plot cannot be produced unless the function returns those things to the global environment (or from wherever the plot will be printed/evaluated). Can return them to the global env with “&amp;lt;&amp;lt;-” assignment, but seems poor form.&lt;/p&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;h3 id=&quot;power-in-phylogenies&quot;&gt;power in phylogenies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Hessian reply.  manuscript reply.&lt;/li&gt;
&lt;li&gt;Select wrightscape examples.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1530089 series: bm vs a2 on parrotfish tree. looks like close &amp;amp; SH.y reject brownie, open almost does. kt almost does.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/7a347b05696d179e442b2619d5a0dd5c70c284c8&quot;&gt;7a347b0&lt;/a&gt; series: bm vs a1 on parrotfish tree: (missing lr line).  More power, smaller diffs.  Kt maybe? must rerun these!&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/43352040ff429dab06a038632d16025775e87a5d&quot;&gt;4335204&lt;/a&gt;  bm vs a1 with the lines.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://www.flickr.com/photos/cboettig/6475405483/in/photostream&quot; alt=&quot;prot.y&quot; /&gt; sig. open sig in reverse&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;cce5a5a/93a8630 series: labrid tree, intramandibular division, bm vs a1   (more power on larger tree, go for finer division between models?)   only bodymass rejects.  (cce5a5a missing lr line).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/8382283f9b63f6dd3500baf75a9acaf441d62007/demo/labrid_power.R&quot;&gt;8382283&lt;/a&gt; now running labrid bm vs a2.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7175/6475405483_eb15f0aea9.jpg&quot; alt=&quot;KT significant&quot; /&gt; &lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7156/6475405223_485794f9af_o.png&quot; alt=&quot;closing: boarderline&quot; /&gt;&lt;figcaption&gt;closing: boarderline&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6475405179_f9046e73e3_o.png&quot; alt=&quot;bodymass sig&quot; /&gt;&lt;figcaption&gt;bodymass sig&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7022/6475405419_6b917dae8e.jpg&quot; alt=&quot;open: kinda not really&quot; /&gt;&lt;figcaption&gt;open: kinda not really&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;open &amp;amp; prot.y significant in reverse&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/6befae4fdbce8ef5ab00c141e68e6681a391ed29&quot;&gt;6befae4&lt;/a&gt; Check out open and kt on a2 vs bm when regime=two_shifts.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7146/6477481011_65e328f325_m.jpg&quot; alt=&quot;Prot&quot; /&gt;&lt;figcaption&gt;Prot&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7033/6477480971_084c73eb32.jpg&quot; alt=&quot;open&quot; /&gt;&lt;figcaption&gt;open&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7027/6477480889_547db25f73.jpg&quot; alt=&quot;kt&quot; /&gt;&lt;figcaption&gt;kt&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7163/6477480785_4216e0f606_o.png&quot; alt=&quot;bodymass&quot; /&gt; are significant.  Close is significant reversed (funny pattern at a2 anyhow).&lt;/p&gt;
&lt;p&gt;Make sure to run against standard ouch too!&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Alan Manuscript&lt;/li&gt;
&lt;li&gt;Reading: re data sources (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/li&gt;
&lt;li&gt;(Le Quesne &amp;amp; Jennings, 2012)&lt;/li&gt;
&lt;li&gt;Example decisions under uncertainty of crash&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;(Molloy, 2011)&lt;/li&gt;
&lt;li&gt;And on NC clause (Carroll, 2011), (Hagedorn &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Fiction: Non-commerical license means no one can make money from it. “I don’t want to give some entrepreneur a free lunch”&lt;/li&gt;
&lt;li&gt;Fact: NC means the journal (by holding the copyright) retains the right to &lt;strong&gt;sell&lt;/strong&gt; your work to pharmaceuticals, teachers, researchers interested in text-mining,  (rather than those groups having &lt;strong&gt;free&lt;/strong&gt; use).&lt;/li&gt;
&lt;li&gt;Data reviews – F1000?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;graph-gallery&quot;&gt;Graph gallery&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-07 7:00:37” max_upload_date=“2011-12-08 12:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Le Quesne W and Jennings S (2012). “Predicting Species Vulnerability With Minimal Data to Support Rapid Risk Assessment of Fishing Impacts on Biodiversity.” &lt;em&gt;Journal of Applied Ecology&lt;/em&gt;, &lt;strong&gt;49&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Molloy J (2011). “The Open Knowledge Foundation: Open Data Means Better Science.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001195&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001195&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carroll M (2011). “Why Full Open Access Matters.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001210&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001210&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hagedorn G, Mietchen D, Morris R, Agosti D, Penev L, Berendsohn W and Hobern D (2011). “Creative Commons Licenses And The Non-Commercial Condition: Implications For The re-Use of Biodiversity Information.” &lt;em&gt;Zookeys&lt;/em&gt;, &lt;strong&gt;150&lt;/strong&gt;. ISSN 1313-2989, &lt;a href=&quot;http://dx.doi.org/10.3897/zookeys.150.2189&quot;&gt;http://dx.doi.org/10.3897/zookeys.150.2189&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Optimal control -- costs to policy shifts</title>
	 <link href="/2011/12/07/optimal-control-costs-to-policy-shifts.html"/>
   <updated>2011-12-07T09:11:36+00:00</updated>
   <id>/12/07/optimal-control-costs-to-policy-shifts</id>
   <content type="html">&lt;p&gt;Considering the case where there is a cost to changing the harvest quota (representing the cost of efforts to change policy).  We can imagine several scenarios that could introduce this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fixed cost to change&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cost proportional to the size of the change (L1 norm)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cost proportional to the square of the size (L2 norm, i.e. small changes aren’t expensive, large ones are very expensive)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;asymmetric costs – lowering quotas may be harder than raising them&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;implementation&quot;&gt;Implementation:&lt;/h3&gt;
&lt;p&gt;Before, we could calculate the optimal harvest rate for each value of the state variable $ x_t $ on the grid, at each time step (using Bellman’s equation for the value-to-go).  The optimal solution was given by a matrix of size n by T, where n is the grid size and T the stopping time  - n rows for the states, T columns for the timesteps.  Now we have to have the optimal harvest level at state $ x_t $ calculated out for each possible value of last year’s quota ( h_{t-1}  ), to know how big a change we’re considering.  This makes our matrix n by n by T (if harvest can assume any value on the grid, it has n options – we might make the harvest grid coarser or bounded at some h_max &amp;lt; x_max).&lt;/p&gt;
&lt;p&gt;I think I have this right(?)  Slower to compute this much bigger optimum, but here we go:&lt;/p&gt;
&lt;h3 id=&quot;results&quot;&gt;Results&lt;/h3&gt;
&lt;p&gt;L1 norm tends to follow the optimal solution to a point, and then give up on changing the policy – putting the harvest all the way up and running the population to extinction:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7150/6470200593_06f074a462_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The “alternate” line shows what the fishstock would have been if there was no cost to changing the policy (the classical Reed optimum), and its harvest rate is shown as harvest_alt. Looking across the ensemble we see this pattern repeat, with the manager throwing in the hat and fishing out the population at different times:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6472332667_f75a3ccda6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Higher costs make this happen instantly, lower costs nearly mimic the Reed optimum strategy.&lt;/p&gt;
&lt;h3 id=&quot;code&quot;&gt;Code&lt;/h3&gt;
&lt;p&gt;available in R package form now,&lt;a href=&quot;https://github.com/cboettig/pdg_control&quot;&gt;install instructions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;(version of code used for figures should be linked from the figures as always too).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday -- two insights</title>
	 <link href="/2011/12/06/tuesday-two-insights.html"/>
   <updated>2011-12-06T21:46:16+00:00</updated>
   <id>/12/06/tuesday-two-insights</id>
   <content type="html">&lt;h2 id=&quot;control-optimization&quot;&gt;Control &amp;amp; Optimization&lt;/h2&gt;
&lt;h3 id=&quot;dominique-bonvin-visit&quot;&gt;Dominique Bonvin visit&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;two-step control (optimize parameters, optimize mean-square error between model and measurement also by parameter adjustment) fails when reality isn’t in the model set.  Problem is under-determined (N free variables, 4N equations).  (converges, but onto the wrong optimum).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Better solution – adjust the penalty/regularization terms to to get better agreement between model and data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bonvin approach – adjust the control instead (NCO Control).  Can be almost model free in the control process.   (**)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pdg-control-training-problem-1b-2&quot;&gt;pdg-control Training Problem 1b &amp;amp; 2&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Coded SDP with costs to changing quotas.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Best way to visualize the optimal solution?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hessian calculation?  Non-trivial – how to get Hessian from a non-gradient method, or a gradient method when you need to handle bounds?  Various numerical challenges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape model comparisons – comparing meaningful hypotheses! (**)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;days-graphs-log&quot;&gt;Day’s graphs log&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-06 7:00:37” max_upload_date=“2011-12-06 23:23:37”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday - wrightscape meetings, PDG meeting</title>
	 <link href="/2011/12/05/monday-wrightscape-meetings-pdg-meeting.html"/>
   <updated>2011-12-05T18:45:32+00:00</updated>
   <id>/12/05/monday-wrightscape-meetings-pdg-meeting</id>
   <content type="html">&lt;p&gt;Wrightscape – added a user utility to to specify custom model types, such that some subset of the total number of regimes can share certain parameters.&lt;/p&gt;
&lt;h2 id=&quot;peter-meeting&quot;&gt;Peter Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derivation – provide clear examples of the differences and by how much it matters.&lt;/li&gt;
&lt;li&gt;Expected result from the biology: the jaw lever traits should show greater changes than the other traits after a release of constraint.&lt;/li&gt;
&lt;li&gt;Based on previous studies, expect most of the action to be around the intramandibular joint innovation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;luke-meeting&quot;&gt;Luke Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Set up wrightscape to run on the &lt;em&gt;Anolis&lt;/em&gt; ecomorph data.  Requires custom_Multitype() to specify separate shared and independent parameters on different regimes.&lt;/li&gt;
&lt;li&gt;Get wrightscape to compile on Luke’s Mac.  He has gsl libraries installed, yet somehow package won’t compile by R, complains that R cannot find gcc-4.2.  &lt;strong&gt;Solved&lt;/strong&gt; aliased gcc to gcc-4.2, and compile worked fine.  Wish that didn’t take so long to think of.&lt;/li&gt;
&lt;li&gt;Up and running on Luke’s &lt;em&gt;Anolis&lt;/em&gt; data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-training-problem-1-conference-call&quot;&gt;PDG Training Problem 1 Conference Call&lt;/h2&gt;
&lt;h3 id=&quot;b-penalties-on-rate-of-change-of-control-variable.&quot;&gt;1b: penalties on rate of change of control variable.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;c depend on h – not a velocity penalty.&lt;/li&gt;
&lt;li&gt;L_1 vs L_2  is a bigger penalty for large changes, small penalty for smaller&lt;/li&gt;
&lt;li&gt;Operational question: do penalties change the nature of the optimal policy?&lt;/li&gt;
&lt;li&gt;No cost penalties, upper bound on h&lt;/li&gt;
&lt;li&gt;Jake with h_max stochastic problem – lose the state independence, alter the Reed solution.&lt;/li&gt;
&lt;li&gt;Highlight differences from constant-escapement policy.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;a-curvature-question&quot;&gt;1a: curvature question&lt;/h3&gt;
&lt;p&gt;Focus on cases where state equation has stable node, chattering/limit cycles introduced by the control.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-05 8:00:37” max_upload_date=“2011-12-05 23:23:37”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>More labrid plots</title>
	 <link href="/2011/12/05/more-labrid-plots.html"/>
   <updated>2011-12-05T10:24:36+00:00</updated>
   <id>/12/05/more-labrid-plots</id>
   <content type="html">&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7010/6444379007_dbb297e7e3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Intramandibular likelihood comparisons&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7031/6444378523_edee31f162_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Parameter zooms:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7020/6444379297_5a6b655d55_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7156/6444379559_7d8b997c1d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7017/6444335351_49faec8780_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Pharyngeal likelihood comparisons&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7012/6444112101_ea34f25320_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Both shifts:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7146/6455296281_24c319ecba_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7013/6455296139_56d33fe1d0_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-03 8:00:37” max_upload_date=“2011-12-04 23:23:37”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Release of constraint</title>
	 <link href="/2011/12/04/release-of-constraint.html"/>
   <updated>2011-12-04T13:41:47+00:00</updated>
   <id>/12/04/release-of-constraint</id>
   <content type="html">&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7157/6453857531_80d64da193_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7004/6453857285_50d6a67275_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(uncertainty estimation to follow).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday - updated wrightscape results - simulated examples</title>
	 <link href="/2011/12/02/friday-updated-wrightscape-results.html"/>
   <updated>2011-12-02T22:35:24+00:00</updated>
   <id>/12/02/friday-updated-wrightscape-results</id>
   <content type="html">&lt;p&gt;Consider two simulated datasets, one under a release of constraint (left) one under an increase in sigma (right).  Can we correctly discriminate between these models?&lt;/p&gt;
&lt;p&gt;Parameter differences:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7175/6443908549_5a57d8c103_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Likelihood differences:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7159/6443918533_ab45a0d544_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Yup&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Repeated with effect-size scaled to be roughly equivalent for both traits.  Wondering if it’s easier to plot parameters out separately like this.  Error bars show median and 25/75 % quantile range, with barplots showing the means (note that high outliers makes mean often larger than median).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7011/6444288263_d0e75be4b4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7162/6444288021_cbcafa94ff_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note that the resulting likelihood differences are less dramatic in the sigma-simulation trait when it’s variance is more comparable to the alpha example:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6444280225_392246ba00_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Day’s complete log from the image repository.. lots of exploring…&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-02 8:00:37” max_upload_date=“2011-12-02 23:23:37”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thrusday - corrected calculation, implementing.  </title>
	 <link href="/2011/12/01/thrusday-corrected-calculation-implementing.html"/>
   <updated>2011-12-01T23:33:55+00:00</updated>
   <id>/12/01/thrusday-corrected-calculation-implementing</id>
   <content type="html">&lt;p&gt;Implementing Wednesday night’s calculations. Should transcribe full derivation from paper notebook, meanwhile (revealing how chaotic my work process really is):&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“equations” min_upload_date=“2011-12-04 11:00:37” max_upload_date=“2011-12-04 11:39:37”]&lt;/p&gt;
&lt;p&gt;Day’s log of plots:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-01 8:00:37” max_upload_date=“2011-12-01 23:23:37”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday - various logistics, then checking likelihood calculation</title>
	 <link href="/2011/11/30/wednesday-various-logistics-then-checking-likelihood-calculation.html"/>
   <updated>2011-11-30T20:20:42+00:00</updated>
   <id>/11/30/wednesday-various-logistics-then-checking-likelihood-calculation</id>
   <content type="html">&lt;h2 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;rOpenSci wins runner up prize in PLoS + Mendeley’s Binary Battle!&lt;/li&gt;
&lt;li&gt;Write replies to interview questions with Mendeley.&lt;/li&gt;
&lt;li&gt;roxygenizing documentation for RMendeley – about half done&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Call with Jake scheduled for tomorrow&lt;/li&gt;
&lt;li&gt;Emails with Michael. I’ll implement delay intervals, he’ll add costs to adjustment.&lt;/li&gt;
&lt;li&gt;Need to fix/finish delay interval optimization calculation (exponent of matrix &amp;amp; beta)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;p&gt;Meeting with Alan&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Regime shifts&lt;/li&gt;
&lt;li&gt;Emphasize the RO curve in uncertainty analysis&lt;/li&gt;
&lt;li&gt;See  (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003) (relevant) &amp;amp; (more for fun) (Le Quesne &amp;amp; Jennings, 2012)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;seminars&quot;&gt;Seminars&lt;/h2&gt;
&lt;p&gt;Excellent &lt;a href=&quot;http://innovation.ucdavis.edu/events/getting-famous-or-getting-scooped-risks-and-opportunities-in-sharing-your-science-and-scholarship&quot;&gt;discussion panel&lt;/a&gt; with Jonathan Eisen, Jon Wilbanks, and Mario Biagioli. Looks like the beginning of a successful collaboration between Davis Open Science and the Center for Science &amp;amp; Innovation Studies at UC Davis.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-os5A425swFI/TtaPQHDF-qI/AAAAAAAABdk/NRNnLFdsrgU/h301/2011-11-30%2B12-13-29-956.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Evolution manuscript accepted, pending a few minor checks.&lt;/li&gt;
&lt;li&gt;Complete documentation and submit associated pmc package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape-debugging-process&quot;&gt;Wrightscape debugging process&lt;/h2&gt;
&lt;p&gt;Into the C code, checking the equations &amp;amp; implementation of the likelihood calculation.&lt;/p&gt;
&lt;p&gt;Day’s plots on the feed:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics pdgcontrol” min_upload_date=“2011-11-30 7:00:37” max_upload_date=“2011-11-30 23:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Le Quesne W and Jennings S (2012). “Predicting Species Vulnerability With Minimal Data to Support Rapid Risk Assessment of Fishing Impacts on Biodiversity.” &lt;em&gt;Journal of Applied Ecology&lt;/em&gt;, &lt;strong&gt;49&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday debugging</title>
	 <link href="/2011/11/29/tuesday-debugging.html"/>
   <updated>2011-11-29T10:13:35+00:00</updated>
   <id>/11/29/tuesday-debugging</id>
   <content type="html">&lt;p&gt;Wrote seven unit tests to identify source of how/why I can get $ $’s to be larger in the parrotfish group than wrasses (when only $alpha $ varies across regimes) on the same trait for which $ $’s are larger (when only they vary). Tests successively restrict pattern into the likelihood equation, some treatment of the regimes must be wrong.&lt;/p&gt;
&lt;p&gt;Unit tests.&lt;/p&gt;
&lt;h3 id=&quot;nov-29-2011&quot;&gt;Nov 29, 2011&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;also need to double-check calc of lca_matrix – needs to obey same sc…&lt;/a&gt; …&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;52a5d0bf12&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; 2011-11-29 17:29:04&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;seems that branchlength times alpha is off somewhere…&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;5e88b3af18&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 17:27:26&lt;/p&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;docs for data&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;fc852d023d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 15:23:54&lt;/p&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;unit_test5, lambda parameter illustrates the problem&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;3da057ba8d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 15:22:50&lt;/p&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;added data documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;e6caf07ca5&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:36:49&lt;/p&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;8f64c98b66&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:31&lt;/p&gt;
&lt;ol start=&quot;7&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;4c6c546f66&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:17&lt;/p&gt;
&lt;ol start=&quot;8&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;more unit tets&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;970c765c8d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:07&lt;/p&gt;
&lt;ol start=&quot;9&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;unit testing&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;52c264222e&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:26:41&lt;/p&gt;
&lt;ol start=&quot;10&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;unit testing continues&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;03a056f6f4&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:26:22&lt;/p&gt;
&lt;ol start=&quot;11&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;2ce29b5d41&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:26:01&lt;/p&gt;
&lt;ol start=&quot;12&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;debug unit_test3 working&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;938d5f7245&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:25:46&lt;/p&gt;
&lt;ol start=&quot;13&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;adding more unit tests&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;00147026a2&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:24:44&lt;/p&gt;
&lt;ol start=&quot;14&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;debug exploring&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;a1b7a02aaf&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 09:09:02&lt;/p&gt;
&lt;p&gt;Time to check these&lt;/p&gt;
&lt;p&gt;Mean &lt;span class=&quot;math&quot;&gt;\[ E(X_t) = \exp \left( - \sum \alpha_i \Delta t_i \right) \left( X_{t_i} + \sum \theta_i \left( e^{\alpha_i t_i}-e^{\alpha_i t_{i-1} } \right) \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Covariances &lt;span class=&quot;math&quot;&gt;\[ \omega = \frac{\sigma^2}{2 \alpha } \left( e^{2\alpha t_i} - e^{2 \alpha t_{i-1}} \right) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \langle x_i, x_i \rangle = \omega \exp( \alpha_i t_i - \alpha_j t_j) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(Note - dates pulled out of html with vim gsub, note that vim needs the parentheses for grouping to be escaped (backwhacked!)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; :&lt;span class=&quot;kw&quot;&gt;%s&lt;/span&gt;/&lt;span class=&quot;kw&quot;&gt;&amp;lt;time.*title&lt;/span&gt;=&lt;span class=&quot;st&quot;&gt;&amp;quot;$.*$&amp;quot;&lt;/span&gt;.*time&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;/\1/g&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: submodels for full traits</title>
	 <link href="/2011/11/28/monday-11.html"/>
   <updated>2011-11-28T11:00:24+00:00</updated>
   <id>/11/28/monday-11</id>
   <content type="html">&lt;h2 id=&quot;two-shifts&quot;&gt;Two shifts&lt;/h2&gt;
&lt;h3 id=&quot;alpha&quot;&gt;alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6036/6419878719_2e7cee4b99_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;sigma&quot;&gt;sigma&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6419877949_4fab63904b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;likelihood&quot;&gt;likelihood&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7025/6419677919_6c5a5ee452_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;pharyngeal-shift&quot;&gt;Pharyngeal shift&lt;/h2&gt;
&lt;h3 id=&quot;alpha-1&quot;&gt;alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7158/6419878253_5c03a39887_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;sigma-1&quot;&gt;sigma&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6420059863_83821a57ed_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;likelihood-1&quot;&gt;likelihood&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7009/6419230695_ab5c45a489_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;intramandibular-shift&quot;&gt;Intramandibular shift&lt;/h2&gt;
&lt;h3 id=&quot;alpha-2&quot;&gt;alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6211/6419877455_0dbff60168_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;sigma-2&quot;&gt;sigma&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7170/6419876967_d785955d96_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;likelihood-2&quot;&gt;likelihood&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7164/6419690343_d921fc12d6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;intramandibular-shift-parrotfish-only&quot;&gt;Intramandibular shift (parrotfish only)&lt;/h2&gt;
&lt;h3 id=&quot;alpha-3&quot;&gt;alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6112/6419878425_80f3297424_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;sigma-3&quot;&gt;sigma&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6091/6419877923_f3819b9979_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;likelihood-3&quot;&gt;likelihood&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7034/6416542987_2ed9f4e0d7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;It seems alpha is often higher in the regime that has a the higher sigma when variance is restricted to sigma. This cannot be right.&lt;/p&gt;
&lt;p&gt;Creating unit tests:&lt;/p&gt;
&lt;p&gt;Sigma behaves correctly in the following way. Simulate data where regimes have different sigmas.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
s1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
s1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; s1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;co&quot;&gt;# Order of entries in sigma is the order regime names are given by levels (alphabetical)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(s1$sigma) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
s1$sigma[&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;01&lt;/span&gt;
s1$sigma[&lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(s1)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
testcase[pharyngeal==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;lowvar
testcase[pharyngeal!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;highvar&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Results check out.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(lowvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.009888678&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(highvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;12.22513&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# and the recovered estimates are pretty close to the underlying simulation parameters&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(s1, testcase)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy$sigma
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.1015016&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;7.6793429&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;      &lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;lowvar indeed has the lower variance (the regime with smaller sigma). And the higher sigma is estimated for the pharyngeal regime (with some expected error: 7.7 instead of 10, and 0.1 instead of 0.01).&lt;/p&gt;
&lt;p&gt;BUT repeat with alpha:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; a1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(a1$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)

&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; a1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(a1$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
a1$alpha[&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;
a1$alpha[&lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e-12&lt;/span&gt;
a1$sigma &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]] &amp;lt;-&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(a1)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
dummy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(a1, dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]])

testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]]
testcase[pharyngeal==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;lowvar
testcase[pharyngeal!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;highvar&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we get&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(lowvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;1.187643&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(highvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.000385144&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy$alpha
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;10.0551960&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;0.2670818&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And the variances are backwards. Note that the parameter estimates reasonably reflect the simulated regimes (other = 10.1, vs 10, intramandibular = 0.27 vs 1e-12).&lt;/p&gt;
&lt;p&gt;How is this possible? The indexing routine is handling the sigma case correctly, and the same code is used to handle the indexing of each.&lt;/p&gt;
&lt;p&gt;Does this have anything to do with the simulation function: No. We can recreate the issue by drawing data as iid variables instead of using the simulation along the tree:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
spec =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#spec = list(alpha=&amp;quot;global&amp;quot;, sigma=&amp;quot;indep&amp;quot;, theta=&amp;quot;global&amp;quot;)&lt;/span&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
## Set the distribution of &amp;quot;other&amp;quot;
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#Set the distribution of the focal trait&lt;/span&gt;
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)

m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;testcase, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;spec)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(m$sigma) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(intramandibular)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(m$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(intramandibular)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The higher alpha is estimated on the regime that has higher variance&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(m$alpha)
intramandibular           other 
      &lt;span class=&quot;fl&quot;&gt;13.121679&lt;/span&gt;        &lt;span class=&quot;fl&quot;&gt;5.981398&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data has higher variance among the intramandibular traits. (same is true for pharyngeal). This problem does not face the sigmas model, hence appears to do with the indexing of alphas somehow.&lt;/p&gt;
&lt;p&gt;Trying direct debug:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
spec =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)

&lt;span class=&quot;co&quot;&gt;# Load internal functions&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;load_all&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;..&amp;quot;&lt;/span&gt;)
data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase
lca &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lca_calc&lt;/span&gt;(tree)
&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(data, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;7&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Looks to be keeping the alpha with sigma at least.&lt;/p&gt;
&lt;p&gt;Check that in global ou mode, smaller alphas fit high variance better: (yup)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# Test of single OU&lt;/span&gt;
test &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
test[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
ou  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;test, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;ou)
test[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;test, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;ou)
m1$alpha &lt;span class=&quot;co&quot;&gt;# larger variance has smaller alpha&lt;/span&gt;
m2$alpha&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;All okay. But compare fits&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# Load internal functions&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;load_all&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;..&amp;quot;&lt;/span&gt;)
data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase
lca &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lca_calc&lt;/span&gt;(tree)

&lt;span class=&quot;co&quot;&gt;# expect higher alpha on &amp;quot;other&amp;quot; (alpha2) to be best, higher on alpha1 is worst&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# BUT NO!&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;1802.169&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;248.6667&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;110821.8&lt;/span&gt;



&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;testcase, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;a1_spec)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1$alpha
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;14.165247&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;6.579535&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-11-28 10:15:00” max_upload_date=“2011-11-28 10:30:20”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Handling other sources of noise</title>
	 <link href="/2011/11/28/handling-other-sources-of-noise.html"/>
   <updated>2011-11-28T09:16:28+00:00</updated>
   <id>/11/28/handling-other-sources-of-noise</id>
   <content type="html">&lt;p&gt;I’m now computing the optimal solution under three sources of noise (compare with my &lt;a href=&quot;http://www.carlboettiger.info/archives/3296&quot;&gt;earlier examples&lt;/a&gt; of calculating the optimal solution assuming only growth noise, but simulating dynamics with other noise sources). See the &lt;a href=&quot;http://www.carlboettiger.info/archives/3313&quot;&gt;statement of problem details&lt;/a&gt;, essentially:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}  \]&lt;/span&gt; s.t. Fish population follows: $ x_t = z_t^g f( x_{t-1} - h_{t-1} ) $ and measured stock is given by: $ m_t = z_t^m x_t $ while harvest is: $ h_t = (x_t, z_t^i q_t) $ Where $ z^g $ denotes uncertainty in population growth, $ z^m $ denotes uncertainty in measurement for the stock assessment, and $ z^i $ denotes uncertainty in harvest implementation. &lt;span class=&quot;math&quot;&gt;\[ m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sethi et al. 2005 (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005).&lt;/p&gt;
&lt;p&gt;Properly, this involves integrating over all three probability distributions&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \int_x^{x+\Delta} dx \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;though as I &lt;a href=&quot;http://www.carlboettiger.info/archives/3325&quot;&gt;noted&lt;/a&gt;, we can ignore integrating over the grid when it is high-resolution, due to the normalization step.&lt;/p&gt;
&lt;p&gt;Still not getting this integral to compute fast enough to do the deterministic calculation of the transition matrix. Meanwhile, I estimate the transition matrix instead by simulating the transition process 999 times. Not fast, but parallelizes easily.&lt;/p&gt;
&lt;h2 id=&quot;comparing-variation-from-noise-sources&quot;&gt;Comparing variation from noise sources&lt;/h2&gt;
&lt;p&gt;Each uses the log-normal distribution with $ = 0.2$. Jake points out economists use the uniform distribution to emphasize the impact of noise as a kind of extreme case (since “realistic” modeling of the noise is a fanciful notion anyhow), so I should probably include that as well. Should also allow more analytic work.&lt;/p&gt;
&lt;h4 id=&quot;noise-in-harvest-implementation-only&quot;&gt;Noise in harvest implementation only&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7149/6387500545_eb5e518dd4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;noise-in-stock-assessment-only&quot;&gt;Noise in stock assessment only&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6387500079_071c824b52_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;noise-in-population-growth-only&quot;&gt;Noise in population growth only&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7013/6387499699_b477b6aa11_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;all-three-sources&quot;&gt;All three sources&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7015/6387499095_cf513cf0df_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: wrightscape, ggplot, wp memory</title>
	 <link href="/2011/11/25/friday-wrightscape-ggplot-wp-memory.html"/>
   <updated>2011-11-25T20:32:59+00:00</updated>
   <id>/11/25/friday-wrightscape-ggplot-wp-memory</id>
   <content type="html">&lt;h2 id=&quot;more-sub-model-comparisons&quot;&gt;more sub-model comparisons&lt;/h2&gt;
&lt;p&gt;wrightscape sub-models:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a1 independent alphas, global theta, sigmas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bm “brownie” (alpha = 0, indep sigmas)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a2 independent alpha, theta, global sigma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;s1 indep sigma, global alpha, theta&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;s2 indep sigma, theta, global alpha&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;basic-nelder-mead&quot;&gt;Basic Nelder Mead&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7142/6402641965_cf632aa2cf_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;simulated-annealing&quot;&gt;Simulated annealing&lt;/h3&gt;
&lt;p&gt;associated parameter estimates&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7015/6403260959_04a0f06d73_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;This approach is really not finding a very robust solution.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6402646435_b77d7d2548_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;plotting-with-stats_summary&quot;&gt;Plotting with stats_summary()&lt;/h2&gt;
&lt;p&gt;Using stats_summary instead of melt and cast computations and line and ribbon geometries for adding statistical layers to plots.  For instance, from plots.R in SDP code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, variable ==&lt;span class=&quot;st&quot;&gt; &amp;quot;unharvested&amp;quot;&lt;/span&gt;),
           &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; L1)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# shows the mean +/i mult * sd , requires Hmisc&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.data =&lt;/span&gt; mean_sdl, &lt;span class=&quot;dt&quot;&gt;geom=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;smooth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mapping=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;mult=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that this needs thee aesthetic mapping (group=1) to know what to do. I’m not clear exactly why.&lt;/p&gt;
&lt;p&gt;Note also that “mult” is an additional option, and is passed to the function, mean_sdl, specifying the multiplier in front of the standard deviation.&lt;/p&gt;
&lt;p&gt;The documentation of possible function definitions in stat_summary aren’t entirely clear. This can take fun.y to apply the function across y values, for instance, to calculate just the mean:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, variable ==&lt;span class=&quot;st&quot;&gt; &amp;quot;unharvested&amp;quot;&lt;/span&gt;),
       &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; L1)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.y =&lt;/span&gt; mean, &lt;span class=&quot;dt&quot;&gt;geom=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;line&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mapping=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we’ve also changed the geometry to line, since we’re not returning ymin/ymax information.&lt;/p&gt;
&lt;p&gt;We could add separate functions for the lower and upper bounds, fun.ymin and fun.ymax instead. Again we’d need a geometry that knew what to do with these – for instance, “smooth” or “errorbar”.&lt;/p&gt;
&lt;p&gt;There’s quite a collection of convenient functions whose wrappers are provided through the package Hmisc, such as the mean_sdl choice shown here, which are illustrated well in the stat_summary examples.&lt;/p&gt;
&lt;h2 id=&quot;wordpress-memory-management&quot;&gt;Wordpress memory management&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/tpc-memory-usage/&quot;&gt;tcp-memory-usage&lt;/a&gt; plugin&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Increased available memory in wp-config.php (&lt;a href=&quot;http://codex.wordpress.org/Editing_wp-config.php&quot;&gt;instructions&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wow, my &lt;a href=&quot;http://support.rstudio.org/help/discussions/problems/1169-installing-server-edition-by-source-on-debian-lenny&quot;&gt;saga continues&lt;/a&gt; for RStudio server running on Debian Lenny…&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting the right distributions</title>
	 <link href="/2011/11/23/getting-the-right-distributions.html"/>
   <updated>2011-11-23T15:43:27+00:00</updated>
   <id>/11/23/getting-the-right-distributions</id>
   <content type="html">&lt;p&gt;Determining the stochastic transition matrix is the essential computational step of SDP solution. If stochasticity enters only in the growth process:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[x_{t+1} = z_t f(x_t) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;\(z_t\)&lt;/span&gt; is a draw from a log-normal density distribution function $  (x; , ) $, then the probability that &lt;span class=&quot;math&quot;&gt;\(x_{t+1}\)&lt;/span&gt; falls within a bin $ [x_i-,x_i+] $ given that at it is currently at &lt;span class=&quot;math&quot;&gt;\(x_t = y\)&lt;/span&gt; is&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P([x_i-\Delta,x_i+\Delta] |y) = \int_{x-\Delta}^{x+\Delta} \log \mathcal{N}(x; \log(f(y)) + \mu, \sigma) dx\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that we are discritizing the transition matrix to a grid of values $ x_i $ at time &lt;span class=&quot;math&quot;&gt;\(t\)&lt;/span&gt; to $ x_j$ at time &lt;span class=&quot;math&quot;&gt;\(t+1\)&lt;/span&gt;, hence the binning question, where $ $ is half the grid bin width.&lt;/p&gt;
&lt;p&gt;Another note: Let us assume z_t is mean unity; only logical for the growth equation. In the case of the log-normal, the parameter $ $ is the log mean, thus: $ z_t =  (x; (1) - ^2/2, ) $.&lt;/p&gt;
&lt;h3 id=&quot;computational-implementation-comparison&quot;&gt;Computational implementation / comparison&lt;/h3&gt;
&lt;p&gt;On a fine grid, this seems to be the same as just evaluating the density at the midpoint and normalizing.&lt;/p&gt;
&lt;p&gt;For instance, we could integrate following the definition above:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
bw &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(x_grid[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# we&amp;#39;ll go from the midpoint&lt;/span&gt;
F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y,h,p)) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_g ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_g)
Prob &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;integrate&lt;/span&gt;(F, x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bw, x +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bw)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] )
Prob/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(Prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which seems to get us the same thing as evaluating the density directly at the midpoint:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
Prob &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y)) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma))
Prob/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(Prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note also that because we’re normalizing, we could just as easily rescaled the state by the mean,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x/&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y), &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/43cb4839d91f6ea310678289dbf6368739f131e3/R/SDP/unit_tests.R&quot;&gt;this example code&lt;/a&gt; (requires my&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ae2bb58ca29339d81e815e032bdffa9f17391b3f/R/SDP/stochastic_dynamic_programming.R&quot;&gt;stochastic_dynamic_programming.R&lt;/a&gt;functions), distributions agree pretty exactly (red and blue distributions overlap exactly to look purple):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7002/6391815985_360cf7c40f_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;adding-additional-sources-of-uncertainty&quot;&gt;Adding additional sources of uncertainty&lt;/h3&gt;
&lt;p&gt;In the above, next year’s population is uncertain but this year’s is known perfectly. Imagine the current value of the stock $x_t $, is a random deviate from the value we measured &lt;span class=&quot;math&quot;&gt;\(m_t\)&lt;/span&gt;, given by the probability density $ P_m(x_t) $, and the harvest level will be a random variate around whatever level we set for the quota, given from the distribution P_q(h). Both of these introduce uncertainty into the expected value of stock next year, &lt;span class=&quot;math&quot;&gt;\(f(x_t,h_t)\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P([x_i,x_i+\Delta] |m_t, q_t) = \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[  \int_x^{x+\Delta} dx  \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Looks like this is gonna be un-pretty. Cubature R package is supposed to handle these higher-dimensional integrals quickly, but no luck. Computation for even a single integral is very slow:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(cubature)
pdf_zg &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, expected) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(expected)-sigma_g^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_g)
pdf_zm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)-sigma_m^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_m)
pdf_zi &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x,q) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(q)-sigma_i^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_i)
F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;pdf_zg&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],x[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;],p))*&lt;span class=&quot;kw&quot;&gt;pdf_zm&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])*&lt;span class=&quot;kw&quot;&gt;pdf_zi&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], q)
&lt;span class=&quot;kw&quot;&gt;adaptIntegrate&lt;/span&gt;(F, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(x_grid[i]-bw,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(x_grid[i]+bw, x_grid[gridsize], h_grid[gridsize]))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(See full example as &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/c6d77e639b9fe4dd575e0b276568815b9b4767ee/R/SDP/unit_test2.R&quot;&gt;unit_test2&lt;/a&gt;)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>some configuration notes: RStudio setup, syntax highlighting in sweave</title>
	 <link href="/2011/11/22/some-configuration-notes-rstudio-setup-syntax-highlighting-in-sweave.html"/>
   <updated>2011-11-22T18:51:19+00:00</updated>
   <id>/11/22/some-configuration-notes-rstudio-setup-syntax-highlighting-in-sweave</id>
   <content type="html">&lt;p&gt;Installing R-Studio on my dreamhost VPS server. Dreamhost runs debian lenny, which is a bit dated, making it necessary to install from source. (Would be easy on a modern ubuntu server). Here we go.&lt;/p&gt;
&lt;p&gt;First, we probably want to install R from source to begin with (Lenny comes with cutting-edge R 2.7.1…). This needs to be done with shared libs enabled. Also I needed to run it without recommended-packages to get the initial install working&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;./configure&lt;/span&gt; --with-recommended-packages=no --enable-R-shlib 
&lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; 
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; make install
&lt;span class=&quot;co&quot;&gt;# now install the shared libs&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; prefix=/path/to/here install-libR
&lt;span class=&quot;co&quot;&gt;# and install the recommended packages &lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;tools/./rsync-recommended&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Patience is required. Increasing memory available during this task by about 400MB (through the dreamhost panel) might be a good idea.&lt;/p&gt;
&lt;p&gt;Rstudio source install uses cmake and packages the dependencies itself, so installation isn’t necessarily intuitive. Note that we will compile dependencies from source included in RStudio, rather than just grabbing libboost-dev over apt-get.&lt;/p&gt;
&lt;p&gt;Download and extract the tarball, and cd into the base rstudio directory. Then install the dependencies – sit tight, this can take a while. Again, the extra 400MB memory helps.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; dependencies/linux/older
&lt;span class=&quot;kw&quot;&gt;./install-boost&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; ../../..
&lt;span class=&quot;kw&quot;&gt;mkdir&lt;/span&gt; build
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; build
&lt;span class=&quot;kw&quot;&gt;cmake&lt;/span&gt; -DRSTUDIO_TARGET=Server -DCMAKE_BUILD_TYPE=Release ..&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Still stuck at this stage. Filed &lt;a href=&quot;http://support.rstudio.org/help/discussions/problems/1169-installing-server-edition-by-source-on-debian-lenny&quot;&gt;help ticket&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Trying out the desktop IDE. Might take a bit to get me to edit code outside of vim though…&lt;/p&gt;
&lt;h2 id=&quot;sweave-documents-with-pretty-formatting-flexible-graphic-layout-and-syntax-highlighting&quot;&gt;Sweave documents with pretty formatting, flexible graphic layout and syntax highlighting&lt;/h2&gt;
&lt;p&gt;Install the package SweaveListingUtils in order to have syntax highlighting in Sweave documents. Requires a few extra commands in the sweave file, see its vignette for details. Here’s a working template combined with the elsarticle class. This also illustrates modifying the footer of elsarticle without changing the class; see my &lt;a href=&quot;http://tex.stackexchange.com/questions/35712/modify-footer-used-by-elsarticle-cls/35714#35714&quot;&gt;tex-overflow&lt;/a&gt; question.&lt;/p&gt;
&lt;p&gt;[gist id=1387759]&lt;/p&gt;
&lt;h3 id=&quot;latex-equations-in-r-plots&quot;&gt;Latex equations in R plots&lt;/h3&gt;
&lt;p&gt;The plotmath syntax can be annoying. If you’re willing to restrict your device output to generating tex files that you then run pdflatex on for pdf graphics, you can get around this nicely with tikzDevice package. See &lt;a href=&quot;stackoverflow.com/questions/8190087/italic-greek-letters-latex-style-math-in-r-plot-titles-with-ggplot/&quot;&gt;stackoverflow&lt;/a&gt; answers.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Google tasks in my system tray? Nope. Apparently this used to be &lt;a href=&quot;http://namsisi.wordpress.com/2009/02/22/gmail-tasks-in-your-ubuntu-system-tray/&quot;&gt;possible&lt;/a&gt; with &lt;a href=&quot;http://prism.mozillalabs.com/&quot;&gt;prism&lt;/a&gt;, a mozillalabs project to allow web applications to run natively in the desktop ((ironically the opposite direction from google’s chrome-os and the direction of mobile developers)). The project is no longer supported but &lt;a href=&quot;http://mozillalabs.com/blog/2011/02/prism-is-now-chromeless/&quot;&gt;will be replaced&lt;/a&gt; by chromeless, a more ambitious version which is still pre-alpha.&lt;/p&gt;
&lt;p&gt;Eventually should learn to use google+. Looks like I need to spend some time organizing circles. seems like having separate accounts (e.g. facebook for friends/personal stuff, twitter for professional) is much easier. too lazy to use facebook already.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/11/18/friday-7.html"/>
   <updated>2011-11-18T17:32:00+00:00</updated>
   <id>/11/18/friday-7</id>
   <content type="html">&lt;p&gt;Connecting weather fluctuations to trends in climate: should really consider replicating (Min &lt;em&gt;et. al.&lt;/em&gt; 2011) and (Pall &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;p&gt;Ooh.. David’s Nature Climate paper (McCollum &lt;em&gt;et. al.&lt;/em&gt; 2011).  (Does UC Davis really not have access to this journal?)&lt;/p&gt;
&lt;p&gt;Sebastian mentioned his advisor’s work on&lt;a href=&quot;http://www.youtube.com/watch?v=R_w4HYXuo9M&quot;&gt;inverting the sphere without creating a fold&lt;/a&gt;, including a proof through a series of physical models made with chickenwire.  Math is crazy.&lt;/p&gt;
&lt;p&gt;Reviewing Sebastian’s manuscript on stochastic sinks at lab meeting.  Clear writing and one of my favorite cocktail-party results - persistence of coupled sink habitats.  A must read.&lt;/p&gt;
&lt;p&gt;** Integrating the densities instead of simulating probability distributions for the stochastic population dynamics would make the most sense.  Extra noise terms involve high-dimensional intergrals, consider the &lt;a href=&quot;http://ab-initio.mit.edu/wiki/index.php/Cubature&quot;&gt;cubature&lt;/a&gt; R package.&lt;/p&gt;
&lt;p&gt;Excellent lab group meeting given by Jamie today, population genetics results with red noise, extinction results.  Reminded me of my NSF proposal, see&lt;a href=&quot;http://www.carlboettiger.info/archives/2699&quot;&gt;classic red noise results&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/ajaxplorer/public/a048f2146403c451d9d4e6de8db2b038.php&quot;&gt;NSF proposal.&lt;/a&gt;, and&lt;a href=&quot;http://www.carlboettiger.info/archives/3135&quot;&gt;this calculation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Progress on &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/pollen/readme_pollen.txt&quot;&gt;pollen data&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Min S, Zhang X, Zwiers F and Hegerl G (2011). “Human Contribution to More-Intense Precipitation Extremes.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;470&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09763&quot;&gt;http://dx.doi.org/10.1038/nature09763&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pall P, Aina T, Stone D, Stott P, Nozawa T, Hilberts A, Lohmann D and Allen M (2011). “Anthropogenic Greenhouse Gas Contribution to Flood Risk in England And Wales in Autumn 2000.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;470&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09762&quot;&gt;http://dx.doi.org/10.1038/nature09762&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McCollum D, Krey V and Riahi K (2011). “an Integrated Approach to Energy Sustainability.” &lt;em&gt;Nature Climate Change&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1758-678X, &lt;a href=&quot;http://dx.doi.org/10.1038/nclimate1297&quot;&gt;http://dx.doi.org/10.1038/nclimate1297&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Steve Pacala - Storer lecture</title>
	 <link href="/2011/11/17/steve-pacala-storer-lecture.html"/>
   <updated>2011-11-17T23:16:30+00:00</updated>
   <id>/11/17/steve-pacala-storer-lecture</id>
   <content type="html">&lt;p&gt;Excellent visit from a former advisor, Steve Pacala, at Davis for a Storer lecture.&lt;/p&gt;
&lt;h2 id=&quot;seminar&quot;&gt; Seminar&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;atmospheric CO2 is roughly half CO2 production, rest is being mitigated by the natural carbon sink&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carbon sink is half ocean, half terrestrial&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A grim future:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;450ppm not feasible&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;500ppm best case&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;550ppm is likely even if we are largely successful&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Even worse if the terrestrial sink collapses.  Will it?  Discussion of GCM models.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s no reason to trust these models - and I make them. - 100’s of free parameters. This is the nature of an ecological crisis. the policy world needs an answer. the science isn’t ready, and that’s just tough.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Current climate models predict collapse of sink due to carbon enrichment going mostly into fine roots, rather than more lasting trunks.  These disagree with the FACE experiments at Duke manipulating the carbon enrichment of trees empirically.  Current carbon methods scale the leaf to the globe, and have forgotten the lesson of &lt;strong&gt;Gersani’s soybeans&lt;/strong&gt; (Gersani &lt;em&gt;et. al.&lt;/em&gt; 2001). Steve elegantly summarized:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nature isn’t a meritocracy. it’s more like an sat test where you can also kick people in the face.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Next is a beautiful recap of approximating the individual-based simulation forest SORTIE models into the analytically tractable PPA model with hopes that this can scale to the global scale, wonderfully described in Purves et al (Purves &lt;em&gt;et. al.&lt;/em&gt; 2008), which I cut my teeth on &lt;a href=&quot;http://www.mendeley.com/download/public/98752/3107796981/f36faf01ce5eefa266480067793881530f212fea/dl.pdf&quot;&gt;as an undergraduate&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;What follows next is upcoming insights from his grad student Caroline Farrior and others on root-shoot competition that may resolve the FACE/GCM paradox. (unpublished, no notes here yet).&lt;/p&gt;
&lt;h2 id=&quot;speaker-dinner&quot;&gt;Speaker dinner&lt;/h2&gt;
&lt;p&gt;Perhaps the best part of the Storer lectures is the session after dinner where the guest is invited to expound upon any topic of interest and controversy. Sometimes this feels like roasting the guest, but tonight it was more the other way around.  Steve reminded us of the poor state of science recognition in the country (most Americans cannot name a single scientific agency they trust – a few come up with NASA, and a few with CDC, and no one has heard of the National Academy).  He then challenged us to answer what we were doing about it, and shared some insights from their work at &lt;a href=&quot;http://www.climatecentral.org/&quot;&gt;Climate Central&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After much study, their team has decided that Americans trust local weather media anchor the most of almost any authority, and tend to turn to this source particularly during extreme weather events.  These anchors are well rewarded for this trust as some of the best paid media positions, making some $2e6 a year.  Couple this with two other key observations: (1) during a weather crisis, people are most receptive to ideas about climate change (Hurricane Katrina is perhaps the best example); and (2) these anchors &lt;em&gt;love&lt;/em&gt; discussing data on climate change during these events.&lt;/p&gt;
&lt;p&gt;The latter surprised me – anyone else trying to get trust of the public avoids controversial topics.  But for the local weather anchor, this lets them say things like “the heat waves this summer are twice as frequent as the heat waves our grandfathers in this town experienced.”  It gives them something to talk about, and it gives their viewers something to talk about, call in, and post on their blogs, driving up their ratings.&lt;/p&gt;
&lt;p&gt;The facts are there. (Pacala even observed that the US military uses a moving-average weather model to get accurate forecasts because they just couldn’t get accurate predictions in combat areas without building climate change into their models). To sway the American public, we just need to get the current conditions compared to historical conditions, wait for the next extreme weather, and demonstrate it’s a statistical outlier, and get the data into the hands of the local weather news anchors.  Everywhere in the US.&lt;/p&gt;
&lt;p&gt;Pacala didn’t get much push back on this, though the connection of extreme weather and climate is of course not the favorite tack of scientific community.  It was only&lt;a href=&quot;http://www.nature.com/news/2011/110907/full/477148a.html&quot;&gt;this September&lt;/a&gt;that &lt;em&gt;Nature&lt;/em&gt; ran a series of pieces putting this forward seriously(Schiermeier, 2011) - the articles and comments make great reading.&lt;/p&gt;
&lt;h2 id=&quot;meeting&quot;&gt;Meeting&lt;/h2&gt;
&lt;p&gt;Discussion of warning signals and potential data sets, particularly for spatial systems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Black hawk island - spatial waves in tree dynamics between maples (improve soil strategy) and spruce (degrade soil strategy).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Varve lake pollen deposits – very rich history.  Suggested a European database and US database, still trying to track these down. The &lt;a href=&quot;http://www.europeanpollendatabase.net/&quot;&gt;European&lt;/a&gt; one?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gersani M, Brown J, O’Brien E, Maina G and Abramsky Z (2001). “Tragedy of The Commons as A Result of Root Competition.” &lt;em&gt;Journal of Ecology&lt;/em&gt;, &lt;strong&gt;89&lt;/strong&gt;. ISSN 0022-0477, &lt;a href=&quot;http://dx.doi.org/10.1046/j.0022-0477.2001.00609.x&quot;&gt;http://dx.doi.org/10.1046/j.0022-0477.2001.00609.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Purves D, Lichstein J, Strigul N and Pacala S (2008). “Predicting And Understanding Forest Dynamics Using A Simple Tractable Model.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0807754105&quot;&gt;http://dx.doi.org/10.1073/pnas.0807754105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schiermeier Q (2011). “Climate And Weather: Extreme Measures.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;477&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/477148a&quot;&gt;http://dx.doi.org/10.1038/477148a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>wrightscape and sensitivity to initial conditions</title>
	 <link href="/2011/11/17/wrightscape-and-sensitivity-to-initial-conditions.html"/>
   <updated>2011-11-17T23:08:14+00:00</updated>
   <id>/11/17/wrightscape-and-sensitivity-to-initial-conditions</id>
   <content type="html">&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6236/6355255495_9e411fa96e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Seems ouma performs poorly, though the sign of the effect seems correct. Starting conditions cause this.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6102/6355521393_87bb3660bc_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6216/6355521309_56d048c641_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Even starting conditions: improves the fit and flips the sign of the result.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6111/6355669139_71c319e27f_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6037/6355606159_9e1c68d77a_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;More parameters: &lt;img src=&quot;http://farm7.staticflickr.com/6019/6355483585_2f66181ff2_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;addendum&quot;&gt;addendum&lt;/h3&gt;
&lt;p&gt;Longer runs using simulated annealing can still get stuck.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6052/6384795655_a51d85a30a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6384795737_4923194030_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Tues: Sources of stochastic variation in optimal control</title>
	 <link href="/2011/11/15/tuesday-10.html"/>
   <updated>2011-11-15T23:28:14+00:00</updated>
   <id>/11/15/tuesday-10</id>
   <content type="html">&lt;p&gt;Adding stochasticity seems to have a small history.&lt;/p&gt;
&lt;p&gt;Reed 1979 Reed, 1979 Uncertainty in &lt;em&gt;next year’s stock&lt;/em&gt;, “growth uncertainty” at the time of determining harvest. Constant escapement policy, no chance of extinction.&lt;/p&gt;
&lt;p&gt;Clark &amp;amp; Kirkwood 1986 Clark &amp;amp; Kirkwood, 1986 Uncertainty in &lt;em&gt;this year’s stock&lt;/em&gt;, “measurement uncertainty” when determining harvest.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pnas.org/content/93/10/5078.short&quot;&gt;Roughgarden &amp;amp; Smith (1996)&lt;/a&gt; consider both, and add uncertainty in harvest. Sethi et al. 2005 (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005) consider the economist’s optimization of this.&lt;/p&gt;
&lt;h3 id=&quot;statement-of-problem&quot;&gt;Statement of problem&lt;/h3&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}  \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;s.t. Fish population follows: $ x_t = z_t^g f( x_{t-1} - h_{t-1} ) $ and measured stock is given by: $ m_t = z_t^m x_t $ while harvest is: $ h_t = (x_t, z_t^i q_t) $&lt;/p&gt;
&lt;p&gt;Where $ z^g $ denotes uncertainty in population growth, $ z^m $ denotes uncertainty in measurement for the stock assessment, and $ z^i $ denotes uncertainty in harvest implementation. Note we ignore the profit function for the moment and just maximize infinite-horizon harvest.&lt;/p&gt;
&lt;p&gt;From this we must set up the stochastic transition matrix. Instead of defining this over the known current stock values $x_t $ as we did before, our decision state-space is defined over the measured values $ m_t $, which is given by:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The trick here is assigning the probability distribution on $ m_t $. Otherwise the optimization proceeds as before with the modified stochastic transition matrix. Sethi et al., and Clark &amp;amp; Kirkwood choose uniform random variables over given intervals for each, which seems like a rather strange choice. Reed 1979 uses a normal distribution.&lt;/p&gt;
&lt;p&gt;Have implemented a general simulation-based approach to generate the stochastic transition matrix for arbitrary distribution shapes for $ z_t^g $, $ z_t^m $, $ z_t^i $.&lt;/p&gt;
&lt;h3 id=&quot;further-topics&quot;&gt;Further topics&lt;/h3&gt;
&lt;p&gt;(parameter uncertainty - more extensive literature)&lt;/p&gt;
&lt;p&gt;(modified to be effort-based. Explore with an allee effect).&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Completed review for THEE.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;on Uncertain Renewable Resource Stocks: Optimal Harvest Policies And The Value of Stock Surveys, Colin W. Clark, Geoffrey P. Kirkwood, (1986) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-0696(86)90024-0&quot;&gt;10.1016/0095-0696(86)90024-0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-0696(79)90014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>non-optimal outcomes of optimal solutions</title>
	 <link href="/2011/11/13/non-optimal-outcomes-of-optimal-solutions.html"/>
   <updated>2011-11-13T00:54:39+00:00</updated>
   <id>/11/13/non-optimal-outcomes-of-optimal-solutions</id>
   <content type="html">&lt;p&gt;I consider the optimal stochastic-dynamic programming solution for the model specified with known stochasticity in population dynamics, but now vary the actual simulated dynamics to include further uncertainty or error not included in the optimal solution in different ways. In some way this is an “unfair” analysis, as I really should be solving for the optimal solution in light of the fully uncertain space, but in practice this at least serves as a sensitivity analysis to the assumptions that certain quantities are perfectly known. I consider several scenarios below.&lt;/p&gt;
&lt;h3 id=&quot;parameter-value-misspecification&quot;&gt;Parameter value misspecification&lt;/h3&gt;
&lt;p&gt;Has essentially no impact on extinction risk on models without allee effects, but dramatic impact of 5% overestimate in a parameter. Many optimally managed populations crash, compare to very few crashes of the same dynamics in unharvested scenario:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/6339141969_0ff1be1d6a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6339892296_18a8e5a0db_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;uncertainty-in-harvest-and-stock&quot;&gt;Uncertainty in harvest and stock&lt;/h3&gt;
&lt;p&gt;Doing optimal management that accounts for stock growth uncertainty but not harvest uncertainty or stock assessment uncertainty. Large stock assessment uncertainty can crash even the non-allee Beverton-Holt model.&lt;/p&gt;
&lt;h4 id=&quot;risk-of-ignoring-stock-assessment-uncertainty&quot;&gt;Risk of ignoring stock-assessment uncertainty&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6339956972_10d3a84497_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Will need to account for these uncertainties in the optimal solution. Increasing noise in the population dynamics (which the optimal solution is compensating for) can compensate for this, and additional stock assessment noise doesn’t do much additional damage:&lt;/p&gt;
&lt;h4 id=&quot;unaccounted-for-uncertainty-can-have-little-impact-when-smaller-than-the-accounted-for-sources&quot;&gt;Unaccounted-for uncertainty can have little impact when smaller than the accounted-for sources&lt;/h4&gt;
&lt;h4 id=&quot;section&quot;&gt;&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6339968498_c715285c49_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;including-policy-limitations&quot;&gt;including policy limitations&lt;/h3&gt;
&lt;p&gt;Consider performing the stock assessment and updating the harvest quota (according to the optimal management solution) every four years. Note this is suboptimal as the optimization assumed updating every year was possible.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6345350242_8b11b20f21_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6114/6345352340_8394155570_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;further-simple-examples&quot;&gt;further simple examples&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should consider annually adjusted quotas based on projected stock assessment. Compare to fixed quota calculated for a 4-yr interval between assessments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Slower-responding policy variable?  cost to changing fishing effort?  differential cost to increase vs decrease effort?  differing timescales?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should add plots to compare profits associated with different perturbations&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;varying-the-cost-of-extinction&quot;&gt;Varying the cost of extinction&lt;/h3&gt;
&lt;p&gt;This one is a bit different then the uncertainty experiments. Since the population can crash, we can consider a penalty for crashing the population by offering a reward for meeting the boundary condition. In the deterministic (or nearly deterministic) case, this condition is always satisfied. In the very stochastic case, the optimal solution accepts some probability of not satisfying the boundary condition in return for a greater harvest reward.&lt;/p&gt;
&lt;p&gt;Dramatically (100x) increasing reward for meeting boundary condition at or above allee threshold can decrease crashes even in spite of model parameter misspecification (5% lower growth, as above):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6111/6339906744_b68e322437_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Direct (but finite) cost penalty on extinction, vs adjusting reward for meeting boundary condition? How is this implemented?&lt;/p&gt;
&lt;h3 id=&quot;learning-adaptive-management&quot;&gt;Learning &amp;amp; adaptive management&lt;/h3&gt;
&lt;h2 id=&quot;readingrefs&quot;&gt;Reading/Refs&lt;/h2&gt;
&lt;p&gt;Working through Sethi et al, “Fishery Management Under Multiple Uncertainty,” (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wainwright Retreat to Hastings Reserve</title>
	 <link href="/2011/11/12/of-labrids-and-dubious-convergence.html"/>
   <updated>2011-11-12T21:36:51+00:00</updated>
   <id>/11/12/of-labrids-and-dubious-convergence</id>
   <content type="html">&lt;p&gt;Two-day mini conference with Wainwright lab, Mike Alfaro lab, Rita Mehta lab, Tim Higham lab at the Hastings reserve, with everyone (about 30 of us) presenting, and discussions on convergence and on modularity.&lt;/p&gt;
&lt;h2 id=&quot;more-labrid-trait-evolution&quot;&gt;more labrid trait evolution&lt;/h2&gt;
&lt;p&gt;alpha &amp;amp; sigma models on two shifts, not converged runs.  should really consider the mcmc or at least simulated annealing.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6103/6334250289_993e6d5ffb_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Peter proposes looking at model adequacy by deviance of a observed traits from what is expected under the model (by replicate simulations).  Added a little function to do this for my wrightscape fits.  Blue: less than 1 sd, green 1-2 sd, orange 2-3, &amp;gt;3 red:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6108/6339237621_9b300c2a42_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# create a colorcoded plot of how well each tip is fitting it&amp;#39;s predicted value&lt;/span&gt;
tip_plot &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(modelfit, &lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, ...){
  dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;modelfit$data
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;modelfit$tree

  reps &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n, function(i) &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(modelfit)))

  m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rowMeans&lt;/span&gt;(reps)
  sder &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;dim&lt;/span&gt;(reps)[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]), function(i) &lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(reps[i,]))
  colorcode &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;orange&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;green&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;blue&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;red&amp;quot;&lt;/span&gt;
  tr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;convert&lt;/span&gt;(tree, colorcode)

  col &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr$regimes[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tr$regimes)]
  &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(tr, ...)
  &lt;span class=&quot;kw&quot;&gt;tiplabels&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;col, &lt;span class=&quot;dt&quot;&gt;pch=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;19&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tr, &lt;span class=&quot;dt&quot;&gt;tipcolors=&lt;/span&gt;col)
}&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;community-phylo-exploration&quot;&gt;Community Phylo exploration&lt;/h3&gt;
&lt;p&gt;Based on a question from Jonathan Chang’s presentation; we work this out during the break: Evolutionarily-motivated models for null models for community phylogenetics:&lt;/p&gt;
&lt;p&gt;picante, distribution of distance-based clustering summary-statistics: &lt;strong&gt;mntd, mpd. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Simulate data under the evolutionary transition rate model.  Estimate the summary statistic on this data.  Bootstrap the estimate over the discrete trait simulations.  Not significant:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6338897429_4815f01abc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Compare to null distributions from the picante methods (run with ses.mntd, ses.mpd): for instance: p = 0.07 according to ses.mntd on this model.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/11/10/thursday-12.html"/>
   <updated>2011-11-10T17:36:48+00:00</updated>
   <id>/11/10/thursday-12</id>
   <content type="html">&lt;p&gt;Forage Fish dynamics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Forage fish consumption: who consumes, how important is it. e.g. Africa imports more quantity of fish, but of low value. net exports based on value.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;food security / undernourished regions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;forage fish substitutable? Study in Asia: Pretty inelastic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;income elasticity vs wealth elasticity (not a real difference. but patterns of consumption of a rich person aren’t same as poor person with a windfall, e.g. income != wealth)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Is converting forage fishery to direct consumption the best approach to malnourished (direct consumption raises value? – when is that even possible? technological limitation? how about policy?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alaska Halibut - regulation was derby-based, all fishing was done in 2 24 hr windows, had to freeze it. Regulation switched to ITQ, and now fished over longer time and could sell fresh.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;but fishmeal is elevating prices? - economics may not play out. other demand - vitamins, pet food, bait? elastic/substitutable?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tim: lobster fishing in Maine act like aquaculture - bait is the major food source, and the population is much larger than natural size.  – regulation is like a marine fishery though.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Auteur plots for reef fish jaws and monkey brains -- needs tweaking</title>
	 <link href="/2011/11/10/auteur-plots-for-reef-fish-jaws-and-monkey-brains-needs-tweaking.html"/>
   <updated>2011-11-10T17:22:17+00:00</updated>
   <id>/11/10/auteur-plots-for-reef-fish-jaws-and-monkey-brains-needs-tweaking</id>
   <content type="html">&lt;p&gt;Looking at the diversification patterns from Auteur.  Longer rjmcmc runs aren’t showing a significant difference, but more attention needed in parameters such as initial merge-split probability perhaps?  Seems to overestimate the change points.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6033/6333499476_06c5674425_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6235/6327052959_473815cc4d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6105/6332213939_5c0707a26d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6327078803_4b6dd1cc44_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Remains true for the primate brains example:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6322815367_6a796cd607_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Set up to run on carver cluster, copy over the saved rda file and all files matching the random string already saved as outputs.  Full labrid example on 20 cores still exceeds the allocation capacity for an R vector.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Note on the x-axis scale - often isn’t autoscaled, but providing the appropriate a range to xlim (matching max branch length) can fix this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cannot figure out how to increase the fontsize of species names - cex or pointsize for png output both only seem to increase fontsize for the legends, etc.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Parallel hpc on clusters in R, MPI</title>
	 <link href="/2011/11/10/parallel-computing-on-clusters-in-r-mpi.html"/>
   <updated>2011-11-10T16:49:17+00:00</updated>
   <id>/11/10/parallel-computing-on-clusters-in-r-mpi</id>
   <content type="html">&lt;p&gt;Some notes for reference on parallel computing strategies on R with dedicated high performance clusters.&lt;/p&gt;
&lt;h2 id=&quot;parallelization-in-r&quot;&gt;parallelization in R&lt;/h2&gt;
&lt;p&gt;For cluster computing in R, I’ve found the “snow” package with MPI to be the most flexible and robust solution. snowfall is a useful package to use multiple cores on a single processor, but requesting all 16 threads on a node is a much more difficult demand for the queue to fill than 16 threads on all nodes. Requesting more nodes is sometimes useful simply to have more memory, and also to take advantage of the communication speed between nodes.&lt;/p&gt;
&lt;p&gt;Regardless, parallelization across a cluster in R requires: (1) initializing the cluster, (2) export library, variables and functions, (3) execute a parallelized apply command.&lt;/p&gt;
&lt;p&gt;Illustrating a couple different approaches:&lt;/p&gt;
&lt;p&gt;[gist id=1356682]&lt;/p&gt;
&lt;h2 id=&quot;working-with-the-queue&quot;&gt;Working with the queue&lt;/h2&gt;
&lt;p&gt;Writing a shell script for NERSC’s &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/carver/getting-started/&quot;&gt;Carver&lt;/a&gt;, (IBM iDataPlex). Note the commands that begin #PBS look to be commented out but are really preprocessor commands used to set up the queue before the actual bash commands are run. Using double hashes to distinguish true comments. Writing shell script for &lt;a href=&quot;http://cccc.caes.ucdavis.edu/&quot;&gt;Farm cluster&lt;/a&gt;, CentOS5.5, syntax differs a bit.&lt;/p&gt;
&lt;p&gt;[gist id=1356685]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;qsub run.sh (submits the shell script to the queue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qstat - u username (status)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qdel (removes item from queue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qlogin (on farm, log into a computational node for some quick testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;nersc-particulars&quot;&gt;NERSC particulars&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Great information on &lt;a href=&quot;http://www.nersc.gov/systems/&quot;&gt;NERSC systems&lt;/a&gt; and tutorials on their website.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get an &lt;a href=&quot;https://www.nersc.gov/users/accounts/allocations/&quot;&gt;allocation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://shib.nersc.gov/idp/Authn/UserPassword&quot;&gt;log in&lt;/a&gt;, &lt;a href=&quot;https://www.nersc.gov/users/my-nersc-2/&quot;&gt;My NERSC Dashboard&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;authentication&quot;&gt;Authentication&lt;/h2&gt;
&lt;p&gt;Should summarize setting up RSA authentication keys, meanwhile see &lt;a href=&quot;https://help.ubuntu.com/community/SSH/OpenSSH/Keys&quot;&gt;ubuntu reference&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See notes on &lt;a href=&quot;http://www.carlboettiger.info/archives/2133&quot;&gt;Segue&lt;/a&gt; for Computing on Amazon clusters.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Crashing stocks and optimal harvesting effort on Allee effects</title>
	 <link href="/2011/11/09/crashing-stocks-and-optimal-harvesting-effort-on-allee-effects.html"/>
   <updated>2011-11-09T23:34:48+00:00</updated>
   <id>/11/09/crashing-stocks-and-optimal-harvesting-effort-on-allee-effects</id>
   <content type="html">&lt;h2 id=&quot;modeling-choices&quot;&gt;Modeling choices&lt;/h2&gt;
&lt;p&gt;Allee effect model: Myers Beverton-Holt with harvesting-effort mortality:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = f(x) = \frac{a x_t^{\alpha}}{1+ x_t^{\alpha}/b} - e x \]&lt;/span&gt; For $ = 2 $, equilibrium points are $ x = 0 $ and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ x = \frac{ab}{2(1+e)} \pm \frac{1}{2} \sqrt{ \left(\frac{ab}{1+e}\right)^2-4b } \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As written this differs from our earlier solutions a couple respects – the growth function applies to the unharvested population, which then experiences harvesting mortality, and the control variable is fishing effort, not harvest.&lt;/p&gt;
&lt;p&gt;We have a bifurcation point induced by increasing effort when &lt;span class=&quot;math&quot;&gt;\[  \left(\frac{ab}{1+e}\right)^2-4b  = 0 \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[  e^* = \frac{a\sqrt{b}-2}{2}   \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Implementing this (see &lt;a href=&quot;http://www.carlboettiger.info/archives/3176&quot;&gt;earlier notes&lt;/a&gt; for implementation) in stochastic optimal control, we see that we now harvest continuously, not just when population exceeds Reed’s S escapement level (black line, defined in this context as the highest value of the population size at which we do not harvest). More to the point, note that we often but not always apply an effort (green path) that exceeds $ e^* $, (dotted green line).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6060/6329889835_0e813113d7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Despite this, crashes are not that common. We observe 18/100 populations that crash:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6050/6331684019_8ec10867dc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The population dynamics under optimal harvesting for the 100 replicates are shown as black lines, with the overall average trend (light blue line) and standard deviation (blue ribbon) overlaid. A few population crashes can be seen. The black dotted line indicates the allee threshold - note that we see a few populations that are stochastically rescued from below this threshold.&lt;/p&gt;
&lt;p&gt;The green lines shows the harvesting effort (mean and sd shown in the ribbon as before). Note the occasional spikes in harvest effort matching populations that dip below the (unharvested) Allee threshold - with the current profit/cost model it’s worth fishing these out as fast as possible.&lt;/p&gt;
&lt;p&gt;The most interesting observation is the dashed green line – the tipping point at which effort destroys the stable point. Harvesting at that level, the only stable point in the system is extinction - but because it is the control variable, it can simply be relaxed next year, allowing the population to recover (as long as the current population isn’t below the allee threshold). Note that on average the effort stays below this level.&lt;/p&gt;
&lt;h3 id=&quot;data-sources&quot;&gt;Data sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://seaaroundus.org/lme/13/1.aspx&quot;&gt;Humboldt&lt;/a&gt; (Peruvian) Anchoveta&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://seaaroundus.org/lme/9/1.aspx&quot;&gt;Scotian&lt;/a&gt; Cod (&amp;amp; &lt;a href=&quot;http://seaaroundus.org/lme/9/11.aspx&quot;&gt;value&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.st.nmfs.noaa.gov/st1/commercial/landings/annual_landings.html&quot;&gt;NOAA data annual landings&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;some-references-for-fisheries-collapse&quot;&gt;some references for fisheries collapse&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dynamics of collapse (Mullon &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unexpected collapse (Pinsky &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Collapses: stock assessment vs catch (BRANCH &lt;em&gt;et. al.&lt;/em&gt; 2011) (uses the NOAA data above)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extinction vulnerability (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extinction vulnerability in Coral reef fishes (Graham &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pdg-control-updates&quot;&gt;pdg-control updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;update sent to Michael&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List of some next steps for pdg-control Training problem II on the &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;github Issues tracker&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mullon C, Freon P and Cury P (2005). “The Dynamics of Collapse in World Fisheries.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1467-2979.2005.00181.x&quot;&gt;http://dx.doi.org/10.1111/j.1467-2979.2005.00181.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pinsky M, Jensen O, Ricard D and Palumbi S (2011). “Unexpected Patterns of Fisheries Collapse in The World’S Oceans.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1015313108&quot;&gt;http://dx.doi.org/10.1073/pnas.1015313108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BRANCH T, JENSEN O, RICARD D, YE Y and HILBORN R (2011). “Contrasting Global Trends in Marine Fishery Status Obtained From Catches And From Stock Assessments.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2011.01687.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2011.01687.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Graham N, Chabanet P, Evans R, Jennings S, Letourneur Y, Aaron MacNeil M, McClanahan T, Öhman M, Polunin N and Wilson S (2011). “Extinction Vulnerability of Coral Reef Fishes.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01592.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01592.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>SDP solution for allee model</title>
	 <link href="/2011/11/08/sdp-solution-for-allee-model.html"/>
   <updated>2011-11-08T12:40:31+00:00</updated>
   <id>/11/08/sdp-solution-for-allee-model</id>
   <content type="html">&lt;p&gt;Summarizing efforts from last few days setting up and running some stochastic dynamic programming optimization problems. As we are focusing on discrete time at the moment, these problems are solved by Bellman’s equation (don’t need Hamilton-Jacobi-Bellman formulation).&lt;/p&gt;
&lt;h3 id=&quot;problem-statement&quot;&gt;Problem Statement&lt;/h3&gt;
&lt;p&gt;Choose the harvest level to optimize the profit &lt;span class=&quot;math&quot;&gt;\[ \max_h \sum_{t=0}^T \beta^t \pi(x,h,t) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Subject to the boundary conditions &lt;span class=&quot;math&quot;&gt;\(X(0) = X_0, X(T) = X_T\)&lt;/span&gt; and the state equation: &lt;span class=&quot;math&quot;&gt;\[ X(t+1) = Z(t) f(X(t)) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;\(Z(t)\)&lt;/span&gt; is a normal random variable with mean unity and standard deviation &lt;span class=&quot;math&quot;&gt;\(\sigma\)&lt;/span&gt;.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-transition-matrices&quot;&gt;Stochastic Transition Matrices&lt;/h3&gt;
&lt;p&gt;The problem is discrete in time, but we must still discritize the state and control variables. We define the state (population abundance) to assume only the values on a grid of size &lt;span class=&quot;math&quot;&gt;\(N\)&lt;/span&gt;. In general the control variable could be defined on a separate grid (for instance, if we used effort-control) but as harvest is in the same units as the state variable (number of fish), we can use the same grid.&lt;/p&gt;
&lt;p&gt;The transition matrix $ maps all states &lt;span class=&quot;math&quot;&gt;\(x_i\)&lt;/span&gt; to all other states &lt;span class=&quot;math&quot;&gt;\(x_j\)&lt;/span&gt; by their transition probabilities through the state equation: &lt;span class=&quot;math&quot;&gt;\[ P(x_j | x_i ) = \mathcal{N} \text{lognormal}\left( \frac{x_j}{f(x_i-h)}, \sigma \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;\(\mathcal{N}\)&lt;/span&gt; is just a normalization, &lt;span class=&quot;math&quot;&gt;\(\mathcal{N} = \sum_j P(x_j | x_i) = 1\)&lt;/span&gt;. Note that the state equation is computed on the post-havest population &lt;span class=&quot;math&quot;&gt;\(x_i - h\)&lt;/span&gt;, and hence a different matrix is produced for each possible value of &lt;span class=&quot;math&quot;&gt;\(h\)&lt;/span&gt; (for the moment we ignore the possibility that this function may vary explicitly with time as well, which would further increase the memory needed).&lt;/p&gt;
&lt;p&gt;The stochastic dynamic programming solution just implements Bellman’s equation: &lt;span class=&quot;math&quot;&gt;\[ V_{t} = \max_h \left( \mathbf{T}_h V_{t+1} + \pi(x_t, h_t) e^{-\delta (T-t)} \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We begin with some final value &lt;span class=&quot;math&quot;&gt;\(V_T\)&lt;/span&gt; a vector of the “scrap” value of each possible end state. For instance, we can offer a fixed profit for all states above &lt;span class=&quot;math&quot;&gt;\(X_T\)&lt;/span&gt;, and nothing otherwise. We then just iterate backwards, at each time-point trying all possible h values in the grid (from our set of transition matrices &lt;span class=&quot;math&quot;&gt;\(\mathbf{T}_h\)&lt;/span&gt; ) and selecting the best harvest level for each possible system state &lt;span class=&quot;math&quot;&gt;\(x_t\)&lt;/span&gt;. Note this differs a bit from the way the boundary conditions are enforced in the deterministic continuous time case, and the exact value we put here may make a difference in different stochastic realizations.&lt;/p&gt;
&lt;h3 id=&quot;implementation&quot;&gt;Implementation&lt;/h3&gt;
&lt;p&gt;This is implemented in matlab code in the functions: &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/determine_SDP_matrix.m&quot;&gt;determine_SPD_matrix.m&lt;/a&gt;, &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/6fe3bef84398b7358c6abc8240adaf6918ab3057/matlab/find_dp_optim.m&quot;&gt;find_dp_optim.m&lt;/a&gt;, using population dynamics and profit model specified in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/Reed_SDP.m&quot;&gt;Reed_SDP.m&lt;/a&gt;. We can then simulate under the state equation, and apply the optimal solution (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/ForwardSimulate.m&quot;&gt;ForwardSimulate.m&lt;/a&gt;) and plot the results (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/draw_plots.m&quot;&gt;draw_plots.m&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;This is also implemented in R, with the optimization methods specified in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/6fe3bef84398b7358c6abc8240adaf6918ab3057/R/stochastic_dynamic_programming.R&quot;&gt;stochastic_dynamic_programming.R&lt;/a&gt;, run for selected profit function and population dynamics in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/12999fa836416352a09550be7db3df2d1f172102/R/Reed.R&quot;&gt;Reed.R&lt;/a&gt;.  We can explore a few examples using the R code.((recall that figures link to code snapshot, click through to see parameter values used in the script, etc))&lt;/p&gt;
&lt;h3 id=&quot;example-exploration&quot;&gt;Example exploration&lt;/h3&gt;
&lt;p&gt;Let’s assume a cost function of the from:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \pi(h) = p h - c/h \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which assumes a fixed price $ p $ and fishing costs following the Schaeffer production function.  Let’s start with our allee effect model &lt;span class=&quot;math&quot;&gt;\[ f(x_t) =  x_t e^{ \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) }  \]&lt;/span&gt; First, with low noise, it is easy to make sure the dynamics are behaving properly:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6054/6326945150_4beed0a3a3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note that the population finishes near 30, the set boundary condition. This varies with larger noise:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6095/6326954160_1a1fda5030_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;We can run a suite of replicates, and compare optimally harvested and unharvested outcomes.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6114/6326970240_5bd5daea86_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6219/6326970212_131719e4a2_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Can compare this to Reed’s optimal escapement. Let’s start with a simpler set of population dynamics using the basic Beverton-Holt model, then we harvest only whenever the population exceeds Reed’s optimal escapement threshold, $S $, and we harvest the population at a rate that should return it to $ S $ if next year’s growth were the equal to the expected growth:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6326408241_09ff6444b5_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note that this means that the &lt;em&gt;average&lt;/em&gt; population will be below the optimal escapement, because of the curvature of the growth rate function and Jensen’s inequality:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6096/6327164496_b92773bcca_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Compare to the case of our Allee-Ricker function, even when the allee threshold is 0, the curvature is the other way, and this rule results in under-havesting more than over-harvesting the optimal escapement:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6120/6326467925_cddf1a3006_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6237/6327220864_3be6a170b1_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Kinda suggests that there should be a curvature-correction to Reed’s derivation, presumably that’s been done somewhere?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
	 <link href="/2011/11/06/sunday-5.html"/>
   <updated>2011-11-06T14:38:18+00:00</updated>
   <id>/11/06/sunday-5</id>
   <content type="html">&lt;h2 id=&quot;computing-notes&quot;&gt;Computing notes&lt;/h2&gt;
&lt;p&gt;A few configuration related things from migrating to the &lt;a href=&quot;http://zareason.com/shop/Strata-Pro-13.html&quot;&gt;new laptop&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&quot;clipboard-and-vim&quot;&gt;Clipboard and Vim&lt;/h4&gt;
&lt;p&gt;vim clipboard - install vim-gnome “+y and”+p interact between vim and global clipboard, and y, shift+insert work within terminal.&lt;/p&gt;
&lt;p&gt;make a repository bare so it can be pushed to (as opposed to moving to it’s working directory and running a pull). From &lt;a href=&quot;http://stackoverflow.com/questions/2199897/git-convert-normal-to-bare-repository&quot;&gt;stackoverflow&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mv&lt;/span&gt; repo/.git repo.git&lt;span class=&quot;kw&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;rm&lt;/span&gt; -rf repo
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; repo.git
&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; config --bool core.bare true&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;lab-notebook&quot;&gt;Lab Notebook&lt;/h4&gt;
&lt;p&gt;It would be nice to be able to browse my flickr research images and see which ones have been embedded in what lab notebook pages automatically.&lt;/p&gt;
&lt;p&gt;Unfortunately,&lt;a href=&quot;webmasters.stackexchange.com/users/11279/cboettig&quot;&gt;it seems&lt;/a&gt;there is no way to track ping backs on flickr images?  Meanwhile did configure flickr’s stats utility, which seems to give only detailed stats (including inbound links) over the past 28 days.  The Flickr API app &lt;a href=&quot;http://statsr.net/user/&quot;&gt;statr&lt;/a&gt; claims to log the rest, though won’t resolve full referring urls without pro account, and neither of these are proper pingbacks of linked photos.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Richard McElreath recommends reading &lt;a href=&quot;http://www.amazon.com/gp/product/052139838X/ref=kinw_rke_tl_1&quot;&gt;this&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics&quot;&gt;Phylogenetics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Prepare notes on QuaSSE for seminar.  See Mendeley copy.&lt;/li&gt;
&lt;li&gt;Updated MCMCtools, for some basic QuaSSE exploration.  Roxygenize documentation and add some convenient priors.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sparkleshare configuration</title>
	 <link href="/2011/11/04/sparkleshare-configuration.html"/>
   <updated>2011-11-04T22:35:11+00:00</updated>
   <id>/11/04/sparkleshare-configuration</id>
   <content type="html">&lt;p&gt;Configured sparkleshare across my linux server &amp;amp; laptops, and android phone.  Provides a dropbox-style syncing and version history for all files using git.  I can sync as much space as I have hardisk capacity, with as many users and machines as I like, at no cost.  Wonderful.&lt;/p&gt;
&lt;h3 id=&quot;basic-setup&quot;&gt;Basic setup&lt;/h3&gt;
&lt;p&gt;Get sparkleshare working on a server is dead simple, Can also use a &lt;a href=&quot;http://github.com&quot;&gt;github&lt;/a&gt; server, &lt;a href=&quot;http://gitorious.org/&quot;&gt;gitorious server&lt;/a&gt;, etc. Setup is &lt;a href=&quot;https://github.com/hbons/SparkleShare/wiki/How-to-set-up-your-own-server&quot;&gt;clearly documented&lt;/a&gt;, which is really just doing a bunch of standard stuff if you have a server or github already set up.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;On the server, just needs a bare git repository you can point to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;On the client, need rsa authentication to the target server set-up, then it’s dead simple again.&lt;/p&gt;
&lt;p&gt;sudo apt-get install sparkleshare sparkleshare start&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It will ask you where the server is - (you can give it a github or gitorious server here too)&lt;/p&gt;
&lt;p&gt;and specify the server as username@server, and specify the full path to the bare repository.&lt;/p&gt;
&lt;h3 id=&quot;dashboard&quot;&gt;Dashboard&lt;/h3&gt;
&lt;p&gt;Set up a dashboard on the server, gives you a web interface and also allows syncing to Android.&lt;/p&gt;
&lt;p&gt;Getting the &lt;a href=&quot;https://github.com/hbons/SparkleShare-Dashboard/wiki&quot;&gt;dashboard client set up&lt;/a&gt; requires a bit more effort.  This   Uses the snazzy &lt;a href=&quot;http://nodejs.org/#download&quot;&gt;node.js&lt;/a&gt; server language, which requires a bit of setting up since it isn’t packaged for debian lenny, which my server (Dreamhost VPS) is running, but luckily has few dependencies and can install from source just fine.  Get one the packaged tarballs, it won’t work with the latest source (fails the version check).  I used 0.4.12.&lt;/p&gt;
&lt;p&gt;on the server: (last one requires root access, can do this logged in from the root user):&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;wget&lt;/span&gt; http://nodejs.org/dist/node-v0.4.12.tar.gz
&lt;span class=&quot;kw&quot;&gt;tar&lt;/span&gt; -xvf node-v0.4.12.tar.gz
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; node
&lt;span class=&quot;kw&quot;&gt;./configure&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; make install&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From here the &lt;a href=&quot;https://github.com/hbons/SparkleShare-Dashboard/wiki&quot;&gt;instructions&lt;/a&gt; work just fine.  There are some lines in config.js that look like they need editing even though the instructions doesn’t mention them.  I added the server address to the repository, and a location for the rsa key; not sure what’s going on there but it works.&lt;/p&gt;
&lt;p&gt;Note that if the repository is denoted “public” include a public link for sharing without having a user log in.  You still need to log in to the dashboard to get this link in the first place. It seems repositories should be initiated bare in directory ending in .git to be properly recognized.&lt;/p&gt;
&lt;p&gt;Make sure the dashboard is running to use the web interface / android app. Launch the webserver with&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; &lt;span class=&quot;kw&quot;&gt;nohup&lt;/span&gt; node app.js &lt;span class=&quot;kw&quot;&gt;&amp;amp;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;from the Sparkleshare-Dashboard directory (the &amp;amp; for running in the background and the nohup should keep it running after logging off the server).&lt;/p&gt;
&lt;h3 id=&quot;further-configuration-notes&quot;&gt;Further configuration notes&lt;/h3&gt;
&lt;p&gt;Removing sparkleshare-synced folder: edit&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;~/.config/sparkleshare/config.xml&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Also learned about a shallow clone: Cannot push or clone it, but you can get only recent changes with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone --depth 1 git@github.com:cboettig/repository&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Could be handy when a collaborator wants to just grab the latest copy of a large repository.&lt;/p&gt;
&lt;p&gt;Versioning interface is supposed to display as Get Earlier Version on right-click, but I’m only seeing ubuntu’s deja vu version backup.  Fortunately any sparkleshare directory is a proper git repository, so one can always use the full git log and commands to checkout any version. though of course some of git’s power isn’t useful for binary-type files.&lt;/p&gt;
&lt;p&gt;Don’t try copying a directory already containing a .git repository into the sparkleshare folder.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday's reading</title>
	 <link href="/2011/11/04/fridays-reading.html"/>
   <updated>2011-11-04T13:14:24+00:00</updated>
   <id>/11/04/fridays-reading</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Catching up on journal table-of-contents/rss readings.&lt;/p&gt;
&lt;h3 id=&quot;news&quot;&gt;News&lt;/h3&gt;
&lt;p&gt;Australia Researchers unhappy (unknown, 2011)&lt;/p&gt;
&lt;h4 id=&quot;climate-change-and-open-science&quot;&gt;Climate change and Open Science&lt;/h4&gt;
&lt;p&gt;Nature debate on the Berkeley climate team’s (BEST) press release in advance of publication. (unknown, 2011) Editor critiques the stunt:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Richard Muller, the physicist in charge, even told the BBC: “That is the way I practised science for decades; it was the way everyone practised it until some magazines — particularly Science and Nature — forbade it.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is both wrong and unhelpful. It is wrong because for years Nature has explicitly endorsed the use of preprint servers and conferences as important avenues for scientific discussion ahead of submission to this journal, or other Nature titles.&lt;/p&gt;
&lt;p&gt;And suggests they might have posted the result on a preprint server and solicited input, rather than announcing a definitive conclusion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To solicit input on results before publication is not a guerrilla action against a shadowy scientific elite. Witness the posting on a preprint server last month of the paper reporting neutrinos that apparently travel faster than light: the authors made it clear that they were seeking help from the wider community to explain the findings, and the media stories (if not the headlines) mostly reflected that. To pretend otherwise can only erode public trust in science, as it is practised by all.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;education&quot;&gt;Education&lt;/h4&gt;
&lt;p&gt;A provocative letter on the lack of empirical support behind NSF’s recently closed G-12 initiative (Cormas, 2011)&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics&quot;&gt;Phylogenetics&lt;/h3&gt;
&lt;p&gt;Interesting study of branching models in treebase, including constant rate birth-death models and some time-dependent models (Jones, 2011)&lt;/p&gt;
&lt;p&gt;From Bioinformatics, Spatial spread from phylogenies software (Bielejec &lt;em&gt;et. al.&lt;/em&gt; 2011) and some treevis software (Pirrung &lt;em&gt;et. al.&lt;/em&gt; 2011) I haven’t had a chance to look at.&lt;/p&gt;
&lt;h3 id=&quot;theoretical-ecology&quot;&gt;Theoretical Ecology&lt;/h3&gt;
&lt;p&gt;Analysis of the global population dynamics database: uncertainty in abundance may drive the lack of signal of density dependence (Knape &amp;amp; de Valpine, 2012). The literature on this has been mixed, I wrote an F1000 comment on an earlier eco let paper that didn’t find density dependence, in which I called for just this kind of study, so it’s nice to see, if not surprising, that the conclusions here are largely a lack of signal. (Ziebarth &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;h4 id=&quot;critical-transitions&quot;&gt;Critical transitions&lt;/h4&gt;
&lt;p&gt;Things I’ve been meaning to give a closer look into: (McClanahan &lt;em&gt;et. al.&lt;/em&gt; 2011), (Franklin &amp;amp; Johnson, 2011), (Hirota &lt;em&gt;et. al.&lt;/em&gt; 2011), (Staver &lt;em&gt;et. al.&lt;/em&gt; 2011),&lt;/p&gt;
&lt;p&gt;and still have to replicate the methodology of Ditlevsen &amp;amp; Johnsen, 2010&lt;/p&gt;
&lt;p&gt;These &lt;a href=&quot;http://rs.resalliance.org/2010/12/13/resilience-and-regime-shift-videos/&quot;&gt;regime shift videos&lt;/a&gt; are quite cute.&lt;/p&gt;
&lt;p&gt;And &lt;a href=&quot;http://www.regimeshifts.org&quot;&gt;this “database”&lt;/a&gt; is a great idea, but would be more useful if it had data, not just descriptive metadata.&lt;/p&gt;
&lt;h2 id=&quot;open-science-blogs&quot;&gt;Open Science Blogs&lt;/h2&gt;
&lt;p&gt;And catching up on some definite highlights from the open science blogs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cameron Neylon: &lt;a href=&quot;http://cameronneylon.net/blog/building-the-perfect-data-repository-or-the-one-that-might-get-used/&quot;&gt;on building useful databases&lt;/a&gt;. insightful, practical, an so right.&lt;/li&gt;
&lt;li&gt;Michael Nielsen gives &lt;a href=&quot;http://michaelnielsen.org/blog/open-access-a-short-summary/&quot;&gt;the best description&lt;/a&gt; of the state of Open Access publishing I’ve seen, including stories of some of the most exciting recent changes.&lt;/li&gt;
&lt;li&gt;Heather Piwowar describes their &lt;a href=&quot;http://researchremix.wordpress.com/2011/10/31/total-impact-party/&quot;&gt;total-impact&lt;/a&gt; project.&lt;/li&gt;
&lt;li&gt;Our own open science community is getting going on Jason’s provocative post on getting scooped in open science. Jonathan Eisen shares his experiences and Law Professor Mario Biagioli shares a preprint on Openness, secrecy, and priority in science.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;unknown u (2011). “Academics Unhappy.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;478&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nj7370-549c&quot;&gt;http://dx.doi.org/10.1038/nj7370-549c&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unknown u (2011). “Scientific Climate.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;478&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/478428a&quot;&gt;http://dx.doi.org/10.1038/478428a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cormas P (2011). “Empirical Tests For Nsf Classroom Programs.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.334.6055.453-a&quot;&gt;http://dx.doi.org/10.1126/science.334.6055.453-a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jones G (2011). “Tree Models For Macroevolution And Phylogenetic Analysis.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr086&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr086&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bielejec F, Rambaut A, Suchard M and Lemey P (2011). “Spread: Spatial Phylogenetic Reconstruction of Evolutionary Dynamics.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btr481&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btr481&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pirrung M, Kennedy R, Caporaso J, Stombaugh J, Wendel D and Knight R (2011). “Topiaryexplorer: Visualizing Large Phylogenetic Trees With Environmental Metadata.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btr517&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btr517&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Knape J and de Valpine P (2012). “Are Patterns of Density Dependence in The Global Population Dynamics Database Driven by Uncertainty About Population Abundance?” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;15&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01702.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01702.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ziebarth N, Abbott K and Ives A (2010). “Weak Population Regulation in Ecological Time Series.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2009.01393.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2009.01393.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McClanahan T, Graham N, MacNeil M, Muthiga N, Cinner J, Bruggemann J and Wilson S (2011). “Critical Thresholds And Tangible Targets For Ecosystem-Based Management of Coral Reef Fisheries.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1106861108&quot;&gt;http://dx.doi.org/10.1073/pnas.1106861108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Franklin J and Johnson K (2011). “Societal Challenges in Understanding And Responding to Regime Shifts in Forest Landscapes.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1114045108&quot;&gt;http://dx.doi.org/10.1073/pnas.1114045108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hirota M, Holmgren M, Van Nes E and Scheffer M (2011). “Global Resilience of Tropical Forest And Savanna to Critical Transitions.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1210657&quot;&gt;http://dx.doi.org/10.1126/science.1210657&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Staver A, Archibald S and Levin S (2011). “The Global Extent And Determinants of Savanna And Forest as Alternative Biome States.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1210465&quot;&gt;http://dx.doi.org/10.1126/science.1210465&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals - noise response</title>
	 <link href="/2011/11/03/warning-signals-noise-response.html"/>
   <updated>2011-11-03T11:27:40+00:00</updated>
   <id>/11/03/warning-signals-noise-response</id>
   <content type="html">&lt;p&gt;Dakos (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2012) considers $  = f(x,p) $ and perturbs the parameter randomly to introduce variation. Evaluating around an equilibrium where $ f(x^&lt;em&gt;, p^&lt;/em&gt;) = 0 $, they expand to first order (citing (Ripa &amp;amp; Heino, 1999)):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dx}{dt} = \partial_x f(x^*,p^*)(x-x^*)  +  \partial_p f(x^*,p^*) (p - p^*) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and taking $ = x- x^* $, with some slight of hand argue this can be rewritten as an Ito process,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ d \xi = \lambda \xi dt + \partial_p f(x,p) dW \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with eigenvalue $ = _x f(x^&lt;em&gt;, p^&lt;/em&gt;) $.&lt;/p&gt;
&lt;p&gt;Let’s be a bit more careful. First, we haven’t said much about the noise process. In general we’ll want the noise process to have a timescale. White noise Gaussian process won’t track.&lt;/p&gt;
&lt;p&gt;Consider again $ x(t) = f(x(t), p(t) $.&lt;/p&gt;
&lt;p&gt;The variance dynamics are given by the van Kampen expansion: &lt;span class=&quot;math&quot;&gt;\[ \dot \sigma_x^2 = 2 \partial_x f(x,p)\sigma_x^2 + g(x,p) + \nu(x,p) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where $ g(x,t) $ is the intrinsic demographic noise, properly the second jump moment, and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \nu(x,p) = 2\frac{ ( \partial_p f(x,p)  )^2 \sigma_p^2}{-\partial_x f(x,p) + 1/\tau_c} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where $ _c $ is the correlation time of the noise process (0 is white noise, which doesn’t contribute, going towards infinity is very low-frequency noise, which the population can track). The ability to track the noise requires $ _x f(x,p) $ to be on order or larger than $ 1/_c$, an ability it loses near a critical bifurcation where $ _x f(x,p) 0 $. Note that this term is missing from the Dakos et. al. treatment, essentially that treatment assumes that the noise is always substantially faster than the population dynamics, but not white, so that $ _p f(x,p) _p^2 $.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This is all about tracking low-frequency variation though, which is not the kind of dynamics we’re interested in. &lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Under this assumption, we might write:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dx = f(x, p) dt + \sigma_x dB_1(t)+ \sigma_p | \partial_p f(x,p) | dB_2(t) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now recall that the noisy parameter $ p $ will not generally be the parameter changing to drive the bifurcation.&lt;/p&gt;
&lt;p&gt;if $ _p f(x,p) $ does not change as $ _x f(x,p) 0$, then we need not worry.&lt;/p&gt;
&lt;p&gt;In there example, none of the $ _p f(x,p) $ depend directly on $ c $, the bifurcation parameter, but all depend on $ x $, which decreases as the bifurcation approaches.&lt;/p&gt;
&lt;p&gt;So how about this case on environmental variation entering linearly? $ p f(x) = h(x) $&lt;/p&gt;
&lt;p&gt;Decreasing x decreases the total noise in two of the examples:&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dakos V, van Nes E, D’Odorico P and Scheffer M (2012). “Robustness of Variance And Autocorrelation as Indicators of Critical Slowing Down.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;93&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0889.1&quot;&gt;http://dx.doi.org/10.1890/11-0889.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ripa u and Heino u (1999). “Linear Analysis Solves Two Puzzles in Population Dynamics: The Route to Extinction And Extinction in Coloured Environments.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.1999.00073.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.1999.00073.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Stochastic Optimal Control</title>
	 <link href="/2011/11/02/stochastic-optimal-control.html"/>
   <updated>2011-11-02T22:57:57+00:00</updated>
   <id>/11/02/stochastic-optimal-control</id>
   <content type="html">&lt;p&gt;Starting with Reed 1979 Reed, 1979. Consider the stochastic population growth model&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ X_{t+1} = Z_n f(X_n) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$ f(x) $ is concave and non-decreasing (compensating, not over-compensating). A natural choice is the Beverton-Holt model,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ f(x) = \frac{A x}{1+B x} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Cost of harvest is Schaefer production function $ c(x) = k/q x $, (i.e. doubling fish density halves the cost, assume $q $ constant), or Cobbs-Douglas form $ c(x) = k/x^{} $ where $ = 1+1$.&lt;/p&gt;
&lt;p&gt;We’ll solve through a dynamic programming approach using the Bellman equation.&lt;/p&gt;
&lt;p&gt;We begin by discretizing the system to a grid. Let us assume that the fish population can only assume a set of discrete values, $ x { x_i } $ on a grid $N (0, x_2, x_3, …, 2 K) $, where &lt;span class=&quot;math&quot;&gt;\(K\)&lt;/span&gt; is the unharvested equilibrium. (Of course if we think of $ x $ as number instead of density, this finite, discrete case is natural). Let us further assume that the control variable, harvesting level, can only assume discrete values as well. For convenience we’ll use the same grid, since it doesn’t make sense to harvest fractions of fish or more than the total stock, but let’s call this grid $ H $. Time is already discrete in the model above, assuming values $ t {0, 1, 2, , T } $.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/41023cdf80f2f41bf215d83f94bb32b4e485bc46/R/Reed.R&quot;&gt;Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Results: Optimally harvested (black) and unharvested (green) population dynamics, for a stochastic realization.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6213/6307860283_47fc9e704c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;From the original Matlab example from michael (run in Octave):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6102/6308462214_1f255cc3ca_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-0696(79)90014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>server file management from bowser: ajaxplorer, mollify</title>
	 <link href="/2011/11/01/server-file-management-from-bowser-ajaxplorer-mollify.html"/>
   <updated>2011-11-01T20:18:38+00:00</updated>
   <id>/11/01/server-file-management-from-bowser-ajaxplorer-mollify</id>
   <content type="html">&lt;p&gt;A few notes on trying out some server-based file sharing solutions.&lt;/p&gt;
&lt;h2 id=&quot;ajaxplorer&quot;&gt;&lt;a href=&quot;http://www.ajaxplorer.info/&quot;&gt;ajaXplorer&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Kind of amazingly good and easy to install, with configuration-free functionality like previews of images and playing mp3s. More secure file sharing (at least, public link not generated until asked for, can have password assigned to it). Sharing is the only step not activated by default. Create a folder called “public” in the ajaxplorer directory, and this feature will appear.&lt;/p&gt;
&lt;p&gt;Curious about performance issues, we’ll see.&lt;/p&gt;
&lt;h2 id=&quot;mollify&quot;&gt;&lt;a href=&quot;http://www.mollify.org/&quot;&gt;Mollify&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A bit cleaner, mysql or sqlite based; configuration is considerably more challenging. Seems that performance may be better for large system.&lt;/p&gt;
&lt;p&gt;In the configuration file, follow directions. Note that Dreamhost does not use the localhost for mysql, follow directions and set to the hostname given in panel: mysql.mydomain.com. Delete the line that has the socket, since it isn’t used.&lt;/p&gt;
&lt;p&gt;Add support to share public links: add this to the configuration.php file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;$SETTINGS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;enable_public_links&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;kw&quot;&gt;TRUE&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Add support for flash uploader (See &lt;a href=&quot;http://code.google.com/p/mollify/wiki/ConfigurationAdditionalOptions&quot;&gt;additional configuration directions&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Go to mollify/ directory, edit index.html: In the section about mollify-init that looks like:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&amp;lt;script type=&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&amp;gt;
    mollify.init&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;{
        &lt;span class=&quot;st&quot;&gt;&amp;quot;service-path&amp;quot;&lt;/span&gt;: &lt;span class=&quot;st&quot;&gt;&amp;quot;backend/&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt;
    }&lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;edit to read as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&amp;lt;script type=&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; language=&lt;span class=&quot;st&quot;&gt;&amp;quot;javascript&amp;quot;&lt;/span&gt; src=&lt;span class=&quot;st&quot;&gt;&amp;quot;client/swfupload.js&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&amp;gt;
    mollify.init&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;{
        &lt;span class=&quot;st&quot;&gt;&amp;quot;service-path&amp;quot;&lt;/span&gt;: &lt;span class=&quot;st&quot;&gt;&amp;quot;backend/&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;st&quot;&gt;&amp;quot;file-uploader&amp;quot;&lt;/span&gt;: &lt;span class=&quot;st&quot;&gt;&amp;quot;flash&amp;quot;&lt;/span&gt;
    }&lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Has plugin support which should deliver previews, a file viewer and text editors, but I was unable to get these to work. Is activated using the following php in configuration file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;$SETTINGS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;enable_public_links&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;kw&quot;&gt;TRUE&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;$PLUGINS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;st&quot;&gt;&amp;quot;FileViewerEditor&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;viewers&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Image&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gif&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;TextFile&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;php&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;html&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Google&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;pdf&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;tiff&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;doc&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;

                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;previewers&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Image&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gif&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;editors&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;TextFile&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;menu now displays preview and view options, but these do not display content. Of course these work on the demo site; not sure what is wrong.&lt;/p&gt;
&lt;h2 id=&quot;dropbox-style-linked-synced-sharing&quot;&gt;Dropbox-style Linked &amp;amp; synced sharing&lt;/h2&gt;
&lt;p&gt;e.g. &lt;a href=&quot;http://sparkleshare.org&quot;&gt;sparkleshare&lt;/a&gt;?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pdg-control Conference Call</title>
	 <link href="/2011/11/01/pdg-control-conference-call.html"/>
   <updated>2011-11-01T16:53:46+00:00</updated>
   <id>/11/01/pdg-control-conference-call</id>
   <content type="html">&lt;p&gt;Call includes everyone except Frank &amp;amp; Claire.&lt;/p&gt;
&lt;h2 id=&quot;logistics&quot;&gt;Logistics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Meeting 2: 13-15 March&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review code/files on wiggio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Want a group review of material / webX tutorial?  Email Paul after the call.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;training-problem-1b-penalty-to-policy-change-rate.&quot;&gt;Training Problem 1b: penalty to policy-change rate.&lt;/h2&gt;
&lt;p&gt;Group is: Paul, Jake, Dan, Carl T, Jim, Frank, …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dan&lt;/strong&gt;: L2 done.  Code coming (in Python, matlab coming).  L1 is hard.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Control variable becomes $ dh/dt $, and $ h $ becomes a control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an impulse-control maximum principle?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Jim&lt;/strong&gt; suggests - similar to fishing-effort control?  Optimality conditions are singular?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: See Dan’s summary.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-1a-chatteringperiodic-control&quot;&gt;Training Problem 1a: Chattering/periodic control&lt;/h2&gt;
&lt;p&gt;Group is: Paul, Jim, Dan, Michael, …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Collected references: some general statements in texts about when to expect periodic optimal controls&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dan&lt;/strong&gt;: Just look for periodic solutions to state / co-state equations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Advanced problem: spatial control (see proposal), talk to &lt;strong&gt;Michael&lt;/strong&gt;.  Direct data on live fishing effort across great barrier reef.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Can we get a description of this data set?  Do we have data on policy-elasticity (re 1b)? &lt;em&gt;Material&lt;/em&gt;: still coming?&lt;/p&gt;
&lt;h2 id=&quot;training-problem-2&quot;&gt;Training Problem 2&lt;/h2&gt;
&lt;p&gt;Group is: Alan, Carl B, Jake, Michael, Carl T, Marie-Josee, …&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl &lt;/strong&gt;Building up to the Stochastic Optimal Control Problem, then adding uncertainty / Bayesian learning. Literature on Uncertainty (&lt;strong&gt;Jake&lt;/strong&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Uncertainty over growth function (bang-bang).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uncertainty over stock assessment (pretty open).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Look at &lt;strong&gt;Michael&lt;/strong&gt;’s SDP code and Reed Reed, 1979.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: see &lt;a href=&quot;http://www.carlboettiger.info/archives/3094&quot;&gt;Carl’s summary&lt;/a&gt; and Jake’s lit review.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-3&quot;&gt;Training Problem 3&lt;/h2&gt;
&lt;p&gt;Group is: Megan, Claire, Marie-Josee, Frank, …&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan&lt;/strong&gt;, &lt;strong&gt;Claire&lt;/strong&gt;.  Spawning time and investment as optimization.  Claire running simulations over space/time to generate the return-on-investment curve.  Can then determine if there’s a non-trivial optimization search to be done.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: still coming.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-0696(79)90014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Training Problem 2 update</title>
	 <link href="/2011/11/01/training-problem-2-update.html"/>
   <updated>2011-11-01T14:20:08+00:00</updated>
   <id>/11/01/training-problem-2-update</id>
   <content type="html">&lt;h2 id=&quot;problem-statement&quot;&gt;Problem Statement&lt;/h2&gt;
&lt;p&gt;We consider the stochastic optimal control problem of fisheries harvests under the scenarios involving alternate stable states, with uncertainty about the parameters of harvest. We consider a series of introductory problems to prepare us for the full problem. We begin with classical optimal control approaches (Pontraygin’s principle to transform into an ordinary differential equation boundary-value problem) for continuous time state equations (fish population dynamics) as a reference point. We begin with a one-dimensional state equation. We next consider the discrete-time state equation, which we approach with the Bellman/dynamic programming solution, as a useful starting point for the stochastic control. The continuous-time problem can solved from the Hamilton-Jacobi-Bellman PDE, instead of the BVP. While this is less efficient numerically, it generalizes to the stochastic case most naturally. The stochastic solution for the optimal path still assumes perfect knowledge. We can accommodate uncertainty in the state variables in a Bayesian learning framework.&lt;/p&gt;
&lt;p&gt;So far I (Carl) am about half-way through these toy examples which will help set up the training problem.  Once we have a common set of tools and code we have quite a few questions to explore within the uncertainty problem.&lt;/p&gt;
&lt;p&gt;(See &lt;a href=&quot;http://www.carlboettiger.info/archives/2655&quot;&gt;original&lt;/a&gt; task description)&lt;/p&gt;
&lt;h2 id=&quot;introductory-problem-by-pontryagin-minimization&quot;&gt;Introductory Problem by Pontryagin minimization&lt;/h2&gt;
&lt;p&gt;Optimal control with an allee effect. Continuous time, Pontraygin’s minimum principle for the first-order conditions to establish a boundary value problem.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;BVP derivation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3049&quot;&gt;Numerical solutions&lt;/a&gt; in several cases&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/&quot;&gt;Code&lt;/a&gt; for numerics&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;discrete-problem-by-bellman-equation-dynamic-programming&quot;&gt;Discrete problem by Bellman equation, Dynamic Programming&lt;/h2&gt;
&lt;p&gt;Optimal control for the analogous discrete time state equations.  Provides a dynamic programming example solution, introduces the cost-to-go.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Problem setup &lt;a href=&quot;http://www.carlboettiger.info/archives/3076&quot;&gt;notes&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;continuous-problem-by-hamilton-jacobi-bellman-pde&quot;&gt;Continuous problem by Hamilton-Jacobi-Bellman PDE&lt;/h2&gt;
&lt;p&gt;As in the introductory problem. Discritize $ dt $,   and then by Taylor expansion the recursion of the cost to go becomes the HJB PDE:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the optimal path obeys:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ h(x,t) = \arg \min_h \left( U(x,h,t) + \beta \partial_x J(x,t) f(x,h, t) \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;stochastic-problem&quot;&gt;Stochastic problem&lt;/h2&gt;
&lt;p&gt;State equation is an SDE ((perhaps restricted to &lt;span class=&quot;math&quot;&gt;\(g(x,h,t) = 1\)&lt;/span&gt;? )) &lt;span class=&quot;math&quot;&gt;\[ dx =f(x(t), h(t), t)dt + g(x(t), h(t), t) dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and we minimize the expected cost.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \max_h \left( \phi( \langle x(T) \rangle ) + \left \langle \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle \right)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For a Gaussian process we solve the stochastic HJB (from taking expectations over the path gives a deterministic PDE by that name):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   + \frac{1}{2} \nu(x,h,t) \partial_x^2 J(x,t) \right)  \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where $ (x,h,t ) $ is the variance dynamics for the state equation.  This may require a numerical solution for appropriate definitions of the stochastic state model, e.g.&lt;/p&gt;
&lt;p&gt;$ d X = X (1-) (  ) - X h + X dB $&lt;/p&gt;
&lt;p&gt;Not as bad as it appears perhaps; for instance, &lt;a href=&quot;http://en.wikipedia.org/wiki/Merton%27s_portfolio_problem&quot;&gt;Merton’s portfolio problem&lt;/a&gt; is actually an example of this nature with a closed-form solution. There are efficient numerical solutions for linear-quadratic control versions, perhaps of little use to us.&lt;/p&gt;
&lt;h2 id=&quot;stochastic-problem-with-uncertainty&quot;&gt;Stochastic problem with uncertainty&lt;/h2&gt;
&lt;p&gt;(Finite time-horizon). Either the parameters of the cost function or the state equation are unknown, and we update our belief about the parameters according to Bayes rule: &lt;span class=&quot;math&quot;&gt;\[p_{t+dt} (\alpha | dx, h) \propto p(dx | \alpha, h) p_t(\alpha) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We define sufficient statistics for this distribution, and have a control problem with an extra dimension in the state equations. The expected profit is computed over both dimensions: &lt;span class=&quot;math&quot;&gt;\[ \max_h \left \langle \phi( x(T) ) + \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle_{\theta, x} \]&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;higher-dimensional-dynamics&quot;&gt;Higher dimensional dynamics&lt;/h2&gt;
&lt;p&gt;Each of these problems can then be repeated with the proper 3-dimensional parrotfish system:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dC}{dt} = (rT - d-aM)C \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;K(C) is from territorial limits, rather than food limits.  (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;p&gt;Adding habitat quality (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Labrids & Parrotfish, method1</title>
	 <link href="/2011/11/01/labrids-parrotfish-method1.html"/>
   <updated>2011-11-01T08:57:15+00:00</updated>
   <id>/11/01/labrids-parrotfish-method1</id>
   <content type="html">&lt;h2 id=&quot;parrotfish-only&quot;&gt;Parrotfish only:&lt;/h2&gt;
&lt;h4 id=&quot;shift-at-intramandibular-joint-in-bm-rate-only.&quot;&gt;Shift at intramandibular joint in BM rate only.&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6302854244_cef4375e8d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;shift-in-constraint-at-intramandibular-innovation.&quot;&gt;Shift in constraint, $ $ at intramandibular innovation.&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6035/6301572694_8edc13de2a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;labrids-wrasses-vs-parrotfish&quot;&gt;Labrids: Wrasses vs parrotfish&lt;/h2&gt;
&lt;h4 id=&quot;shift-in-bm-rate&quot;&gt;Shift in BM rate&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6039/6301602946_3042af8c2a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;shift-in-constraint&quot;&gt;Shift in constraint, $ $&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6019/6301145351_d26cea9902_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3037&quot;&gt;Compare to: method2&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: openfisheries & ggplot</title>
	 <link href="/2011/10/31/monday-openfisheries-ggplot.html"/>
   <updated>2011-10-31T11:54:19+00:00</updated>
   <id>/10/31/monday-openfisheries-ggplot</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.andrewdyck.com/&quot;&gt;Andrew&lt;/a&gt; has put together the preliminary API for the openfisheries.org project. I’ve begun an R package, rfisheries, to interface to the openfisheries project. It would be great to incorporate data from the &lt;a href=&quot;http://ramlegacy.marinebiodiversity.ca/ram-legacy-stock-assessment-database/how-to-access-the-ram-legacy-database&quot;&gt;RAM Legacy database&lt;/a&gt; and the &lt;a href=&quot;http://seaaroundus.org/global/1/101.aspx&quot;&gt;seaaroundus.org&lt;/a&gt; project, which may be done at the level of the R package or (perhaps more flexibly) directly through the developing openfisheries API.&lt;/p&gt;
&lt;p&gt;Here’s a quick proof-of-principle example for Andrew’s API:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6056/6299209963_2c45c79755_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(Code linked from image as usual).&lt;/p&gt;
&lt;h2 id=&quot;ggplot2&quot;&gt;ggplot2&lt;/h2&gt;
&lt;p&gt;Looking into switching my graphics into ggplot.&lt;/p&gt;
&lt;p&gt;For instance, above graph is made by:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;year =&lt;/span&gt; global$year, &lt;span class=&quot;dt&quot;&gt;global =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(global$data),
&lt;span class=&quot;dt&quot;&gt;usa=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(usa$data)) 
dat2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat2, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(year, value, &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_area&lt;/span&gt;() &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that data has to be in “long” form, accomplished by “melt” function.&lt;/p&gt;
&lt;p&gt;Primary disadvantages are (a) me having to learn a new syntax (b) users of my package having to learn a new syntax. (a) is something I can get over, (b) is something I can largely avoid by keeping plotting routines and data routines separate enough, though it’s more a problem in building on other’s plotting routines or having other developers extend mine. (I’m sure Hadley would argue that it would in fact be easier, not harder, thanks to the grammar, so there’s that side too).  Anyway, non-trivial step when you realize you ’re starting off unable to even create a plot.&lt;/p&gt;
&lt;p&gt;Collating references as a starting point.  Probably nothing better than the deep end: reading throught ggplot2 book, since getting a handle on the &lt;em&gt;philosophy&lt;/em&gt; of the grammar of graphics seems ultimately more useful than getting examples that run.&lt;/p&gt;
&lt;h2 id=&quot;continued-notes&quot;&gt;Continued notes&lt;/h2&gt;
&lt;p&gt;still writing today’s notes… check back&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Optimal Control examples continued: Bellman,  Dynamic Programming</title>
	 <link href="/2011/10/28/optimal-control-examples-continued-bellman-dynamic-programming.html"/>
   <updated>2011-10-28T23:23:12+00:00</updated>
   <id>/10/28/optimal-control-examples-continued-bellman-dynamic-programming</id>
   <content type="html">&lt;h3 id=&quot;discrete-time-state-equation&quot;&gt;Discrete-time state equation&lt;/h3&gt;
&lt;p&gt;Discrete-time solution appears to be all about &lt;strong&gt;dynamic programming&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;and a chance for me to remember that I’m out of practice writing recursive functions. It’s just that in thinking about the problem, you start from the end, with the trivial subcase, and keep adding the layers. But the recursive function kinda starts at the beginning, and that trivial case is the exit condition. R doesn’t seem very efficient with these recursive functions, so this might become a C sub-routine eventually.&lt;/p&gt;
&lt;h4 id=&quot;problem-setup&quot;&gt;Problem setup&lt;/h4&gt;
&lt;p&gt;We consider some discrete-time state equation for (fish stock, &lt;span class=&quot;math&quot;&gt;\(x\)&lt;/span&gt;) under some control parameter (harvest, &lt;span class=&quot;math&quot;&gt;\(h\)&lt;/span&gt;):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = f(x_t, h) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We again have utility function, &lt;span class=&quot;math&quot;&gt;\(\pi(h)\)&lt;/span&gt; for diminishing returns on fish harvest. Discrete time means we maximize over the discrete discounting rate &lt;span class=&quot;math&quot;&gt;\(\beta\)&lt;/span&gt; and sum over intervals:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \max_{h_t} \sum_{t=0}^T \beta^t \pi(h) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;subject to the state equation above and some boundary conditions &lt;span class=&quot;math&quot;&gt;\(x_0 = X_0, \qquad x_T = X_T\)&lt;/span&gt;. First-order conditions are:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ U&amp;#39;(h_t) = \beta U&amp;#39;(h_{t+1}) F&amp;#39;(x_{t+1} ) \forall t \]&lt;/span&gt; and solution will use a dynamic programming approach of the following recursion&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ V(x_t) = \max_h \left( U(h) + \beta V(x_{t+1} ) \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which substituting in the state equation gives us:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ V(x_t) = \max_h \left( U(h) + \beta V( F(x_t)) \right) \]&lt;/span&gt; Let’s assume a discrete Ricker-style model: &lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h x \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Ricker-style formulation in analogy to our continuous time &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;problem&lt;/a&gt;, Alan suggests we actually consider the case by Myers et al., (Myers &lt;em&gt;et. al.&lt;/em&gt; 1995)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[N_{t+1} = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} } \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Trivial case of no cost at boundary, harvests everything.&lt;br /&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6046/6303190675_b1151d0931_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;a-simpler-case&quot;&gt;A simpler case&lt;/h3&gt;
&lt;p&gt;Fish remaining are whatever wasn’t harvested yet: &lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = x_t - h_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Cost/profit of harvesting: Profit &lt;span class=&quot;math&quot;&gt;\(p(t)\)&lt;/span&gt; per fish (possibly varies with year), but cost gets harder &lt;span class=&quot;math&quot;&gt;\(c h^2\)&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;\(c &amp;lt;&amp;lt; p(t)\)&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;\[ U(h) = p h - c h^2 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The algorithm can be specified by recursion,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
phi &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;dv&quot;&gt;300&lt;/span&gt;

J &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(t,x){
  if(t &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;T)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;U&lt;/span&gt;(t,x, &lt;span class=&quot;kw&quot;&gt;h_star&lt;/span&gt;(t,x)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;beta*&lt;span class=&quot;kw&quot;&gt;J&lt;/span&gt;(t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(t,x, &lt;span class=&quot;kw&quot;&gt;h_star&lt;/span&gt;(t,x)))
  else 
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;phi&lt;/span&gt;(x)
  out
}
 
h_star &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(t,x){
    func &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(h) &lt;span class=&quot;kw&quot;&gt;U&lt;/span&gt;(t, x, h) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;beta*&lt;span class=&quot;kw&quot;&gt;J&lt;/span&gt;(t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(t,x,h))
&lt;span class=&quot;co&quot;&gt;#    optimize(f=func, interval=c(0,1))[[1]]&lt;/span&gt;
    h &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;)
    cost &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(h, func)
    i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which.max&lt;/span&gt;(cost)
    h[i]
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/2fedf60ae61dafb21badaf05f1a97c213d59b1d1/R/discrete_optimal_control.R&quot;&gt;full code&lt;/a&gt;.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6043/6306213989_bf88df311d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;but this is terribly inefficient.&lt;/p&gt;
&lt;p&gt;A simple dynamic programming reference &lt;a href=&quot;http://frank.mtsu.edu/~berc/working/Zietz-DP-1.pdf&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-optimal-control&quot;&gt;Stochastic Optimal Control&lt;/h3&gt;
&lt;p&gt;Looks like this needs a dynamic programming approach. A us&lt;a href=&quot;http://userpage.fu-berlin.de/~mtoussai/08-optimal-control/kappen-handout.pdf&quot;&gt;eful reference.&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;higher-dimensional-state-equations&quot;&gt;Higher-dimensional state equations&lt;/h3&gt;
&lt;p&gt;Can these lead to oscillating solutions in as the number of state equations increases? Depends on nature of constraints? Inequalities?&lt;/p&gt;
&lt;h3 id=&quot;steps-check-list&quot;&gt;Steps check list&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Simple boundary-value problem solution by collocation. &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;Example&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chebychev polynomial collocation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harvest vs fishing effort as control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Solution under inequality bounds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discrete-time state equations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stochastic Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parrotfish 3 dimensional system, Horan 2 dimensional system.  See (Mumby &lt;em&gt;et. al.&lt;/em&gt; 2007), (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010) (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uncertainty&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Myers R, Barrowman N, Hutchings J and Rosenberg A (1995). “Population Dynamics of Exploited Fish Stocks at Low Population Levels.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.269.5227.1106&quot;&gt;http://dx.doi.org/10.1126/science.269.5227.1106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mumby P, Hastings A and Edwards H (2007). “Thresholds And The Resilience of Caribbean Coral Reefs.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;450&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;http://dx.doi.org/10.1038/nature06252&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Optimal control sample problems (Mostly continuous time by Pontryagin principle)</title>
	 <link href="/2011/10/27/optimal-control-next-steps.html"/>
   <updated>2011-10-27T13:53:50+00:00</updated>
   <id>/10/27/optimal-control-next-steps</id>
   <content type="html">&lt;h3 id=&quot;optimal-control-by-pontryagin-principle&quot;&gt;Optimal Control by Pontryagin principle&lt;/h3&gt;
&lt;h4 id=&quot;problem-statement&quot;&gt;Problem statement&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;State equation: &lt;span class=&quot;math&quot;&gt;\(\dot x = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - x h\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Utility function &lt;span class=&quot;math&quot;&gt;\(\pi(h, x, t) = \frac{h^{1+\gamma}}{1+\gamma}\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Boundary constraints: &lt;span class=&quot;math&quot;&gt;\(x(0) = X_0 \qquad x(T) = X_T\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See problem statement and analytic BVP formulation details in &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;this post&lt;/a&gt;. Additionally we scale the variables appropriately. Then we can begin with some basic parameter exploration in the original model formulation. We solve by collocation:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6286772118_872b47a7f7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Decreasing the ecological dynamics timescale (growth rate &lt;span class=&quot;math&quot;&gt;\(\alpha\)&lt;/span&gt; ) leads to less fishing eventually but also slower decrease in fishing rate:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6046/6286772066_b37c2e7588_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Increased discounting means fish faster now and….&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6223/6286391925_da5987dce6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;…whoops, put fish back in the sea later (negative harvest).&lt;/p&gt;
&lt;p&gt;Control on harvest directly rather than harvest effort gives ill-behaved solution:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6094/6287043786_05e270fa1d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Code &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1fb870e5a22a54fdb44f8e25ad65a74822c60188/training_prob2_collocation.R&quot;&gt;defining the system&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Code for &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1fb870e5a22a54fdb44f8e25ad65a74822c60188/run_collocation.R&quot;&gt;running the examples&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;inequalities&quot;&gt;Inequalities&lt;/h2&gt;
&lt;p&gt;This solution has only equality based constraints. A trivial inequality to consider is the final stock size is properly a lower bound, but clearly the optimal solution will attain this bound. The next inequality constraint to consider is $ h &amp;gt; 0 $, avoiding results such as above. I believe this constraint must enter through the state equation, as it is a dynamic constraint?&lt;/p&gt;
&lt;p&gt;We could solve the Hamilton-Jacobi-Bellman equation instead; may be a good building block for the stochastic case. Perhaps warm up for this using the discrete case…&lt;/p&gt;
&lt;h3 id=&quot;discrete-time-state-equation&quot;&gt;Discrete-time state equation&lt;/h3&gt;
&lt;p&gt;a discrete Ricker-style model: &lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h \beta \]&lt;/span&gt; or a more Beverton-Holt style model: &lt;span class=&quot;math&quot;&gt;\[ x_{t+1} = r\frac{x^{\alpha}}{1+\frac{x^{\alpha}}{K}} - x E_h \beta \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sounds like a dynamic programming approach is called for.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-optimal-control&quot;&gt;Stochastic Optimal Control&lt;/h3&gt;
&lt;p&gt;Looks like this needs a dynamic programming approach.&lt;/p&gt;
&lt;h3 id=&quot;higher-dimensional-state-equations&quot;&gt;Higher-dimensional state equations&lt;/h3&gt;
&lt;h3 id=&quot;steps-check-list&quot;&gt;Steps check list&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Simple boundary-value problem solution by collocation. &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;Example&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chebychev polynomial collocation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jim’s additional examples. Matlab examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harvest vs fishing effort as control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Solution under inequality bounds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discrete-time state equations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stochastic Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan 2 dimensional system&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Labrid submodels</title>
	 <link href="/2011/10/26/labrid-submodels.html"/>
   <updated>2011-10-26T15:49:27+00:00</updated>
   <id>/10/26/labrid-submodels</id>
   <content type="html">&lt;p&gt;Updates to labrids results:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/2960&quot;&gt;Results from&lt;/a&gt; Parrotfish tree &amp;amp; 2-partition Labrid tree on full model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;full-model-labrids-pharyngeal-shift&quot;&gt;Full model, Labrids Pharyngeal Shift&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://farm7.static.flickr.com/6056/6284030745_75ea415a08_o.png&quot;&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6056/6284030745_75ea415a08_o.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;alphas&quot;&gt;Alphas&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6236/6284030401_985162f874_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;sigmas&quot;&gt;Sigmas&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6043/6284030429_3fe0187f59_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;full-model-intramandibular-shift&quot;&gt;Full Model,  Intramandibular Shift&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6049/6284507842_ea98730121_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6040/6284507386_7ee804e414_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6118/6284507370_1615c32c6b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;h3 id=&quot;labrid-tree-multi-sigma-model-both-shifts&quot;&gt;Labrid tree, multi-sigma model,  both shifts&lt;/h3&gt;
&lt;p&gt;Surprising less powerful at identifying the differences.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6106/6284061485_9d3013448e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note that this still estimates OU models, and hence has a global alpha, and unique thetas:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6229/6284609616_faf3fce83f_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;labrid-tree-multi-alpha-both-shifts&quot;&gt;LABRID TREE, MULTI-alpha,  BOTH SHIFTS&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6049/6284581522_3057f6cb92_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;parrotfish-treemulti-sigma-model&quot;&gt;Parrotfish tree, multi-sigma model:&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6212/6284625308_a190be5675_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;parrotfish-tree-multi-alpha-model&quot;&gt;Parrotfish tree, multi-alpha model:&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6284105359_6c633db6a6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;labrid-pharyngeal-onlymulti-sigma-model&quot;&gt;Labrid pharyngeal only, multi-sigma model:&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6093/6284633974_07a359fe14_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;labrid-pharyngealmulti-alpha&quot;&gt;Labrid pharyngeal, multi-alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6045/6284114285_654c4c50fb_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;labrid-intramandibular-onlymulti-sigma-model&quot;&gt;Labrid intramandibular only, multi-sigma model:&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6103/6284640552_364ee8de5e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;labrid-intramandibularmulti-alpha&quot;&gt;Labrid intramandibular, multi-alpha&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6227/6284121123_e43b4ee70c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Full model plots with: &lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/1c1dcc93c7d5185e2763503d38739a72b4b18d0e#diff-0&quot;&gt;method2_plots.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;submodel plots with: &lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/1c1dcc93c7d5185e2763503d38739a72b4b18d0e#diff-1&quot;&gt; method2_subplot.R&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;whats-not-here-pure-bm-shift-models&quot;&gt;What’s not here: pure BM shift models&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Auteur version&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brownie version&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape version&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;running on parrotfish and full labrid_data example.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday, misc notes</title>
	 <link href="/2011/10/26/monday-misc-notes.html"/>
   <updated>2011-10-26T09:47:13+00:00</updated>
   <id>/10/26/monday-misc-notes</id>
   <content type="html">&lt;p&gt;R packages relevant to the optimal control problems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BB: solving system of nonlinear equations&lt;/li&gt;
&lt;li&gt;bvpSolve: boundary value problems&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;lunch with Alan &amp;amp; visiting professor from Ottowa, &lt;a href=&quot;http://mysite.science.uottawa.ca/flutsche/&quot;&gt;Frithjof Lutscher&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;adg-algorithm-discussion-group&quot;&gt;ADG (algorithm discussion group)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Reviewed github, basic git commands.&lt;/li&gt;
&lt;li&gt;Added roxygen function documentation&lt;/li&gt;
&lt;li&gt;Created basic package, toyHMM&lt;/li&gt;
&lt;li&gt;Some git notes:  The quick git-undo for a destroyed file:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will checkout the file from HEAD, overwriting your change. If you’ve already committed changes, you need to go up one previous from head, using&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout HEAD^ filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or for two commits back,&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout HEAD^^ filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This command is also used to checkout branches, and you could happen to have a file with the same name as a branch. All is not lost, you will simply need to type:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout -- filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also do this with files from other branches, and such. &lt;code&gt;man git-checkout&lt;/code&gt; has the details.&lt;/p&gt;
&lt;p&gt;The rest of the Internet will tell you to use &lt;code&gt;git reset --hard&lt;/code&gt;, but this resets &lt;strong&gt;all &lt;/strong&gt; uncommitted changes you’ve made in your working copy. Type this with care.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday notes: package work mostly.</title>
	 <link href="/2011/10/25/tuesday-notes-package-work-mostly.html"/>
   <updated>2011-10-25T19:18:09+00:00</updated>
   <id>/10/25/tuesday-notes-package-work-mostly</id>
   <content type="html">&lt;h2 id=&quot;treebase-release&quot;&gt;Treebase release&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;write updated tutorial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cran needs mac and windows binaries.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Trying devtools win_builder(); emailing Kurt.  &lt;em&gt;Nevermind&lt;/em&gt;, just got the email saying the binary has been built.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;write email announcement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rfishbase-data-formatting&quot;&gt;rfishbase data formatting&lt;/h2&gt;
&lt;p&gt;My problem turned out not to be about “&amp;quot; at all, these were octal encodings of symbols used in the XML data, eg:   Cape Bojador (26°N)&lt;/p&gt;
&lt;p&gt;which xmlValue() would read in using the octal encoding  “Cape Bojador (260260N)”&lt;/p&gt;
&lt;p&gt;and which R CMD check would then complain about, giving the error in byte encoding (just to confuse me): “Cape Bojador (26&lt;c2&gt;&lt;b0&gt;N)”&lt;/p&gt;
&lt;p&gt;inconv() function provided my crude work-around:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;Cape Bojador (26\302\260N)&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;Encoding&lt;/span&gt;(string) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;UTF-8&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;iconv&lt;/span&gt;(string, &lt;span class=&quot;st&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;ASCII&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;byte&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# return hex code used by R CMD check&lt;/span&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;iconv&lt;/span&gt;(string, &lt;span class=&quot;st&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;ASCII&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# just drop those chars&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I could translate the hex errors by hand into octal, and then hand-code a better literal translation:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;Cape Bojador (26\302\260N)&amp;quot;&lt;/span&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;\302\260&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; degrees &amp;quot;&lt;/span&gt;, string)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but that’s too tedious and slow, I’ll cope without the degree symbol for the moment.   Tedious, because I’d have to recode most UTF-8 symbols, starting by decoding their byte strings, by looking up the &lt;a href=&quot;http://stuffofinterest.com/misc/utf8.php?s=128&quot;&gt;hex string here&lt;/a&gt;, then pasting the symbol into an&lt;a href=&quot;http://encodertool.com/octal&quot;&gt;octal encoder&lt;/a&gt;.    A partial list of the offenders includes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;c2&amp;gt;&amp;lt;96&amp;gt;, &amp;lt;c2&amp;gt;&amp;lt;b0&amp;gt;,  &amp;lt;c3&amp;gt;&amp;lt;a9&amp;gt;, &amp;lt;c3&amp;gt;&amp;lt;ad&amp;gt;, &amp;lt;c2&amp;gt;&amp;lt;bd&amp;gt;, &amp;lt;c3&amp;gt;&amp;lt;b3&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A solution, if not an ideal one.  At least no ASCII errors.  I’d be happy for any better suggestions.  Oh well, done.  Package submitted to CRAN via devtools&lt;/p&gt;
&lt;h2 id=&quot;labrid-phylogenetics&quot;&gt;Labrid Phylogenetics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Launch sub-model runs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Attempt to replicate Price et al. results on BM model&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Treebase Package On Cran</title>
	 <link href="/2011/10/25/treebase-package-on-cran.html"/>
   <updated>2011-10-25T19:06:38+00:00</updated>
   <id>/10/25/treebase-package-on-cran</id>
   <content type="html">&lt;p&gt;My treebase package is now up on the &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/&quot;&gt;CRAN repository&lt;/a&gt;. (Source code is up, the binaries should appear soon). Here’s a few introductory examples to illustrate some of the functionality of the package. Thanks in part to new data deposition requirements at journals such as Evolution, Am Nat, and Sys Bio, and data management plan requirements from NSF, I hope the package will become increasingly useful for teaching by replicating results and for meta-analyses that can be automatically updated as the repository grows. Please contact me with any bugs or requests (or post in the &lt;a href=&quot;https://github.com/cboettig/treeBASE/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;issue tracker&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;basic-tree-and-metadata-queries&quot;&gt;Basic tree and metadata queries&lt;/h2&gt;
&lt;p&gt;Downloading trees by different queries: by author, taxa, &amp;amp; study. More options are described in the help file.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
both &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Ronquist or Hulesenbeck&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;))
dolphins &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Delphinus&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
studies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;)
Near &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Near&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can query the metadata record directly. For instance, plot the growth of Treebase submissions by publication date&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;)
dates &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x$date))
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(dates, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeBase growth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(This query could also take a date range).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6221/6280258573_0c01c06c91_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;How do the weekly’s do on submissions to Treebase? We construct this in a way that gives us back the indices of the matches, so we can then grab those trees directly. Run the scripts yourself to see if they’ve changed!&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
nature &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Nature&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
science &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Science$&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(nature)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(science)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now get me all of those treebase trees that have appeared in Nature.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study&lt;/span&gt;( all[nature] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which authors have the most submissions?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
authors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x){
  index &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;creator&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(x))
  x[index]
  })
a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.factor&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;unlist&lt;/span&gt;(authors))
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(a))
        Crous, Pedro W.   Wingfield, Michael J. Groenewald, Johannes Z.
                     &lt;span class=&quot;dv&quot;&gt;88&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;68&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;58&lt;/span&gt;
   Donoghue, Michael J.       Takamatsu, Susumu    Wingfield, Brenda D.
                     &lt;span class=&quot;dv&quot;&gt;39&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;36&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;35&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;replicating-results&quot;&gt;Replicating results&lt;/h2&gt;
&lt;p&gt;A nice paper by Derryberry et al. appeared in Evolution recently on diversification in ovenbirds and woodcreepers (Derryberry &lt;em&gt;et. al.&lt;/em&gt; 2011). The article mentions that the tree is on Treebase, so let’s see if we can replicate their diversification rate analysis:&lt;/p&gt;
&lt;p&gt;Let’s grab the trees by that author and make sure we have the right one:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(treebase)
&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Derryberry&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(tree$S.id)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(tree)&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6117/6280770968_483816528a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(click to zoom - go to all sizes-&amp;gt;original size)&lt;/p&gt;
&lt;p&gt;They fit a variety of diversification rate models avialable in the laser package, which they compare by aic.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)
models &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;pb =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(tt),
                &lt;span class=&quot;dt&quot;&gt;bdfit =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(tt),
                &lt;span class=&quot;dt&quot;&gt;y2r =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;yule2rate&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# yule model with single shift pt&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ddl =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;DDL&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# linear, diversity-dependent&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ddx =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;DDX&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;#exponential diversity-dendent&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;sv =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitSPVAR&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# vary speciation in time&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ev =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitEXVAR&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# vary extinction in time&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;bv =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitBOTHVAR&lt;/span&gt;(tt)&lt;span class=&quot;co&quot;&gt;# vary both&lt;/span&gt;
                )
aics &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(models, function(x) x$aic)
&lt;span class=&quot;co&quot;&gt;# show the winning model&lt;/span&gt;
models[&lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(aics)]
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;models[&lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(aics)]
$y2r
          LH      st1        r1         r2       aic
&lt;span class=&quot;dv&quot;&gt;276&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;505.0685&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1.171871&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1426537&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.05372305&lt;/span&gt; -&lt;span class=&quot;fl&quot;&gt;1004.137&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yup, their result agrees with our analysis. Using the extensive toolset for diversification rates in R, we could now rather easily check if these results hold up in newer methods such as TreePar, etc.&lt;/p&gt;
&lt;h2 id=&quot;meta-analysis&quot;&gt;Meta-Analysis&lt;/h2&gt;
&lt;p&gt;Of course one of the more interesting challenges of having an automated interface is the ability to perform meta-analyses across the set of available phylogenies in treebase. As a simple proof-of-principle, let’s check all the phylogenies in treebase to see if they fit a birth-death model or yule model better.&lt;/p&gt;
&lt;p&gt;We’ll create two simple functions to help with this analysis. While these can be provided by the treebase package, I’ve included them here to illustrate that the real flexibility comes from being able to create custom functions. ((These are primarily illustrative; I hope users and developers will create their own. In a proper analysis we would want a few additional checks.))&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
timetree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
    check.na &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tree$edge.length))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(check.na, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;) |&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;check.na)
      &lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;
    else
    &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;chronoMPL&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;multi2di&lt;/span&gt;(tree)) )
}
drop_errors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tr){
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tr, is.null)]
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, function(x) &lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))]
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;dropped&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tr)-&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tt), &lt;span class=&quot;st&quot;&gt;&amp;quot;trees&amp;quot;&lt;/span&gt;))
  tt
}
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
pick_branching_model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
  m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
  m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
  &lt;span class=&quot;kw&quot;&gt;as.logical&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(m2$aic &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m1$aic))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Return only treebase trees that have branch lengths. This has to download every tree in treebase, so this will take a while. Good thing we don’t have to do that by hand.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Consensus&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type.tree&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop_errors&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, timetree))
is_yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, pick_branching_model)
&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(is_yule)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derryberry E, Claramunt S, Derryberry G, Chesser R, Cracraft J, Aleixo A, Pérez-Emán J, Remsen Jr. J and Brumfield R (2011). “Lineage Diversification And Morphological Evolution in A Large-Scale Continental Radiation: The Neotropical Ovenbirds And Woodcreepers (Aves: Furnariidae).” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Training problem 2: the economist's problem statement</title>
	 <link href="/2011/10/24/optimal-control-training-problem-2-problem-statement.html"/>
   <updated>2011-10-24T17:46:26+00:00</updated>
   <id>/10/24/optimal-control-training-problem-2-problem-statement</id>
   <content type="html">&lt;h3 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h3&gt;
&lt;p&gt;Problem statement: Maximize profits subject to &lt;span class=&quot;math&quot;&gt;\[\max_{h(t)} \int_0^T e^{-\rho t} \pi(x, h, t) dt \]&lt;/span&gt; Subject to the state equations (biology):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot x = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - x h \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that we consider the control variable to be effort, &lt;span class=&quot;math&quot;&gt;\(h\)&lt;/span&gt; instead of harvest, &lt;span class=&quot;math&quot;&gt;\(\mathcal{H}\)&lt;/span&gt;, where &lt;span class=&quot;math&quot;&gt;\(\mathcal{H} = h x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;and the constraints: &lt;span class=&quot;math&quot;&gt;\[ x(0) = X_0 \qquad x(T) = X_T \]&lt;/span&gt; We have fixed boundary conditions (equalities) and equalities in the state equations, so we have a nice straight-forward problem. We assume the instantaneous profit function shows diminishing returns (i.e. satisfies the curvature conditions &lt;span class=&quot;math&quot;&gt;\(\frac{d \pi}{dh} &amp;lt; 0, \frac{d^2 \pi}{dh} &amp;gt; 0\)&lt;/span&gt;). For instance we could take the saturating function: &lt;span class=&quot;math&quot;&gt;\[ \pi(h, x, t) = \frac{h^{1+\gamma}}{1+\gamma} \]&lt;/span&gt; with &lt;span class=&quot;math&quot;&gt;\(\gamma &amp;lt; 0\)&lt;/span&gt;. From this we can write down the associated present-value Hamiltonian: &lt;span class=&quot;math&quot;&gt;\[ H = \pi(h) - \lambda f(x,h) \]&lt;/span&gt; and the costate equation: &lt;span class=&quot;math&quot;&gt;\[ \dot \lambda = -\partial_x H = \lambda \left( \rho - \partial_x f(x,h) \right) \]&lt;/span&gt; and boundary conditions. Given our curvature assumptions on $ $, the maximum principle of Pontryagin gives us the first-order condition: &lt;span class=&quot;math&quot;&gt;\[ 0 = \partial_h H = \partial_h \pi - \lambda\]&lt;/span&gt; Assuming functional form above for fishing profits &lt;span class=&quot;math&quot;&gt;\(\pi\)&lt;/span&gt;, we can then rewrite the costate equation. &lt;span class=&quot;math&quot;&gt;\[ \frac{d\lambda}{dt} = \frac{d\lambda}{d h}\frac{d h}{dt} = \gamma h^{\gamma} \frac{dh}{dt} = h^{\gamma} \left( \rho - \partial_x f(x,h) \right) \]&lt;/span&gt; simplifies to an ODE for $h $, leaving us with the two dimensional ODE BVP: &lt;span class=&quot;math&quot;&gt;\(\dot h = \gamma^{-1} \left( \rho - \partial_x f(x,h) \right)\)&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\(\dot x = f(x,h)\)&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\(x(0) = X_0 \qquad x(T) = X_T\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which we can solve by a variety of direct or indirect approaches. Note that we have analytically for &lt;span class=&quot;math&quot;&gt;\(f(x)\)&lt;/span&gt; given above &lt;span class=&quot;math&quot;&gt;\[ \partial_x f = - \alpha \frac{ ( C K - 2 x K - 2 x C + 3 x^2) }{ K ^ 2 } - h \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For instance, solving with shooting or basic collocation:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6059/6279431460_c76e58240d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/training_prob2_collocation.R&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: Optimal Control</title>
	 <link href="/2011/10/21/friday-optimal-control.html"/>
   <updated>2011-10-21T23:15:08+00:00</updated>
   <id>/10/21/friday-optimal-control</id>
   <content type="html">&lt;h2 id=&quot;optimal-control&quot;&gt;Optimal control&lt;/h2&gt;
&lt;p&gt;Imagine we’re trying to minimize &lt;span class=&quot;math&quot;&gt;\(J = \theta( y(t_F), t_F)\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;subject to both the state equations: &lt;span class=&quot;math&quot;&gt;\(\dot y = f(y(t), u(t))\)&lt;/span&gt;, Note these are continuous, applying at all times &lt;span class=&quot;math&quot;&gt;\(t\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;and boundary conditions: &lt;span class=&quot;math&quot;&gt;\(\psi(y(t_F), u(t_F), t_F) = 0\)&lt;/span&gt;. These are discrete, applying only at fixed time $t_F $.  We have to put the continuous constraint in as an integral:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \hat J = \left[\phi + \mathbf{\nu}^T \psi \right]_{t_F} - \int_{t_I}^{t_F} \mathbf{\lambda}^T \left(\dot{\mathbf{y}} - f(\mathbf{y}(t),\mathbf{u}(t)) \right) dt \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;compare to the Lagrangian minimizing &lt;span class=&quot;math&quot;&gt;\(F(x)\)&lt;/span&gt; under the constraint &lt;span class=&quot;math&quot;&gt;\(c(\mathbf{x} ) = 0\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ F(\mathbf{x}) - \mathbf{\lambda}^T \mathbf{c}(\mathbf{x}) = F(\mathbf{x}) - \sum_{i=1}^m \lambda_i c_i(\mathbf{x}) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can add the discrete boundary conditions in with classic Lagrange multiplier&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Hamiltonian_(control_theory)&quot;&gt;Differences&lt;/a&gt; between Hamiltonian of Pontryagin and that in mechanics. Why didn’t anyone tell me about &lt;a href=&quot;https://netfiles.uiuc.edu/liberzon/www/teaching/sussmann-willems.pdf&quot;&gt;this paper&lt;/a&gt;!&lt;/p&gt;
&lt;h3 id=&quot;sample-problem&quot;&gt;Sample problem&lt;/h3&gt;
&lt;p&gt;from page 353 (10.6.10), Judd&lt;/p&gt;
&lt;p&gt;Maximize the objective function: &lt;span class=&quot;math&quot;&gt;\[ \max_c \int_0^T e^{-\rho t} u(c) dt \]&lt;/span&gt; s.t. &lt;span class=&quot;math&quot;&gt;\[\dot A = f(A) + w(t) -c(t) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ A(0) = A(T) = 0 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with w(t) wage rate at time t A(t) assets at ime t, and f(A) the return on invested assets&lt;/p&gt;
&lt;p&gt;From the statement of the problem, we have: the Hamiltonian: &lt;span class=&quot;math&quot;&gt;\(H = u(c) + \lambda ( f(A) + w(t) -c )\)&lt;/span&gt; and the costate eqn: &lt;span class=&quot;math&quot;&gt;\(\dot \lambda = \lambda (\rho - f&amp;#39;(A) )\)&lt;/span&gt; and bdry conditions.&lt;/p&gt;
&lt;p&gt;assuming u concave in c, the maximum principle gives us: the first order condition that: &lt;span class=&quot;math&quot;&gt;\[ 0 = \partial_c H = u&amp;#39;(c) - \lambda \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So we’re left with a nice ODE system: &lt;span class=&quot;math&quot;&gt;\[ \dot A = f(A) + w(t) - C(\lambda) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \dot \lambda = \lambda (\rho - f&amp;#39;(A)) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ A(0) = A(T) = 0 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s assume functional forms for the utility: &lt;span class=&quot;math&quot;&gt;\[ u(c) = c^{1+\gamma}/(1+\gamma) \]&lt;/span&gt; and the asset return: &lt;span class=&quot;math&quot;&gt;\[ f(A) = rA \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then our system becomes &lt;span class=&quot;math&quot;&gt;\[ \dot A = rA + w(t) - c(t) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \dot \lambda = \lambda (\rho - r ) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From the max principle of Hamiltonian, first order condition &lt;span class=&quot;math&quot;&gt;\[ 0 = \partial_c H \]&lt;/span&gt;, so &lt;span class=&quot;math&quot;&gt;\[ u&amp;#39;(c) -\lambda = c^{\gamma} -\lambda \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \lambda = c^{\gamma} \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \frac{d\lambda}{dt} = \frac{d\lambda}{dc}\frac{d c}{dt} \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \frac{d\lambda}{dc} = \gamma c^{\gamma} \]&lt;/span&gt; which we sub into the costate equation to get &lt;span class=&quot;math&quot;&gt;\[ \frac{d\lambda}{dt} = c^{\gamma} (\rho - r) \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \gamma c^\gamma \frac{dc}{dt} = c^{\gamma} (\rho - r) \]&lt;/span&gt; which simplfiies to: &lt;span class=&quot;math&quot;&gt;\[ \frac{dc}{dt} = \frac{c}{\gamma} (\rho - r) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and our second equation is still: &lt;span class=&quot;math&quot;&gt;\[ \dot A = rA + w(t) - c(t) \]&lt;/span&gt; And our boundary conditions: &lt;span class=&quot;math&quot;&gt;\[ A(0) = A(T) = 0 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So a nice ODE BVP we’re ready to solve.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday - some parrotfish & labrid runs on method2</title>
	 <link href="/2011/10/20/thursday-some-parrotfish-runs-on-method2.html"/>
   <updated>2011-10-20T16:20:14+00:00</updated>
   <id>/10/20/thursday-some-parrotfish-runs-on-method2</id>
   <content type="html">&lt;p&gt;Running:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-17 method2_parrotfish.R – Done. Below.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-27 method2_labrids.R (with three partitions)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-13 method2_labrids_phar.R (two partitions)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-19 method2_labrids_intra.R (two partitions)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;parrotfish&quot;&gt;Parrotfish&lt;/h2&gt;
&lt;h4 id=&quot;phylogeny&quot;&gt;Phylogeny&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6101/6265110970_b52d8ca4c7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The .y indicates the trait has been size-corrected.  Parameters reported from estimations in the full model.  All sets converged except open lever ratio. Error bars indicate 1 standard deviation estimated from the likelihood curvature.  Lighter color indicates the presence of an intramandibular joint, as coded in the phylogeny above.&lt;/p&gt;
&lt;h4 id=&quot;strength-of-selection&quot;&gt;Strength of Selection&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6099/6264563965_b8442e9255_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;evolutionary-rate&quot;&gt;Evolutionary Rate&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6057/6264563979_c39b2ae9b1_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;optimum&quot;&gt;Optimum&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6265093854_8f0141ff95_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;wrasses&quot;&gt;Wrasses&lt;/h2&gt;
&lt;h4 id=&quot;strength-of-selection-1&quot;&gt;Strength of Selection&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6037/6264757205_079488b3bc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;evolutionary-rate-1&quot;&gt;Evolutionary Rate&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6221/6264757231_2363f098d6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;optimum-1&quot;&gt;Optimum&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6174/6264757239_8233630f34_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;phylogeny-1&quot;&gt;Phylogeny&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6110/6265295834_5631e1a270_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(&lt;a href=&quot;http://www.carlboettiger.info/archives/1534&quot;&gt;Data background&lt;/a&gt;) Next&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compare open and close ratios in oumv and ouma models (within each partition scheme).&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Optimal Control Exploration</title>
	 <link href="/2011/10/19/optimal-control-exploration.html"/>
   <updated>2011-10-19T23:01:10+00:00</updated>
   <id>/10/19/optimal-control-exploration</id>
   <content type="html">&lt;p&gt;Translating Jim’s Matlab code.&lt;/p&gt;
&lt;p&gt;Adapted for Octave.&lt;/p&gt;
&lt;p&gt;R version.&lt;/p&gt;
&lt;p&gt;Document review:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Chapter 04_Sanchirico_Final.pdf&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SanchiricoOptimalSpace_JEEM.pdf (Sanchirico &amp;amp; Wilen, 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal_Rebuilding_AJAE2010.pdf, Optimal_Rebuilding_Supp_Material.pdf (Sanchirico &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sanchirico_editsembedded.pdf: Book Chapter 1:  Economically Optimal Management of a Metapopulation&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reviewing Bett’s Practical Methods for Optimal Control using Nonlinear Programming. (( &lt;a href=&quot;http://www.mendeley.com/library/#&quot;&gt;Practical Methods for Optimal Control and Estimation Using Nonlinear Programming, Second Edition (Advances in Design and Control)&lt;/a&gt; John T. Betts (2009) &lt;em&gt;Society for Industrial &amp;amp; Applied Mathematics&lt;/em&gt; p. 448))&lt;/p&gt;
&lt;h3 id=&quot;basics&quot;&gt;Basics&lt;/h3&gt;
&lt;h4 id=&quot;newtons-method&quot;&gt;Newton’s Method:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;in solving roots (constraint), Jacobian. (secant methods)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt; in solving (unconstrained) optimization, Hessian&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;equality-constrained-optimization&quot;&gt;Equality-constrained Optimization:&lt;/h4&gt;
&lt;p&gt;Lagrangian multipliers -&amp;gt; optimization.  Hessian of Lagrangian, gives KTT system:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \begin{pmatrix} H_L &amp;amp; G^T \\ G &amp;amp; 0 \end{pmatrix} = \pmatrix{ - p \\ \bar \lambda}   = \pmatrix{ g\\ c } \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Newton’s.  Estimating Jacobian/Hessian by Quasi-Newton (Secant) approach.  e.g. BFGS update.&lt;/p&gt;
&lt;h4 id=&quot;inequality-constrained-optimization&quot;&gt;Inequality-Constrained Optimization:&lt;/h4&gt;
&lt;p&gt;define Active set &lt;span class=&quot;math&quot;&gt;\(\mathcal A\)&lt;/span&gt; of constraints.  if &lt;span class=&quot;math&quot;&gt;\(c_i(x) \geq 0\)&lt;/span&gt; then active when &lt;span class=&quot;math&quot;&gt;\(\lambda_i^* \geq 0\)&lt;/span&gt;, e.g. active for &lt;span class=&quot;math&quot;&gt;\(i \in \mathcal{A}\)&lt;/span&gt;. If in the active set, can treat as equality, otherwise constraint is removed from Lagrangian.&lt;/p&gt;
&lt;h4 id=&quot;quadratic-programming&quot;&gt;Quadratic Programming:&lt;/h4&gt;
&lt;p&gt;If we have&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;quadratic objective &lt;span class=&quot;math&quot;&gt;\(F(x) = g^T x + \frac{1}{2} x^T H x\)&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;\(H\)&lt;/span&gt; positive-definite.  (&lt;span class=&quot;math&quot;&gt;\(H = 0\)&lt;/span&gt; becomes a LP problem).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;linear constraints &lt;span class=&quot;math&quot;&gt;\(Ax = a, Bx \geq b\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An active set algorithm:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Newton-minimize the active set Lagrangian (as equalities).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Take the largest step in direction &lt;span class=&quot;math&quot;&gt;\(p\)&lt;/span&gt; that doesn’t violate the inactive set. (step size &lt;span class=&quot;math&quot;&gt;\(\alpha  &amp;lt; 1\)&lt;/span&gt; in &lt;span class=&quot;math&quot;&gt;\(\bar x = x + \alpha p\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If the step is restricted by inactive set, add to active set and repeat.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;globalization-strategies&quot;&gt;Globalization strategies&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Merit function (just use F? use quadratic penalty?) decides if method is “working”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Line-search method: what to do when step doesn’t improve merit function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trust-region methods&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Filters&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;nonlinear-programming&quot;&gt;Nonlinear Programming&lt;/h4&gt;
&lt;p&gt;minimize objective &lt;span class=&quot;math&quot;&gt;\(F(x)\)&lt;/span&gt; subject to &lt;span class=&quot;math&quot;&gt;\(m\)&lt;/span&gt; constraints &lt;span class=&quot;math&quot;&gt;\(c_L \leq c(x) \leq c_U\)&lt;/span&gt; and the simple bounds &lt;span class=&quot;math&quot;&gt;\(x_L \leq x \leq x_U\)&lt;/span&gt; .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Make quadratic from Taylor approximation to Lagrangian and solve this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Introduce merit function&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;what-can-go-wrong&quot;&gt;What can go wrong&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Infeasible constraints&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rank-deficient constraints&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Constraint redundancy (confuses the active set definition)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discontinuities&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;scaling&quot;&gt;Scaling&lt;/h4&gt;
&lt;p&gt;Scale variables appropriately, same range, magnitude, etc.  Typically automated in a good algorithm.&lt;/p&gt;
&lt;h3 id=&quot;large-sparse-nlp&quot;&gt;Large, Sparse, NLP&lt;/h3&gt;
&lt;p&gt;(This is a direct approach.  Indirect methods reformulate as a boundary value problem by the Hamiltonian and solve that instead (via shooting, etc).&lt;/p&gt;
&lt;h2 id=&quot;finite-horizon-optimal-control-problems&quot;&gt;Finite-Horizon Optimal Control Problems&lt;/h2&gt;
&lt;p&gt;On to collocation solutions to boundary value problems.  Switching to:&lt;/p&gt;
&lt;p&gt;Judd, K. L. (1998). &lt;em&gt;Numerical Methods in Economics.&lt;/em&gt; The MIT Press. Retrieved from http://www.amazon.com/Numerical-Methods-Economics-Kenneth-Judd/dp/0262100711&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\max_u \int_O^T e^{\rho t} \pi(x,u,t) dt + W(x(T)) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;s.t. &lt;span class=&quot;math&quot;&gt;\(\dot x = f(x,u,t)\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\(x(0) = x_0\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where we have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\(n\)&lt;/span&gt; state variables &lt;span class=&quot;math&quot;&gt;\(x \in R^n\)&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\(m\)&lt;/span&gt; controls &lt;span class=&quot;math&quot;&gt;\(u \in R^m\)&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a discount rate &lt;span class=&quot;math&quot;&gt;\(\rho\)&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a rate of payoff &lt;span class=&quot;math&quot;&gt;\(\pi(x,u,t) : R^n \times R^m \times R \to R\)&lt;/span&gt;, (a.k.a. the utility function)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\(W(x(T))\)&lt;/span&gt;, a value of the terminal state, (or otherwise this is 0, and we have terminal condition &lt;span class=&quot;math&quot;&gt;\(x(T) = x^T\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and &lt;span class=&quot;math&quot;&gt;\(f\)&lt;/span&gt; the law of motion (biology).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can define the current-value Hamiltonian:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ H(x, u, \lambda, t) = \pi(x,u,t) + \lambda^T f(x,u,t) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;\(\lambda \in R^n\)&lt;/span&gt; are shadow prices for &lt;span class=&quot;math&quot;&gt;\(x\)&lt;/span&gt;, subject to the costate equations:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot \lambda = \rho \lambda - (\partial_x \pi + \lambda^T \partial_x f ) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(e.g. the costate equation is $ = -_x H $.  Why? Proof?)&lt;/p&gt;
&lt;p&gt;and then the maximum principle implies that we get the optimal control (time-dependent values for parameters) by:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ u(t) \in \arg \max_u H(x,u, \lambda, t) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If &lt;span class=&quot;math&quot;&gt;\(H\)&lt;/span&gt; is &lt;span class=&quot;math&quot;&gt;\(C^2\)&lt;/span&gt; and concave in &lt;span class=&quot;math&quot;&gt;\(u\)&lt;/span&gt;, there’s a unique solution &lt;span class=&quot;math&quot;&gt;\(U(x,\lambda,t)\)&lt;/span&gt;, given by first-order condition&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\(0 = \partial_u H(x, U(x,\lambda,t), \lambda, t)\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which satisfies the costate equation, the law of motion, and the boundary value problem.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sanchirico J and Wilen J (2005). “Optimal Spatial Management of Renewable Resources: Matching Policy Scope to Ecosystem Scale.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.001&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sanchirico J, Wilen J and Coleman C (2010). “Optimal Rebuilding of A Metapopulation.” &lt;em&gt;American Journal of Agricultural Economics&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0002-9092, &lt;a href=&quot;http://dx.doi.org/10.1093/ajae/aaq045&quot;&gt;http://dx.doi.org/10.1093/ajae/aaq045&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Mathematical Elements of Attack Risk Analysis for Mountain Pine tribolium</title>
	 <link href="/2011/10/18/mathematical-elements-of-attack-risk-analysis-for-mountain-pine-beetles.html"/>
   <updated>2011-10-18T08:00:46+00:00</updated>
   <id>/10/18/mathematical-elements-of-attack-risk-analysis-for-mountain-pine-beetles</id>
   <content type="html">&lt;p&gt;(POWELL &lt;em&gt;et. al.&lt;/em&gt; 2000)&lt;/p&gt;
&lt;h2 id=&quot;regimes&quot;&gt;Regimes&lt;/h2&gt;
&lt;p&gt;endemic - attack the weakling trees. epidemic&lt;/p&gt;
&lt;p&gt;Tree has defenses. Aggregation of beetles can exhaust these, but then must disperse to other trees to avoid larval competition.&lt;/p&gt;
&lt;h2 id=&quot;mathematical-elements&quot;&gt;Mathematical Elements&lt;/h2&gt;
&lt;p&gt;The cast, (after some non-dimensionalization)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;$ Q(x,y,t) = R P  -   Q  R$ Nesting beetles&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ H(x,y,t) =   R P - H R $ Holes: measures attack success&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ R(x,y,t) = ( 1 - R ) R - R H $  Resin: tree defense success&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ A(x,y,t) $ Some complex phermone plume, dependent on $ Q $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ P(x,y,t) =  -(vf(A)) - P)- P  - RP + (x,y,t) $ Flying beetles diffuse&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;density-based-pde&quot;&gt;Density-based PDE&lt;/h3&gt;
&lt;p&gt;Hosting/nesting behavior: function of insect-pheromone response, host-tree vigor.&lt;/p&gt;
&lt;p&gt;All about the competing processes $ Q $ and $ H $.&lt;/p&gt;
&lt;h3 id=&quot;local-projection-onto-ode-system&quot;&gt;Local projection onto ODE system&lt;/h3&gt;
&lt;p&gt;Spatial dynamics play out in things that move ($ P $ and $A $ ).  Consider a focal tree of fixed density, and we can examine it’s impact on it’s radial neighbors by replacing the plume $ A $ with a function of nesting beetle number $ q $, such that $ P $ can be described as infestation function on the current rate $ I(q) $.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6113/6257315953_99ed7abb02_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;stem-competition-model&quot;&gt;Stem-competition model&lt;/h3&gt;
&lt;p&gt;Becoming spatial again: with stand-growth model.&lt;/p&gt;
&lt;p&gt;Factors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;stand age (changes tree vigor), older stands more robust due to thinning as well as individual robustness.  But effect is weak since it can saturate quickly, old enough trees are safe.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;emergence density (increases risk)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;canopy closure (extends risk)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wind (disperses plume)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;POWELL J, KENNEDY B, WHITE P, BENTZ B, LOGAN J and ROBERTS D (2000). “Mathematical Elements of Attack Risk Analysis For Mountain Pine Beetles.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;204&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.2000.1080&quot;&gt;http://dx.doi.org/10.1006/jtbi.2000.1080&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms Group: Literate programming</title>
	 <link href="/2011/10/17/algorithms-group-literate-programming.html"/>
   <updated>2011-10-17T18:41:42+00:00</updated>
   <id>/10/17/algorithms-group-literate-programming</id>
   <content type="html">&lt;p&gt;Algorithms group today took a brake from discussing algorithms for an aside on coding practices.  Today we focused primarily on literate programming tools for making better documented, more readable code.   We covered:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://users.stat.umn.edu/~charlie/Sweave/&quot;&gt;Sweave&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html&quot;&gt;Google style guide&lt;/a&gt;, also see R core-team developer Hadley Wickam’s&lt;a href=&quot;https://github.com/hadley/devtools/wiki/Style&quot;&gt;style guide&lt;/a&gt; (modified from Google)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R coding practices grab-bag: using functionalized code, {…}, S3 vs S4 classes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/roxygen/&quot;&gt;roxygen&lt;/a&gt;, &lt;a href=&quot;http://cran.r-project.org/web/packages/roxygen2/index.html&quot;&gt;roxygen2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next time: Github, then we’ll spend 30 minutes collaboratively adding roxygen documentation to our existing codes and committing changes over git.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Rewrites</title>
	 <link href="/2011/10/17/pnas-rewrites.html"/>
   <updated>2011-10-17T17:37:19+00:00</updated>
   <id>/10/17/pnas-rewrites</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Add more data set examples&lt;/li&gt;
&lt;li&gt;Remove skew, Remove the broken CaCO3 analysis&lt;/li&gt;
&lt;li&gt;Show distributions for increased sampling effort.&lt;/li&gt;
&lt;li&gt;Does time interval make a difference for convergence of deuterium2 run?  Nope.  Fails in parallel, running in series.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code&quot;&gt;Code:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;get away from explicit parallelization and deeply nested functions.&lt;/li&gt;
&lt;li&gt;really master optimizers, and avoid errors &amp;amp; failed convergence.&lt;/li&gt;
&lt;li&gt;store finished data for plotting as data objects.&lt;/li&gt;
&lt;li&gt;CaCO3 example -&amp;gt; MLE estimate of unstable model doesn’t converge, shouldn’t be used to simulate then! Add functions to check this convergence.&lt;/li&gt;
&lt;li&gt;Examples: Could use further examples, not so convincing as is.&lt;/li&gt;
&lt;li&gt;rescale time before fitting doesn’t change anything.&lt;/li&gt;
&lt;li&gt;show fixed true pos, fixed false pos.&lt;/li&gt;
&lt;li&gt;show thresholds, show observed&lt;/li&gt;
&lt;li&gt;scripts that save must use rm list=ls()&lt;/li&gt;
&lt;li&gt;G6, G10, ibm_short, deut2 running.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday, more runs</title>
	 <link href="/2011/10/17/friday-more-runs.html"/>
   <updated>2011-10-17T13:39:08+00:00</updated>
   <id>/10/17/friday-more-runs</id>
   <content type="html">&lt;p&gt;A couple more runs:&lt;/p&gt;
&lt;p&gt;G10:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6044/6243871675_7d491ceda2_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;G8: &lt;img src=&quot;http://farm7.staticflickr.com/6055/6247535358_8074f6ea87_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;G7: &lt;img src=&quot;http://farm7.staticflickr.com/6155/6247407000_d0b32cc52b_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;G6: &lt;img src=&quot;http://farm7.staticflickr.com/6114/6244395206_5524489815_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;K9: &lt;img src=&quot;http://farm7.staticflickr.com/6032/6246861765_73a54e65dd_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;K8: &lt;img src=&quot;http://farm7.staticflickr.com/6096/6246858279_1cf2350980_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Stable model: &lt;img src=&quot;http://farm7.staticflickr.com/6174/6247453182_3d67915c81_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;IBM critical on first half of data: &lt;img src=&quot;http://farm7.staticflickr.com/6179/6246814345_f05d594959_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Estimate the nonlinear model, show this method does worse than the linear estimation&lt;/li&gt;
&lt;li&gt;Apply to systems with alternate dynamics.&lt;/li&gt;
&lt;li&gt;Parameter distributions&lt;/li&gt;
&lt;li&gt;writing &amp;amp; formatting continue…&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday, Fisheries course</title>
	 <link href="/2011/10/13/thursday-fisheries-course.html"/>
   <updated>2011-10-13T13:28:49+00:00</updated>
   <id>/10/13/thursday-fisheries-course</id>
   <content type="html">&lt;p&gt;Fisheries impact on forage fish.  Forage fish impact on the primary fisheries.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Sustainable_fisheries#cite_note-65&quot;&gt;Huxley, 1882&lt;/a&gt;: “Great Sea Fisheries cannot be exhausted” (&lt;a href=&quot;http://aleph0.clarku.edu/huxley/SM5/fish.html&quot;&gt;full address&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Worm &lt;em&gt;et al.&lt;/em&gt;, 2006: All fish will collapse by 2050 (Worm &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Benguela Current upwelling (Anchovy collapse)&lt;/p&gt;
&lt;p&gt;Discussion of: Prey switching impact?&lt;/p&gt;
&lt;p&gt;Wasp-waist ecosystems&lt;/p&gt;
&lt;p&gt;Ecopath/ecosim vs &lt;a href=&quot;http://www.csiro.au/science/Atlantis-ecosystem-model.html&quot;&gt;Atlantis&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Questions:&lt;/p&gt;
&lt;p&gt;Can we identify the nature of control?&lt;/p&gt;
&lt;p&gt;Importance of wasp-waist control.&lt;/p&gt;
&lt;p&gt;regime switching&lt;/p&gt;
&lt;p&gt;Negative impact of forage fish on ground fish. e.g. Iceland appearance of mackerel in their waters.  Can they fish it as an invasive&lt;/p&gt;
&lt;p&gt;Groundfish, like cod, can eat primarily forage fish, or invertebrates&lt;/p&gt;
&lt;p&gt;Big gaps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;modeling tools, non-equilibrium.&lt;/li&gt;
&lt;li&gt;examples where forage fish collapse&lt;/li&gt;
&lt;li&gt;variability, impact of variability.&lt;/li&gt;
&lt;li&gt;Where the heck are the innate oscillations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Final revisions on Digital Catalyst grant&lt;/li&gt;
&lt;li&gt;Digital catalyst grant submitted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Worm B, Barbier E, Beaumont N, Duffy J, Folke C, Halpern B, Jackson J, Lotze H, Micheli F, Palumbi S, Sala E, Selkoe K, Stachowicz J and Watson R (2006). “Impacts of Biodiversity Loss on Ocean Ecosystem Services.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;314&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1132294&quot;&gt;http://dx.doi.org/10.1126/science.1132294&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/10/12/wednesday-10.html"/>
   <updated>2011-10-12T22:01:56+00:00</updated>
   <id>/10/12/wednesday-10</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;8:30 gist - flush swap.  Catalyst grant review.&lt;/li&gt;
&lt;li&gt;9-9:30 SCHA stuff&lt;/li&gt;
&lt;li&gt;9:30 - query roc curve thresholds&lt;/li&gt;
&lt;li&gt;10 - 10:30 post rfishbase update&lt;/li&gt;
&lt;li&gt;10:30 http://openfisheries.org/&lt;/li&gt;
&lt;li&gt;11:15 back to roc curves.&lt;/li&gt;
&lt;li&gt;noon. curves threshold reading done.  lunch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PNAS writing, examples.&lt;/p&gt;
&lt;p&gt;Adding more Drake-data examples: on farm, running G10 and G6.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1pm-2pm domes&lt;/li&gt;
&lt;li&gt;2pm back to writing&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Launch additional data runs: deut2, trying in series.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rfishbase Tutorial - updated & extended</title>
	 <link href="/2011/10/12/rfishbase-tutorial-updated-extended.html"/>
   <updated>2011-10-12T11:59:49+00:00</updated>
   <id>/10/12/rfishbase-tutorial-updated-extended</id>
   <content type="html">&lt;p&gt;Updated rfishbase package. Include querying for a list of scientific names and the addition of more quantitative traits, though the selection is still somewhat limited. Demo includes how to grab some data to match a phylogenetic tree, and some regular expression (grep) searches for feeding behavior.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;Source code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/downloads/cboettig/rfishbase/rfishbase_0.0-4.zip&quot;&gt;Windows binary also available&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# demo.R&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;rm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;list=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ls&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)

###### Grabbing, Loading &amp;amp; Caching Fishbase Data ######

## Download and parse data for first 40 ids (36 fish)
&lt;span class=&quot;co&quot;&gt;#fish.data &amp;lt;- getData(1:40)&lt;/span&gt;

## Or just load the cached copy of the full fishbase data:
## Note that this loads the copy distributed with rfishbase.
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(fishbase)

## To get the most recent copy of fishbase, update the cache
## and load that.  The update may take up to 24 hours.  
&lt;span class=&quot;co&quot;&gt;# updateCache() &lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# loadCache(&amp;quot;2011-10-12fishdata.Rdat&amp;quot;)&lt;/span&gt;


###### Sample Analysis #########

## Lets start by looking at the distribution of all age data available:
yr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt;(fish.data, &lt;span class=&quot;st&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(yr, &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Age Distribution&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;age (years)&amp;quot;&lt;/span&gt;); 
nfish &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(fish.data)


&lt;span class=&quot;co&quot;&gt;# We can create partitions by taxon.  For instance, we get the index&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# to all fish wrasses and parrotfish by searching for both families&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# note the use of a &amp;quot;regular expression&amp;quot; to specify the OR command in the search&lt;/span&gt;
labrid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;familySearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(Labridae|Scaridae)&amp;quot;&lt;/span&gt;, fish.data)
goby &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;familySearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Gobiidae&amp;quot;&lt;/span&gt;, fish.data)


## Let&amp;#39;s see if there are more labrid species or goby speices on reefs:

&lt;span class=&quot;co&quot;&gt;# get all the labrids that are reefs &lt;/span&gt;
labrid.reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data[labrid])
&lt;span class=&quot;co&quot;&gt;# How many species are reef labrids:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(labrid.reef) &lt;span class=&quot;co&quot;&gt;# same as: length(fish.data[labrid][labrid.reef])&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# How many reef gobies:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt; (&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data[goby]) )


&lt;span class=&quot;co&quot;&gt;# Let&amp;#39;s plot the log length distribution of freshwater vs marine fish: &lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;freshwater&amp;quot;&lt;/span&gt;, fish.data)], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
         &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;marine fish are bigger&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;marine&amp;quot;&lt;/span&gt;, fish.data)], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
          &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)

&lt;span class=&quot;co&quot;&gt;# Note that we can also find anadromous fish:&lt;/span&gt;
anadromous &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;anadromous&amp;quot;&lt;/span&gt;, fish.data)



&lt;span class=&quot;co&quot;&gt;# this is useful for phylogenetic comparative methods.  For instance, load the labrid tree:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labridtree)

&lt;span class=&quot;co&quot;&gt;# get the species names (&amp;amp; remove underscores)&lt;/span&gt;
tree$tip.label&amp;lt;-&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, tree$tip.label)
tip.labels &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$tip.label


myfish &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;findSpecies&lt;/span&gt;(tip.labels, fish.data) 
species.names &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data[myfish], function(x) x$ScientificName)

&lt;span class=&quot;co&quot;&gt;# create a trait matrix of fin data&lt;/span&gt;
traits &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getQuantTraits&lt;/span&gt;(fish.data[myfish])
&lt;span class=&quot;kw&quot;&gt;rownames&lt;/span&gt;(traits) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names
depths &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getDepth&lt;/span&gt;(fish.data[myfish])
&lt;span class=&quot;kw&quot;&gt;rownames&lt;/span&gt;(depths) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names

size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt;(fish.data[myfish], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(size) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names

&lt;span class=&quot;co&quot;&gt;# who&amp;#39;s missing from treebase entirely?&lt;/span&gt;
missing&amp;lt;-tip.labels[!&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tip.labels %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names ]
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tree, missing)
&lt;span class=&quot;co&quot;&gt;# drop species with NAs for max depth&lt;/span&gt;
depth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;depths[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
missing&amp;lt;-&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(depth[&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(depth)])
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tr, missing)
&lt;span class=&quot;co&quot;&gt;# repeat for NAs for length&lt;/span&gt;
missing&amp;lt;-&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(size[&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(size)])
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tr, missing)

&lt;span class=&quot;co&quot;&gt;# drop all the data not in the tree &lt;/span&gt;
pruned.names &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr$tip.label
size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;size[pruned.names]
depth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;depth[pruned.names]

&lt;span class=&quot;co&quot;&gt;# Does depth correlate with size after correcting for phylogeny?&lt;/span&gt;
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pic&lt;/span&gt;(size, tr)
y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pic&lt;/span&gt;(depth, tr)
&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;lm&lt;/span&gt;(y~x&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;)) &lt;span class=&quot;co&quot;&gt;# Yes&lt;/span&gt;


&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(geiger)
bm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(tr, depth, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;)
ou &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(tr, depth, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;OU&amp;quot;&lt;/span&gt;)


invert &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;invertebrate&amp;quot;&lt;/span&gt;, x$trophic))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
piscivore &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(piscivore|fish)&amp;quot;&lt;/span&gt;, x$trophic))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[invert], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
         &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;invert eaters vs piscivores&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[piscivore], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
          &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)





## Using a treebase tree
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rtreebase)
## Need to find an example of a fish tree on treebase that has branchlengths
&lt;span class=&quot;co&quot;&gt;#trees &amp;lt;- search_treebase(&amp;quot;Scarus&amp;quot;, by=&amp;quot;taxon&amp;quot;, branch=TRUE)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#str &amp;lt;- trees[[1]]$tip.label&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#gsub(&amp;quot;(\\w+)_(\\w+)_.*&amp;quot;, &amp;quot;\\1 \\2&amp;quot;, str)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#myfish &amp;lt;- findSpecies(species, fish.data) &lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#getQuantTraits(fish.data[myfish])&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Loo Botsford, CPB seminar</title>
	 <link href="/2011/10/11/lou-botsford-cpb-seminar.html"/>
   <updated>2011-10-11T17:04:57+00:00</updated>
   <id>/10/11/lou-botsford-cpb-seminar</id>
   <content type="html">&lt;h2 id=&quot;effects-of-fishing-on-the-sensitivity-of-fisheries-to-climate-variability&quot;&gt;“Effects of Fishing on the Sensitivity of Fisheries to Climate Variability”&lt;/h2&gt;
&lt;p&gt;Truncation of age structure.&lt;/p&gt;
&lt;p&gt;juvenation (younger population), maternal effects (first-year breeders are poor), genetic selection, ability to track environment (vs smoothing – averaging over longer times).&lt;/p&gt;
&lt;p&gt;Outline:&lt;/p&gt;
&lt;h4 id=&quot;empirical-evidence-for-increased-variability-model-explanations&quot;&gt;Empirical evidence for increased variability, model explanations&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Story begins with Hsieh, et al 2006.  Long time series, increasing fluctuations. (Hsieh &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Anderson et al no age structure model (Anderson &lt;em&gt;et. al.&lt;/em&gt; 2008).  Imagine waht age structure would do.  Mortality rate as noise (funny, since it’s not so variable). Assumed increase r leads to instability.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shelton and Mangel (2011) Shelton &amp;amp; Mangel, 2011.  some age structure, same dome-shaped Ricker for recruitment.  Conclude noise necessary for variability – it’s not in intrinsic oscillations (large r/chaotic).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;cohort-resonance&quot;&gt;Cohort resonance&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Starts with (BJORNSTAD &lt;em&gt;et. al.&lt;/em&gt; 2004).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Leslie matrix (i.e. linear), except with Beverton-Holt in recruitment.  Intersection of 1/LEP with stock-recruitment curve is the equilibrium.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lou’s work (Worden &lt;em&gt;et. al.&lt;/em&gt; 2010) finds: Resonance increases with fishing.  Random growth rate drives resonance more strongly than survival.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;mechanisms-governing-increasing-sensitivity-with-fishing&quot;&gt;Mechanisms governing increasing sensitivity with fishing&lt;/h4&gt;
&lt;p&gt;Drive this system with white noise, introduces variability on a low-frequency trend.  Easily mistake these long-term trends for climate change effects?&lt;/p&gt;
&lt;p&gt;Different signals in different measurements:&lt;/p&gt;
&lt;h4 id=&quot;implications-for-science-management&quot;&gt;Implications for science, management&lt;/h4&gt;
&lt;h5 id=&quot;scientific-conclusions&quot;&gt;Scientific conclusions&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;It’s not Environment -&amp;gt; Catch.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It’s Environment -&amp;gt; Growth &amp;amp; Survival -&amp;gt; Recruitment. Egg Production. Catch&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use not just variance, but the spectrum.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;management&quot;&gt; Management&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Current Magnuson Act calls for explicit estimates in uncertainty and precaution scaling with uncertainty.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;stage structured lumping loses many of the fluctuations.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hsieh C, Reiss C, Hunter J, Beddington J, May R and Sugihara G (2006). “Fishing Elevates Variability in The Abundance of Exploited Species.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;443&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05232&quot;&gt;http://dx.doi.org/10.1038/nature05232&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Anderson C, Hsieh C, Sandin S, Hewitt R, Hollowed A, Beddington J, May R and Sugihara G (2008). “Why Fishing Magnifies Fluctuations in Fish Abundance.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;452&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06851&quot;&gt;http://dx.doi.org/10.1038/nature06851&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BJORNSTAD O, NISBET R and FROMENTIN J (2004). “Trends And Cohort Resonant Effects in Age-Structured Populations.” &lt;em&gt;Journal of Animal Ecology&lt;/em&gt;, &lt;strong&gt;73&lt;/strong&gt;. ISSN 0021-8790, &lt;a href=&quot;http://dx.doi.org/10.1111/j.0021-8790.2004.00888.x&quot;&gt;http://dx.doi.org/10.1111/j.0021-8790.2004.00888.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Worden L, Botsford L, Hastings A and Holland M (2010). “Frequency Responses of Age-Structured Populations: Pacific Salmon as an Example.” &lt;em&gt;Theoretical Population Biology&lt;/em&gt;, &lt;strong&gt;78&lt;/strong&gt;. ISSN 00405809, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tpb.2010.07.004&quot;&gt;http://dx.doi.org/10.1016/j.tpb.2010.07.004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fluctuations of Fish Populations And The Magnifying Effects of Fishing, A. O. Shelton, M. Mangel, (2011) &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1100334108&quot;&gt;10.1073/pnas.1100334108&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms Group, HMM meets EM</title>
	 <link href="/2011/10/10/algorithms-group-hmm-meets-em.html"/>
   <updated>2011-10-10T18:42:03+00:00</updated>
   <id>/10/10/algorithms-group-hmm-meets-em</id>
   <content type="html">&lt;p&gt;Alisa reviews &lt;a href=&quot;http://www.carlboettiger.info/archives/2521&quot;&gt;HMM&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/archives/2215&quot;&gt;EM&lt;/a&gt;, and shows us how to combine them.&lt;/p&gt;
&lt;p&gt;The EM version treats the transition probabilities (exchanging coins) and emission probabilities (chance of heads/tails under each coin) as unknowns.  Make a guess, calculate the blue line from &lt;a href=&quot;http://www.carlboettiger.info/archives/2521&quot;&gt;before&lt;/a&gt;.  This can be used to calculate a new guess that will hill climb to the locally optimum solution (EM).&lt;/p&gt;
&lt;p&gt;New guess for the transition probability is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ A_{lk} = \frac{f_i b_i a_{lk} e_k(x_{i+1}) }{P(x)} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;New guess for the emission probability is just:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{\sum f_i b_i}{P(x)}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(example code coming)&lt;/p&gt;
&lt;p&gt;Future Topics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sweave/literate programming, Github – Carl&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Large Scale spatial analysis – Yaniv&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bayesian CP analysis – Alisa&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dirchelet process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;machine learning: GA/SVM/NN – Dave&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal Control/Lagrangian&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;EC2 / HPC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;debug/profile/unit tests/code optimization&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Matt Helmus visit</title>
	 <link href="/2011/10/07/matt-helmus-visit.html"/>
   <updated>2011-10-07T14:36:33+00:00</updated>
   <id>/10/07/matt-helmus-visit</id>
   <content type="html">&lt;h2 id=&quot;notes-from-presentation&quot;&gt;Notes from presentation&lt;/h2&gt;
&lt;h3 id=&quot;species-area-curve&quot;&gt;1. Species-area curve:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Species sorting by environment.&lt;/li&gt;
&lt;li&gt;species clustering due to limited dispersal&lt;/li&gt;
&lt;li&gt;Random displacement (faster saturation)&lt;/li&gt;
&lt;li&gt;In-situ speciation looks like clustering&lt;/li&gt;
&lt;li&gt;Compare to colonization&lt;/li&gt;
&lt;li&gt;Phylogenetic species variability metric: compare phylogenetic covariance matrix to a star-phylogeny, not expected to increase with area.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{n \textrm{tr}C - \sum C }{n(n-1)}\]&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;simulations&quot;&gt;2. Simulations:&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;species sort along an environmental gradient. BM trait determining position.  : closely related species clustered. Similar species are clustered.&lt;/li&gt;
&lt;li&gt;limited dispersal. BM trait for dispersal.  Closely related species are not clustered.&lt;/li&gt;
&lt;li&gt;random placement, proportional to abundance. Phylogeny proportional to abundance. no clustering.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;hmm, limited dispersal isn’t same as dispersal evolving.  differing in size&lt;/li&gt;
&lt;li&gt;have individual placement&lt;/li&gt;
&lt;li&gt;species-area curve is very poor measure of clustering?&lt;/li&gt;
&lt;li&gt;phylomatic tree.  yikes.&lt;/li&gt;
&lt;li&gt;decreasing phylo diversity with area.  phylogenetic repulsion&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;macroevolution-simulation&quot;&gt;3. macroevolution simulation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;each island assigned an extinction probability, exp decrease with is. area.&lt;/li&gt;
&lt;li&gt;in situ speciation vs colonization probability&lt;/li&gt;
&lt;li&gt;More in situ speciation generates more clustering, as expected.&lt;/li&gt;
&lt;li&gt;phylo diversity vs area: no relationship.  (Obviously colonizations make large diversity)&lt;/li&gt;
&lt;li&gt;ecologically neutral.  island diversity&lt;/li&gt;
&lt;li&gt;colonization and in situ speciation events not area dependent&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;anoles-example&quot;&gt;Anoles example&lt;/h4&gt;
&lt;h4 id=&quot;notes-from-tutorial&quot;&gt;Notes from tutorial&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Overview of linear mixed models, generalized lmm, phylogenetic glmm.&lt;/li&gt;
&lt;li&gt;Random effects with phylogenetic correlations.&lt;/li&gt;
&lt;li&gt;consider a phylogeny with trait as prevelance, overdispersed.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday - forage fish & cascades</title>
	 <link href="/2011/10/05/wednesday-forage-fish-cascades.html"/>
   <updated>2011-10-05T23:38:52+00:00</updated>
   <id>/10/05/wednesday-forage-fish-cascades</id>
   <content type="html">&lt;h3 id=&quot;forage-fish-presentation&quot;&gt;Forage fish presentation&lt;/h3&gt;
&lt;p&gt;Some simulations exploring top-down &amp;amp; bottom up control concepts in simple models.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \frac{dP}{dt} = \beta \alpha N P - \mu P \]&lt;/span&gt; Note that at equilibrium, &lt;em&gt;N&lt;/em&gt; depends only on predator dynamics, &lt;em&gt;P&lt;/em&gt; on &lt;em&gt;K&lt;/em&gt; and &lt;em&gt;r&lt;/em&gt;. &lt;span class=&quot;math&quot;&gt;\[\hat N = \frac{\mu}{\alpha\beta} \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \hat P = \frac{r}{\alpha}\left( 1 - \frac{N}{K} \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6229/6218801964_2959d33d3a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6172/6218281173_8baf1ac355_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Saturating predator response:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ \frac{dP}{dt} = \beta \alpha \frac{N}{H+N} P - \mu P \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Equilibrium:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{\mu H}{ \alpha\beta-\mu} \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[\frac{r}{\alpha} \left(1- \frac{\hat N}{K}\right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;see &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/demo/cascades2.R&quot;&gt;code&lt;/a&gt; for saturating example.&lt;/p&gt;
&lt;h3 id=&quot;wainwright-lab-meeting-presentation&quot;&gt;Wainwright Lab Meeting presentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Presented rfishbase, rtreebase demos.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
	 <link href="/2011/10/04/tuesday-9.html"/>
   <updated>2011-10-04T22:29:29+00:00</updated>
   <id>/10/04/tuesday-9</id>
   <content type="html">&lt;h2 id=&quot;hastings-seminar-forest-pest-outbreaks&quot;&gt;Hastings seminar: Forest Pest Outbreaks&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.google.com/document/d/17SN6FmLrhLrUNbaBgbH9iPVJX2I7ArVl3FdMJXX8QdA/edit?hl=en_US&quot;&gt;Schedule&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;prof-dave-rizzo&quot;&gt;Prof &lt;a href=&quot;http://plantpathology.ucdavis.edu/faculty/rizzo/lab/PI.html&quot;&gt;Dave Rizzo&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Reviews major pest outbreaks (&lt;a href=&quot;http://www.fs.fed.us/foresthealth/publications/ConditionsReport_09_final.pdf&quot;&gt;Major Forest Insect &amp;amp; Disease Conditions in the United States 2009 Update&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Mentions weekend’s &lt;a href=&quot;http://www.nytimes.com/2011/10/01/science/earth/01forest.html?_r=2&amp;amp;ref=temperaturerising&quot;&gt;NY Times piece&lt;/a&gt;, (and see author’s &lt;a href=&quot;http://green.blogs.nytimes.com/2011/10/03/dying-forests-how-bad-is-it-really/&quot;&gt;commentary&lt;/a&gt;), reviews major pest outrbreak trends.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;david-kling&quot;&gt;David Kling&lt;/h4&gt;
&lt;p&gt;Allee effects &amp;amp; Management (Gypsy moth). * Review review (Taylor &amp;amp; Hastings, 2005). * Simulation exploration: pmid: 19831081, * Also discuss (Tobin &lt;em&gt;et. al.&lt;/em&gt; 2011). * (Epanchin-Niell &amp;amp; Hastings, 2010).&lt;/p&gt;
&lt;h2 id=&quot;pmc&quot;&gt;PMC&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Peter/Graham edits.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Picked up some LaTeX tricks (problems) in final edits: * Got pdf 1.5 version error on including cairo_pdf figures.  adding &lt;code&gt;\pdfoptionpdfminorversion=5&lt;/code&gt; before the documentclass declaration solves this. * Using the fixed width paragraph option from the multirow package provides some flexible table formating.  See &lt;a href=&quot;http://stackoverflow.com/questions/2797270/advanced-table-in-latex-with-multiline-cells&quot;&gt;this example&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;teary-theory-tea&quot;&gt;Teary (Theory Tea)&lt;/h3&gt;
&lt;p&gt;Discussed this article on&lt;a href=&quot;http://www.sfu.ca/~mcollard/documents/MarshallJ.C.etal.2009.pdf&quot;&gt;hiring statistics&lt;/a&gt; in Ecology &amp;amp; Evolution, and the reactions of our various faculty to it.  Rather interesting, might be worth a post sometime.&lt;/p&gt;
&lt;h3 id=&quot;nick-fabinas-seminar&quot;&gt;Nick Fabina’s seminar&lt;/h3&gt;
&lt;p&gt;Excellent presentation on his corals work in CPB.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Taylor C and Hastings A (2005). “Allee Effects in Biological Invasions.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00787.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00787.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tobin P, Berec L and Liebhold A (2011). “Exploiting Allee Effects For Managing Biological Invasions.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01614.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01614.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Epanchin-Niell R and Hastings A (2010). “Controlling Established Invaders: Integrating Economics And Spread Dynamics to Determine Optimal Management.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2010.01440.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2010.01440.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday, wordpress backups, pmc edits</title>
	 <link href="/2011/09/30/friday-wordpress-backups-pmc-edits.html"/>
   <updated>2011-09-30T17:51:31+00:00</updated>
   <id>/09/30/friday-wordpress-backups-pmc-edits</id>
   <content type="html">&lt;h2 id=&quot;wordpress-local-copy&quot;&gt;Wordpress local copy&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;configured mysqldump backup, following &lt;a href=&quot;http://wiki.dreamhost.com/Mysqldump&quot;&gt;dreamhost wiki&lt;/a&gt; (added cron job manually instead of in panel).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;edit local wp-config.php to use localhost. Get the database name, user name and password from the lines above it, which are used later.&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&lt;span class=&quot;fu&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;DB_HOST&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;// ...and the server MySQL is running on&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;create user: log in as root&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mysql&lt;/span&gt; -u root -p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and create user&lt;/p&gt;
&lt;pre class=&quot;sourceCode sql&quot;&gt;&lt;code class=&quot;sourceCode sql&quot;&gt;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;database&lt;/span&gt; database_name
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;@&lt;span class=&quot;st&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;database&lt;/span&gt; database_name
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;usage&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;on&lt;/span&gt; *.* &lt;span class=&quot;kw&quot;&gt;to&lt;/span&gt; username@localhost &lt;span class=&quot;kw&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;privileges&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;on&lt;/span&gt; database_name.* &lt;span class=&quot;kw&quot;&gt;to&lt;/span&gt; username@localhost;
mysql&amp;gt; quit&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;yes you need the quotes around the password and the .* appended after database_name. Then can import the most recent dump.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mysql&lt;/span&gt; -u username -p database_name &lt;span class=&quot;kw&quot;&gt;&amp;lt;&lt;/span&gt; mysqldump_file.sql&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Install wordpress, configure. Set from /var/www to backup location, following &lt;a href=&quot;http://movingtofreedom.org/2007/05/09/how-to-wordpress-on-ubuntu-gnu-linux/&quot;&gt;any&lt;/a&gt; &lt;a href=&quot;https://help.ubuntu.com/community/WordPress&quot;&gt;decent&lt;/a&gt; tutorial.&lt;/p&gt;
&lt;h2 id=&quot;manuscript-edits&quot;&gt;Manuscript edits&lt;/h2&gt;
&lt;p&gt;power_curve.R still running on farm. Run just the needed analysis. Done, updated data files. Runs much faster on farm then on zero, kinda amazing. Need these kind of explanatory &lt;a href=&quot;http://www.carlboettiger.info/archives/286&quot;&gt;figures&lt;/a&gt;? Removed.&lt;/p&gt;
&lt;p&gt;Confidence intervals easy to get for each model, harder to squeeze into a nice table though.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pmc)
 &lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(anoles_model_choice)
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(bm_v_ou1)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou1_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(bm_v_ou1)$null -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bm_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_half)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou15_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_ouLP4)$null -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou3_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_ouLP4)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou4_ci&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;application-statement&quot;&gt;Application statement&lt;/h2&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/09/29/thursday-10.html"/>
   <updated>2011-09-29T16:46:03+00:00</updated>
   <id>/09/29/thursday-10</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;9-9:20 Updating research statement (home page).&lt;/li&gt;
&lt;li&gt;9:20 -9:40 Updating notebook: Review, Tuesday &amp;amp; Wednesday meetings&lt;/li&gt;
&lt;li&gt;coffee&lt;/li&gt;
&lt;li&gt;9:50 Application.&lt;/li&gt;
&lt;li&gt;10-11:30:&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;forage-fish-dynamics-sanchirico-and-essington&quot;&gt;Forage fish dynamics, Sanchirico and Essington&lt;/h2&gt;
&lt;p&gt;Jim gives the broad overview,  central question: What are the benefits/costs of a % reduction in the catch C of forage fish N:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \Delta C \downarrow \to \Delta N \to  \Delta F, \Delta M \Delta S\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;F predator commercial fisheries, M marine mammals, S seabirds.&lt;/p&gt;
&lt;p&gt;Stock effects, fishmeal fish oil, vitamin supplements&lt;/p&gt;
&lt;p&gt;What are the benefits and costs from a percent (say 20) reduction in the catch of a forage fish?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Week 2: Introductory discussion on the information necessary to answer this policy question (Jim) and discussion of the current regulatory tools being used to manage forage fish around the world (Tim)&lt;/li&gt;
&lt;li&gt;Week 3: &lt;strong&gt;Population regulation&lt;/strong&gt;, including bottom-up/environmental controls and top-down predation controls&lt;/li&gt;
&lt;li&gt;Week 4: &lt;strong&gt;Ecosystem&lt;/strong&gt; function: Fish and Fisheries (relationship between forage fish abundance and productivity of harvested stocks)&lt;/li&gt;
&lt;li&gt;Week 5: &lt;strong&gt;Ecosystem&lt;/strong&gt; function: Charismatic Fauna: Mammals and Seabirds (how dependent are these species on forage fish, spatial issues, etc. How do these species respond to depletion of forage fish?) $M = f(M, N) $, $ S = g(S, N) $&lt;/li&gt;
&lt;li&gt;Week 6: The &lt;strong&gt;economics&lt;/strong&gt; of changes in &lt;strong&gt;higher trophic catches&lt;/strong&gt; (what are the key issues when you go from mapping a change in an abundance of a predator fish to changes in value of the fishery? And, what examples are there from the literature on forage fish).&lt;/li&gt;
&lt;li&gt;Week 7: The &lt;strong&gt;economics&lt;/strong&gt; of &lt;strong&gt;fishmeal&lt;/strong&gt; and the potential impacts of a reduction of catch of the forage fish on feed prices, and agricultural prices (understanding the substitution possibilities of different types of protein in diets, etc).&lt;/li&gt;
&lt;li&gt;Week 8: The &lt;strong&gt;economic&lt;/strong&gt; effects of the policy on &lt;strong&gt;direct consumption, vitamin supplements, and bait&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Week 9: The &lt;strong&gt;economics&lt;/strong&gt; of non-market values for &lt;strong&gt;charismatic fauna&lt;/strong&gt; and valuing potential changes in their populations due to the policy.&lt;/li&gt;
&lt;li&gt;Week 10: Synthesis (Your job is try to put the pieces together…you can use pieces of presentation by others).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Key papers to start with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Alder’s review: (Alder &lt;em&gt;et. al.&lt;/em&gt; 2008)&lt;/li&gt;
&lt;li&gt;May’s, showing MSY (max sustainable yield) cannot work for multi-species dynamics (May &lt;em&gt;et. al.&lt;/em&gt; 1979).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tim’s section&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Case study: Peruvian anchovy collapse.  Upwelling west coast SA.  Mixed layer sinks during El Nino (1972), upwelling provides less nutrients.  Big loss in productivity for anchoveta.  High temps, Anchoveta cluster in colder thermal refuge.  Low recruitment plus high catch.&lt;/li&gt;
&lt;li&gt;Ecosystem-based Management: Minimum escapement (instead of MSY).  Can catch fewer on bad years&lt;/li&gt;
&lt;li&gt;Spatial management for central-place foragers.  (1) Spatial catch quotas, (&lt;em&gt;e.g.&lt;/em&gt; in Southern Ocean), (2) No-take areas.  Case study in sand eel.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next week: I’ll present week 3 with Matt Whalen, possibly Patrick.&lt;/p&gt;
&lt;h2 id=&quot;application-writing&quot;&gt;Application writing&lt;/h2&gt;
&lt;h2 id=&quot;edits-on-pmc-paper&quot;&gt;Edits on pmc paper&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Alder J, Campbell B, Karpouzi V, Kaschner K and Pauly D (2008). “Forage Fish: From Ecosystems to Markets.” &lt;em&gt;Annual Review of Environment And Resources&lt;/em&gt;, &lt;strong&gt;33&lt;/strong&gt;. ISSN 1543-5938, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.environ.33.020807.143204&quot;&gt;http://dx.doi.org/10.1146/annurev.environ.33.020807.143204&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;May R, Beddington J, Clark C, Holt S and Laws R (1979). “Management of Multispecies Fisheries.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;205&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.205.4403.267&quot;&gt;http://dx.doi.org/10.1126/science.205.4403.267&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetics - Research Proposal</title>
	 <link href="/2011/09/29/phylogenetics-research-proposal.html"/>
   <updated>2011-09-29T15:20:10+00:00</updated>
   <id>/09/29/phylogenetics-research-proposal</id>
   <content type="html">&lt;p&gt;Evolution has shaped all ecological communities. It has tested their resilience in experiments we could never perform. Now can it help us identify what characteristics make a community resilient or vulnerable to external forces?&lt;/p&gt;
&lt;p&gt;Anthropogenic influences such as invasive species, climate change, and urbanization pressure ecosystems everywhere on the planet.  Some collapse suddenly, others appear remarkably resilient. What makes some systems more vulnerable, and how could we identify them? Ecologists have long sought to understand the factors most influencing this stability, but the scale is immense and the problem complex – making controlled experimentation difficult and limited.&lt;/p&gt;
&lt;p&gt;Rapid developments in sequencing technology &amp;amp; computational capacity have recently enabled us to reconstruct the ancestral links of many species. Phylogeneticists have demonstrated how this data can be combined with morphologies we observe today to reconstruct their evolutionary history and patterns. Can we use this information to understand how ecological communities assemble and change? Can phylogenetic relationships reveal the results of evolutionary experiments we could never perform?&lt;/p&gt;
&lt;p&gt;Community ecologists have recently turned to phylogenetic data to shed more light on ecosystem stability.  For instance, ecologists have long thought that diversity is an important correlate of stability for a community, and have now begun to quantify phylogenetic diversity as a possible metric of this. Others have considered whether patterns of trait similarity reflect or diverge from patterns of phylogenetic relatedness as a measure of niche conservatism.  Such approaches are an important start, but they ignore the much richer picture of trait evolution that recent advances in both methods and available data have made possible.&lt;/p&gt;
&lt;p&gt;My research would offer a new approach to this problem. My work in comparative phylogenetics has developed approaches to identify major evolutionary regime shifts - points in history where the pattern of evolution in some functional trait has changed dramatically.  This may change the strength of selection, the location or emergence of a fitness peak, or the rate of change in a trait. These evolutionary shifts can serve as experiments in community stability, perturbations on a scale of space and time that we could not create experimentally.&lt;/p&gt;
&lt;p&gt;In applying this approach to ecological communities, I must bring to bear information about geographical ranges of the species involved and a biomechanical understanding of how morphological traits correspond to ecological niches.  Biogeography determines which species may interact and which may be isolated, and will also vary over the evolutionary history.  Recent methods estimate biogeographical history using the phylogeny, and could be leveraged here to determine which species could potentially interact at a given time.  The evolutionary regime shift step identifies which traits in which species experience a sudden shift, while the biogeography identifies which species are potentially present in the same community at that time, allowing us to identify which communities have experienced those shifts and which have been more stable.&lt;/p&gt;
&lt;p&gt;Ecological stability is a distant frontier for phylogenetic methods, and is fraught with challenges. Reconstructions of evolutionary biogeography, phylogeny, and functional traits are each burdened with their own challenges and uncertainty. The patterns left on what we observe in present-day species from evolutionary transitions will be faint, but the scale and variety of data we can bring to bear on these problems is rapidly increasing. A robust method should be able to quantify the uncertainty of the inference and make it clear when phylogenetics is potentially informative of the community dynamics and when we have reached the limits of such approaches, which is natural for the model-based statistical approaches used here.&lt;/p&gt;
&lt;p&gt;Though these evolutionary transitions are shrouded in the past, by developing methods that can draw on different lines of evidence such as traits, geography, and phylogeny we may better triangulate what happened and when.  Identifying shifts in the evolutionary patterns of different communities offers a window into history which can expand our picture of what makes a community a stable or responsive to sudden shifts.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday - Berkeley visits</title>
	 <link href="/2011/09/28/wednesday-berkeley-visits.html"/>
   <updated>2011-09-28T09:25:56+00:00</updated>
   <id>/09/28/wednesday-berkeley-visits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Consultation call with Rebecca Lawrence, F1000.  F1000 is exploring offering a data publishing platform, and we discussed some of the potential challenges (submission incentives, data review/reproducible review, meta-data standards).&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;anyone who might be interested  in working with us to get this project off the ground, with a scientific PhD background, a reasonable understanding of data sharing/mining issues and some knowledge of technical issues (not necessarily a coder but I guess it might help) then do let me know.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Meeting with Graham and Peter, finalizing paper revisions.&lt;/li&gt;
&lt;li&gt;Meeting with John Huelsenbeck.&lt;/li&gt;
&lt;li&gt;Group members: Talked to Tracy. (Nick &amp;amp; Bastien are overseas currently)&lt;/li&gt;
&lt;li&gt;Meeting with Kathy Day.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday - Berkeley visits</title>
	 <link href="/2011/09/27/tuesday-berkeley-visits.html"/>
   <updated>2011-09-27T23:19:08+00:00</updated>
   <id>/09/27/tuesday-berkeley-visits</id>
   <content type="html">&lt;p&gt;In Berkeley for a few meetings with faculty and students.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;7:15 Train Davis to Berkeley&lt;/li&gt;
&lt;li&gt;9:30 -11 Coffee with George Oster.&lt;/li&gt;
&lt;li&gt;11- 1 Meeting with de Valpine lab&lt;/li&gt;
&lt;li&gt;1p Presentation from Viorel Popescu, (post-doc in lab, mostly working remotely from Vancover) on BACI (before-after, control-impact) occupancy models.&lt;/li&gt;
&lt;li&gt;2p meeting with Perry&lt;/li&gt;
&lt;li&gt;3p Meeting with Karthik&lt;/li&gt;
&lt;li&gt;4:24-6 train to Davis&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/09/26/monday-10.html"/>
   <updated>2011-09-26T15:31:07+00:00</updated>
   <id>/09/26/monday-10</id>
   <content type="html">&lt;h2 id=&quot;phylogenetics-paper&quot;&gt;Phylogenetics paper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Grayscale the figures&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;moore-coop-pbg-270&quot;&gt;Moore &amp;amp; Coop PBG 270:&lt;/h2&gt;
&lt;p&gt;Phylo methods for exploring correlations between character traits and lineage rates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Models ((Are the generalized birth-death models (&lt;em&gt;e.g.&lt;/em&gt; Kendall 1948) good limit to interesting process? somtimes.  ))&lt;/li&gt;
&lt;/ul&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;detecting variation in rates&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;locating shifts along branches&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;locating shifts in time&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;correlates of differential rates (_e.g. _traits; our subject for today/course).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parameter estimation&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;bisse-methods&quot;&gt;BiSSE methods&lt;/h4&gt;
&lt;p&gt;Discussing Maddison 2006, (Maddison, 2006)&lt;/p&gt;
&lt;p&gt;An “over-represented traits” may be due to a more rapidly diversifying character or a character with faster transitions into it then out of it.  Foreshadowing comes early: Maddison uses the median to avoid convergence problems influencing the mean… We’ll see a lot of rather flat likelihood surfaces.&lt;/p&gt;
&lt;p&gt;Statistical concerns that entangle this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;biased sampling of states&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;entangled rates? (to some extent represented by models)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Short branches, identifiable issues.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;older-methods&quot;&gt;Older methods:&lt;/h4&gt;
&lt;p&gt;Sister-clade comparisons: how unbalanced does your tree need to be, to have 95% confidence?  40:1 under the birth-death models.  Hmm, not such a good way…  Seems robust, if low power, but Maddison notes that it can also be biased.  Note that under any Markov process, any partition pattern is equally probable (only distribution of times matters).&lt;/p&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Maddison W (2006). “Confounding Asymmetries in Evolutionary Diversification And Character Change.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 0014-3820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.0014-3820.2006.tb00517.x&quot;&gt;http://dx.doi.org/10.1111/j.0014-3820.2006.tb00517.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday</title>
	 <link href="/2011/09/24/saturday-2.html"/>
   <updated>2011-09-24T18:03:02+00:00</updated>
   <id>/09/24/saturday-2</id>
   <content type="html">&lt;h2 id=&quot;nimbios-working-group-follow-up&quot;&gt;NIMBioS Working group follow-up:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Install pdf plugin (pdf24, Kalin’s pdf, epub all don’t display equations) … Posted issue to wordpress-for-scientists list. Solution: simply print to file (pdf) from google-chrome.  (Doesn’t work when printing from firefox 6.0)&lt;/li&gt;
&lt;li&gt;Reply to Paul, add pdf of notes on wiggio.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fellowship-stuff&quot;&gt;Fellowship stuff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Email Alan, David, George, John, Perry&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reviews&quot;&gt;Reviews&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Answer request to review for Ecology&lt;/li&gt;
&lt;li&gt;Answer request to review for Evolution _&lt;strong&gt;Working on reviews (see private notes) &lt;/strong&gt;_3-6pm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Testing &lt;a href=&quot;http://droideley.posterous.com/&quot;&gt;Droideley&lt;/a&gt;.  Nice clean interface, intuitive.  Reasonably handy to grab a pdf from my library.  Would be nice to have sort-by options within folders.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;(Meredith &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Meredith R, Janecka J, Gatesy J, Ryder O, Fisher C, Teeling E, Goodbla A, Eizirik E, Simao T, Stadler T, Rabosky D, Honeycutt R, Flynn J, Ingram C, Steiner C, Williams T, Robinson T, Burk-Herrick A, Westerman M, Ayoub N, Springer M and Murphy W (2011). “Impacts of The Cretaceous Terrestrial Revolution And Kpg Extinction on Mammal Diversification.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1211028&quot;&gt;http://dx.doi.org/10.1126/science.1211028&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: ropensci, manuscript edits</title>
	 <link href="/2011/09/23/friday-ropensci-manuscript-edits.html"/>
   <updated>2011-09-23T11:03:43+00:00</updated>
   <id>/09/23/friday-ropensci-manuscript-edits</id>
   <content type="html">&lt;h2 id=&quot;ropensci-conference-call&quot;&gt;rOpenSci Conference Call&lt;/h2&gt;
&lt;h4 id=&quot;catalyst-grant&quot;&gt;Catalyst grant&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Reviewed &lt;a href=&quot;https://docs.google.com/spreadsheet/ccc?key=0AkEIu-KKuNnqdHF4b2xDS3JXWDlIMmgwY182bmRReWc&amp;amp;hl=en_US#gid=0&quot;&gt;budget&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Karthik will merge current proposals, Carl will review.  Goal: send out next week.&lt;/li&gt;
&lt;li&gt;Ask Mark Hahnel to look it over&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;blog-posts&quot;&gt;Blog posts&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carley planning to make guest blog post within the next week.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;mendeleyplos-binary-battle&quot;&gt;Mendeley/Plos Binary battle&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carl will file &lt;a href=&quot;http://dev.mendeley.com/binary-battle-entry/&quot;&gt;entry form&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Karthik push edits to rplos&lt;/li&gt;
&lt;li&gt;Scott will add rplos tutorial to ropensci.org&lt;/li&gt;
&lt;li&gt;Carl will add rmendeley tutorial to ropensci.org&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;advisor-update&quot;&gt;Advisor Update&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Follow up with advisors once grant, binary-battle, and guest blog post are submitted (circa 1 more week).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;packages-technical-questions&quot;&gt;Packages &amp;amp; Technical questions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;discussed rvertnet, IntWebData.&lt;/li&gt;
&lt;li&gt;Use xpath to process XML objects, sometimes more useful and faster than converting to list (xmlToList() function).&lt;/li&gt;
&lt;li&gt;See the excellent xpath &lt;a href=&quot;http://www.w3schools.com/xpath/default.asp&quot;&gt;tutorial&lt;/a&gt; from w3c.&lt;/li&gt;
&lt;li&gt;And some basic examples in rfishbase, &lt;a href=&quot;http://www.carlboettiger.info/archives/2745&quot;&gt;explained here.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Can someone send me the link to Hadley’s post re: R-Forge and github?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pmc-manuscript-edits&quot;&gt;pmc manuscript edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finish figures &amp;amp; captions.&lt;/li&gt;
&lt;li&gt;Response to Peter’s AIC paragraph&lt;/li&gt;
&lt;li&gt;Edits to rule-of-thumb shape/size section&lt;/li&gt;
&lt;li&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hmm.. &lt;a href=&quot;http://blogs.ft.com/gavyndavies/2011/02/10/why-cant-economists-predict-disruptive-events/&quot;&gt;experts, hedgehogs and foxes&lt;/a&gt;… may be interesting in the ecosystem warning signals context too.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/09/22/thursday-9.html"/>
   <updated>2011-09-22T17:51:06+00:00</updated>
   <id>/09/22/thursday-9</id>
   <content type="html">&lt;p&gt;Sent off review. finally.&lt;/p&gt;
&lt;h2 id=&quot;sanchirico-seminar&quot;&gt;Sanchirico seminar&lt;/h2&gt;
&lt;p&gt;with &lt;a href=&quot;http://fish.washington.edu/people/essington/&quot;&gt;Tim Essington&lt;/a&gt; (U Washington). Goal: Prepare for a review on forage fisheries.&lt;/p&gt;
&lt;h4 id=&quot;outline&quot;&gt;Outline&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;background&lt;/li&gt;
&lt;li&gt;background&lt;/li&gt;
&lt;li&gt;Fishery interactions&lt;/li&gt;
&lt;li&gt;marine mammal/seabird interactions&lt;/li&gt;
&lt;li&gt;Climate &amp;amp; forage fish&lt;/li&gt;
&lt;li&gt;Fishmeal (Demand side)&lt;/li&gt;
&lt;li&gt;direct consumption (Demand side)&lt;/li&gt;
&lt;li&gt;Vitamin supp / health benefits (Demand side)&lt;/li&gt;
&lt;li&gt;Non-market value marine mammals&lt;/li&gt;
&lt;li&gt;Synthesis&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Forage-fish: “foundation species” in marine ecosystems, get energy from zooplankton/upwelling to high-level predators (high-market target fisheries). Sardines/pilchards, anchovies, sandeels, krill, herrings, capelin, menhaden.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why this topic? Much interest, (e.g. (Smith &lt;em&gt;et. al.&lt;/em&gt; 2011)) but little is known (either on economics, mostly primitive MSY based, or population dynamics, mostly ecopath based).&lt;/li&gt;
&lt;li&gt;variability – large oscillations, e.g. &lt;a href=&quot;http://ca-seafood.ucdavis.edu/news/wetfish/wf_reading/baumgart.pdf&quot;&gt;Baumgartner et al. 1992&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;catchability – schooling, etcm so almost indepent of density.&lt;/li&gt;
&lt;li&gt;Many relevant spatial dynamics challenges.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See fisheries landings &lt;a href=&quot;http://www.seaaroundus.org/global/1/1.aspx&quot;&gt;data&lt;/a&gt; from the Sea Around Us project.&lt;/p&gt;
&lt;h2 id=&quot;evolution-manuscript&quot;&gt;Evolution Manuscript&lt;/h2&gt;
&lt;p&gt;edits continue:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;finish up figure touch-ups.&lt;/li&gt;
&lt;li&gt;Caption updates.&lt;/li&gt;
&lt;li&gt;Table updated.&lt;/li&gt;
&lt;li&gt;review Peter’s comments to text&lt;/li&gt;
&lt;li&gt;reply letter&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Lab visit emails. check.&lt;/li&gt;
&lt;li&gt;Edits to Alistair app. check.&lt;/li&gt;
&lt;li&gt;Our Open Science talk for incoming students: &lt;a href=&quot;http://www.archive.org/details/ThingsIWishIKnewThreeYearsAgo-ByTheDavisOpenScienceGroup&amp;amp;reCache=1&quot;&gt;audio&lt;/a&gt; and &lt;a href=&quot;http://hazelnusse.github.com/DOS_WOW2011/&quot;&gt;slides&lt;/a&gt;  (using &lt;a href=&quot;http://imakewebthings.github.com/deck.js/&quot;&gt;deck.js&lt;/a&gt;) now posted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Smith A, Brown C, Bulman C, Fulton E, Johnson P, Kaplan I, Lozano-Montes H, Mackinson S, Marzloff M, Shannon L, Shin Y and Tam J (2011). “Impacts of Fishing Low-Trophic Level Species on Marine Ecosystems.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;333&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1209395&quot;&gt;http://dx.doi.org/10.1126/science.1209395&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/09/21/wednesday-9.html"/>
   <updated>2011-09-21T22:34:13+00:00</updated>
   <id>/09/21/wednesday-9</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sanchirico course, Hastings course&lt;/li&gt;
&lt;li&gt;Berkeley visits&lt;/li&gt;
&lt;li&gt;NIMBioS working group&lt;/li&gt;
&lt;li&gt;Lab website, lab group meeting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finish THEE review&lt;/li&gt;
&lt;li&gt;Evolution edits&lt;/li&gt;
&lt;li&gt;Miller Application&lt;/li&gt;
&lt;li&gt;Berkeley visits emails.&lt;/li&gt;
&lt;li&gt;File ESA reimbursements.&lt;/li&gt;
&lt;li&gt;File NIMBioS reimbursements.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;next-steps&quot;&gt;Next steps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Paper for treebase/rfishbase packages?&lt;/li&gt;
&lt;li&gt;wrightscape paper.&lt;/li&gt;
&lt;li&gt;Training problem II.&lt;/li&gt;
&lt;li&gt;Economics warning signals.  Costs of errors.  Updating (multiple decision points). Mitigation strategy.&lt;/li&gt;
&lt;li&gt; Inferring the uncertainty in model, adaptive management.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;lit-based-steps&quot;&gt;Lit-based steps:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;close read / replicate stochastic transitions discrimination Ditlevsen &amp;amp; Johnsen, 2010.&lt;/li&gt;
&lt;li&gt;close read of economic considerations, (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Classic Allee effect models with saddle-node bifurcations.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Organizing: what I’d like from Merrit:  dropbox-style data storage.  &lt;em&gt;e.g&lt;/em&gt;. also with Wordpress/server file&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Colored noise: some classic results in ecology</title>
	 <link href="/2011/09/21/colored-noise-some-classic-results-in-ecology.html"/>
   <updated>2011-09-21T13:20:52+00:00</updated>
   <id>/09/21/colored-noise-some-classic-results-in-ecology</id>
   <content type="html">&lt;p&gt;Some of my early notes &amp;amp; derivations on the impact of red environmental noise on population dynamics as pdf:&lt;/p&gt;
&lt;embed src=&quot;http://carlboettiger.info/assets/files/coloredNoise.pdf&quot; width=700 height=500&gt;
&lt;ul&gt;
&lt;li&gt;Roughgarden’s &lt;a href=&quot;http://www.jstor.org/stable/2459866&quot;&gt;paper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fieberg &amp;amp; Ellner, (2000) “When is it Meaningful to Estimate an Extinction Probability?” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1890/0012-9658(2000)081[2040:WIIMTE]2.0.CO;2&quot;&gt;doi&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Lawton, J. H. (1988). More time means more variation. Nature, 334, 563.&lt;/li&gt;
&lt;li&gt;Petchey, O. L., Gonzalez, A., &amp;amp; Wilson, H. B. (1997). Effects on population persistence: the interaction between environmental noise colour, intraspecific competition and space. Proceedings of the Royal Society of London, B, 264, 1841-1847.&lt;/li&gt;
&lt;li&gt;Ripa, J., &amp;amp; Lundberg, P. (1996). Noise colour and the risk of population extinctions. Proceedings of the Royal Society of London, B, 263, 1751-1753.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Van Kampen Expansion and Stochastic population dynamics</title>
	 <link href="/2011/09/21/van-kampen-expansion-and-stochastic-population-dynamics.html"/>
   <updated>2011-09-21T13:02:30+00:00</updated>
   <id>/09/21/van-kampen-expansion-and-stochastic-population-dynamics</id>
   <content type="html">&lt;p&gt;Embedding a file from some of my earlier work illustrating the use of the linear noise approximation  describing demographic noise processes and highlighting some of the more interesting results therein.&lt;/p&gt;
&lt;embed src=&quot;http://www.carlboettiger.info/assets/files/EcologyLinNoise.pdf&quot; width=700 height=500&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Visit to Berkeley</title>
	 <link href="/2011/09/21/tuesday-visit-to-berkeley.html"/>
   <updated>2011-09-21T10:04:37+00:00</updated>
   <id>/09/21/tuesday-visit-to-berkeley</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Train to Berkeley 7:15-8:32 (6:35a)&lt;/li&gt;
&lt;li&gt;9-10:30 Harte lab meeting: Chloe presented her work on mima mounds and pocket gofers&lt;/li&gt;
&lt;li&gt;10:30 - noon Justin (coffee, tour campus). Discussed grant opportunities: Lab has a recent NSF and likely will get a Moore grant to extend maximum entropy work.  (Not to be confused with species distribution modeling maxent).&lt;/li&gt;
&lt;li&gt;noon-1p Erica (lunch).&lt;/li&gt;
&lt;li&gt;1p-2:15 John.&lt;/li&gt;
&lt;li&gt;2:15-3:30 Andy.  Great discussions about phylogenetic methods and hierarchical models, regime shifts, open science.&lt;/li&gt;
&lt;li&gt;Train back to Davis&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;THEE Review&lt;/li&gt;
&lt;li&gt;Edits on Evolution paper&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/09/19/monday-9.html"/>
   <updated>2011-09-19T23:55:33+00:00</updated>
   <id>/09/19/monday-9</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Catching up on ToCs, reading.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on THEE review.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Manuscript edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Algorithms group meeting - planning for quarter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://library.kdvs.org/archive/view/show_id/1864&quot;&gt;Interview on KDVS&lt;/a&gt;  In which I discuss mathematical ecology with my advisor and our local radio station.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control: Thursday</title>
	 <link href="/2011/09/15/nimbios-pdg-control-thursday.html"/>
   <updated>2011-09-15T14:54:05+00:00</updated>
   <id>/09/15/nimbios-pdg-control-thursday</id>
   <content type="html">&lt;p&gt;Thursday, August 15 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Training Problem Groups TASK: Prepare progress report/action strategy for full group 9:30 Regroup: Reports from each Training Problem Group 10:30 Planning for Meeting 2 12:00 Lunch at NIMBioS &amp;amp; Departure&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pdg-control PDG group, Tasks</title>
	 <link href="/2011/09/15/nimbios-pdg-group-tasks.html"/>
   <updated>2011-09-15T08:59:36+00:00</updated>
   <id>/09/15/nimbios-pdg-group-tasks</id>
   <content type="html">&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sharing: Dropbox (Team account? 350 gigs/12 users $1670/yr)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Common language for training development: Matlab&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remote collaboration: GoToMeeting? Evo?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code collaboration GitHub?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;training-problem-i&quot;&gt;Training problem I&lt;/h2&gt;
&lt;h3 id=&quot;a-state-vars-control-vars&quot;&gt;1a) State vars &amp;gt; Control vars:&lt;/h3&gt;
&lt;p&gt;Can give solutions with chattering (periodic, possibly jumping between boundaries.)&lt;/p&gt;
&lt;p&gt;Short-term priorities:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;shared numerics.  &lt;strong&gt;Jim&lt;/strong&gt; looks at collocation problem: how do they perform on periodic controls on the infinite time?  (If they can’t work, we go to finite time.)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Need a way to be able to run each-other’s numerics and get same result.&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Literature exercise: Gather cases of chattering.  When it occurs is the objective linear or nonlinear? interior periodic or on boundary?  discrete or cts time?  Where are constraints relative to interior solution (i.e. are they outside the domain?)  Do they check second order sufficiency conditions for optimality? Theorem-like results?  &lt;strong&gt;Paul with stick&lt;/strong&gt;, anyone who has seen this.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Deadline: Oct 31st Conference call.  Drop box. &lt;/strong&gt;&lt;/p&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Select an example in which to explore this.  Have simple form:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot x = F(x,y, h) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot y = G(x,y) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(could be discrete time instead.)  Predator-prey?  Age-structure?&lt;/p&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Domain where controllability issues arise:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;Put y on fast time scale (see Kellner et al. Kellner &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;slow down y (numerically.  Perturbation theory)&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;a&quot;&gt;
&lt;li&gt;Introduce a second control $ x = G(x,y, h_2) $&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Constraint $ || h_2 || &amp;lt; $&lt;/p&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Convexity statement by subbing in equilibrium solns and periodic.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Dan, Carl, Alan, Paul.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;b-adjustment-costs&quot;&gt;1b) Adjustment costs&lt;/h3&gt;
&lt;p&gt;Refs: Everyone should read: Reed 79, Ludwig&lt;/p&gt;
&lt;p&gt;Emperics - Paul/Jim long grass&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ x_t = f(x_t -h_t) \epsilon_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ J = \mathbb{E} \left( \sum h_t -c(h_t, h_{t-1} ) \right)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the velocity penalties/Regularization take one of these forms:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;$ c(h)^2 $  Smoothing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c(h) $ Smoothing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c(_{h_t h_t-1} ) $  Transaction fee (i.e. Dan’s toy version)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c_1 &lt;em&gt;{h_t&amp;gt; h&lt;/em&gt;{t-1}} $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;traditional econ penalties $ ch_t^2 $, $ p(h_t)h_t $&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Mechanistic motivation - &lt;strong&gt;Jim&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Jobs: analytical – approach path/ deterministic Led by: &lt;strong&gt;Dan&lt;/strong&gt;, with &lt;strong&gt;Jake, Paul&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Numerics: &lt;strong&gt;Michael &lt;/strong&gt;stochastic dynamic programming.  (see Sethi 2005, JEEM (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005)).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Deadline: October 31st. Dan’s analytics, Michael’s numeric model. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Frank&lt;/strong&gt;: MPC exploration of numeric model.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-ii&quot;&gt;Training Problem II&lt;/h2&gt;
&lt;p&gt;2.0 One-dimensional Myers et al. &lt;span class=&quot;math&quot;&gt;\[ N_t+1 = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} }\]&lt;/span&gt; $ &amp;gt; 1 $ gets allee effect.&lt;/p&gt;
&lt;p&gt;$N_0 $ unknown. Cost of gathering information, profit from fishing.&lt;/p&gt;
&lt;p&gt;Steps:&lt;/p&gt;
&lt;p&gt;Constant strategy, single-step information gathering.&lt;/p&gt;
&lt;p&gt;Information over time. Strategy varies.  Harvest control or effort control? Uncertain information from harvest? (Maybe go back to more classical framework here).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl B, Carl T, Jake, Alan, Michael&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Literature review: &lt;strong&gt;Jake, Marie-Josee, Alan&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Deadline: October 31st&lt;/p&gt;
&lt;p&gt;2.0.1 Coral-algal-parrotfish&lt;/p&gt;
&lt;p&gt;2.0.2 Commercial fishery sampling problem&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan wields stick.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;training-problem-iii&quot;&gt;Training Problem III&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Run the spawning model on NIMBioS cluster. &lt;strong&gt;Claire&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spawning time as a single point optimization&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Larval behavior during path.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lit review: control model before the spawning?&lt;/p&gt;
&lt;p&gt;Model predictive control?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan wields stick. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;How tightly controlled is aggregation?  Let dispersion be open-loop.  Reverse engineer spawning controller.  Reverse active control.&lt;/p&gt;
&lt;p&gt;Cluster scaling options: NIMBioS, Kraken, XSEDE.&lt;/p&gt;
&lt;p&gt;Further skills&lt;/p&gt;
&lt;p&gt;efficient stochastic dynamic programming (SDP).&lt;/p&gt;
&lt;p&gt;Frank’s people.  Jim’s people.&lt;/p&gt;
&lt;p&gt;TREE review? boxes and glossary.&lt;/p&gt;
&lt;p&gt;Engineering control/model choice for control/timescales&lt;/p&gt;
&lt;p&gt;Summary:&lt;/p&gt;
&lt;p&gt;Participant Tasks&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Paul Armsworth&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt; Carry Stick for Prob. 1. Analytic for 1b.&lt;/p&gt;
&lt;p&gt;Michael Bode&lt;/p&gt;
&lt;p&gt;Lead numerics for 1b.  Prob 2.&lt;/p&gt;
&lt;p&gt;Carl Boettiger&lt;/p&gt;
&lt;p&gt;Lead Problem 2 coding.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan Donahue&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Stick for Problem 3&lt;/p&gt;
&lt;p&gt;Frank Doyle&lt;/p&gt;
&lt;p&gt;MPC for problem 1b&lt;/p&gt;
&lt;p&gt;Dan Ryan&lt;/p&gt;
&lt;p&gt;Analytic 1b.&lt;/p&gt;
&lt;p&gt;Marie-Josee Fortin&lt;/p&gt;
&lt;p&gt;Literature for Prob 2.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan Hastings&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Stick for Problem 2&lt;/p&gt;
&lt;p&gt;Jacob LaRiviere&lt;/p&gt;
&lt;p&gt;support analytic 1b, numeric 2&lt;/p&gt;
&lt;p&gt;Claire Paris&lt;/p&gt;
&lt;p&gt;Simulation on cluster&lt;/p&gt;
&lt;p&gt;Jim Sanchirico&lt;/p&gt;
&lt;p&gt;Numerics for 1a.  Mechanistic motivation 1b.  Share code. Recruit student&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Toews&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Prob 2&lt;/p&gt;
&lt;p&gt;*Group organizers&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimizing For Multiple Species And Multiple Values: Tradeoffs Inherent in Ecosystem-Based Fisheries Management, Julie B. Kellner, James N. Sanchirico, Alan Hastings, Peter J. Mumby, (2011) &lt;em&gt;Conservation Letters&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.1755-263X.2010.00132.x&quot;&gt;10.1111/j.1755-263X.2010.00132.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Training Problem II</title>
	 <link href="/2011/09/14/training-problem-ii.html"/>
   <updated>2011-09-14T22:47:29+00:00</updated>
   <id>/09/14/training-problem-ii</id>
   <content type="html">&lt;p&gt;Consider a harvested fish population with discrete-time population dynamics under an allee effect:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ N_{t+1} = N_t \exp \left(   \gamma \left[ 1-\frac{N_t}{K} \right] \left[   \frac{N_t - C}{K} \right] \right) - \beta E_h N_t\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that C is the unfished allee threshold, K the carrying capacity, &lt;span class=&quot;math&quot;&gt;\(E_h\)&lt;/span&gt; the fish harvesting effort.&lt;/p&gt;
&lt;p&gt;Consider that the initial population is unknown, but described by a density function whose variance can be decreased by sampling.  Just to get started, let’s assume log-normal (avoiding the chance of negative population sizes), with log-standard deviation inversely proportional to the sampling effort $E_s $.   For the moment we will only imagine sampling in the first year, then add the impact of sampling at later times eventually.&lt;/p&gt;
&lt;p&gt;Write down the cost function as the sum of sampled cost of effort $ E_s $ and the expected profit over the uncertainty in the fish distribution.&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;see code (click-through figure for link to code).&lt;/p&gt;
&lt;p&gt;hmm… optimum seems to drive fish to extinction.  Poor choice of parameter value or something worse?&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6185/6148896081_a13efaeda4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Should allow $ E_h $ to vary.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control: Wednesday</title>
	 <link href="/2011/09/14/nimbios-pdg-control-wednesday.html"/>
   <updated>2011-09-14T14:54:29+00:00</updated>
   <id>/09/14/nimbios-pdg-control-wednesday</id>
   <content type="html">&lt;p&gt;Wednesday, August 14 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Introduction to Day 3 (Donahue/Armsworth) 9:00 Training Problem Groups&lt;/p&gt;
&lt;h4 id=&quot;marie-jose-reflects-on-the-sampling-problem&quot;&gt;Marie-Jose reflects on the sampling problem:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Optimization between effort and data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spatial autocorrelation challenges&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;periodic sampling challenges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fortin et al 1989&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl asked: Nyquist frequency?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spatial sampling the correct scale by maximum variance in wavelet scaling.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;frank-reflects-on-our-activities-from-a-control-engineers-perspective&quot;&gt;Frank reflects on our activities from a control engineer’s perspective&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MPC for fishery management - few long-sampling engineering examples.  HIV/tumor treatment may be one.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal program for spawning:  “Chasing the cost function,” i.e. What do you minimize when I reach for a pen? Time? Distance?  Ans: third derivative of arm angle (jerk).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Larva follow an open-loop program vs internal/external feedback?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chemotaxis, thermostats, integral control.  simple, robust.  (what’s the optimal control problem it solves?)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sensitivity Analysis: to - model behavior, cost function, shadow prices (constraint).&lt;/p&gt;
&lt;p&gt;Model accuracy: is adaptation necessary?  Transfer function example:&lt;/p&gt;
&lt;p&gt;Consider&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \tau \frac{dx}{dt} = - x + k u \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Taking Laplace transform we get transfer eqn:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{x}{u} = \frac{K}{\tau s + 1} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then roots of denominator are the eigenvalues. More &lt;a href=&quot;http://en.wikipedia.org/wiki/Transfer_function&quot;&gt;here&lt;/a&gt;.  Analyze with &lt;a href=&quot;http://en.wikipedia.org/wiki/Bode_plot&quot;&gt;Bode plots&lt;/a&gt;: note that Frank’s examples are similar in the part where you want control to be fast.&lt;/p&gt;
&lt;p&gt;An engineer’s approach to adaptive control grab-box:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gain Scheduling&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model-Reference Adaptive Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Self-Tuning (sorta suboptimal dual control)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dual Control (active adaptive – i.e. probe)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Paul: how does this inform our model complexity discussion?  Model complexity needed to achieve predictive power may exceed that needed to achieve the control power.&lt;/p&gt;
&lt;p&gt;R = M S, data is model operator on parameters.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Control problem: $ S = M ^{-1} R $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identification of model form: M?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulation: R?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Models are always wrong at high frequency (noise), and irrelevant at low frequency.  All that matters is the right frequency.  Timescales!  e.g. thermostat doesn’t care about days, doesn’t care about seconds.&lt;/p&gt;
&lt;p&gt;Process-based sampling?  Sampling a timescale/spatial scale of what you know about system.&lt;/p&gt;
&lt;p&gt;Frank: recall crazy amazing thing in chemotaxis (e. coli story) is sensitivity over 10^4 ranges by resetting its bandwidth.&lt;/p&gt;
&lt;p&gt;My brainstorm on emerging key ideas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Control at the right frequency (isn’t predictive power).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PDG control – because optimal solution requires too freq intervention.  because infrequent intervention implies nonlinear regime.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;problem-i-breakout&quot;&gt;Problem I breakout:&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;state variables &amp;gt; controls.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Examples: Age structured fishery.  Eradicate a subset of species with single control. Active adaptive management.  Effort becomes state (i.e. control is tax).&lt;/p&gt;
&lt;p&gt;Result isn’t always pulsing/chattering, but different dynamics.  When is not relevant?  (Note: variables = controls gets chattering by convexity.  non-chattering solutions of state variable &amp;gt; control).&lt;/p&gt;
&lt;p&gt;Sub in the dynamics, not at the equilbrium.  (Kellner et al. Fast-slow timescale of open access).&lt;/p&gt;
&lt;p&gt;Convexity condition.  two state, one control.  One fast state:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot x = F(x, y, h) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot y = G (x,y) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$y = 0 $ fast time scale.  how about y periodic?&lt;/p&gt;
&lt;p&gt;Plug into $ x $ eqn.  So 1 state, 1 control:&lt;/p&gt;
&lt;p&gt;$ x = F(x, G(x), h) $&lt;/p&gt;
&lt;p&gt;Have engineers solved the convexity problem?  How do they do the two-floor chattering problem.&lt;/p&gt;
&lt;p&gt;Numerics: can they capture chattering?  Discrete time, they can in long-term.  Is chattering impossible to represent in polynomial function &lt;a href=&quot;http://en.wikipedia.org/wiki/Collocation_method&quot;&gt;collocation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Two controls, becoming one control $ d(h_1, h_2 ) &amp;lt; $&lt;/p&gt;
&lt;p&gt;Jim’s conjecture: Chattering is always the case, but always at the noise, when state variables exceed control.&lt;/p&gt;
&lt;p&gt;Performance between low-dimensional and high dimensional .&lt;/p&gt;
&lt;p&gt;Franz Wirl’s papers: steady state is stable limit cycle.&lt;/p&gt;
&lt;p&gt;TASK: Continue work on model formulation/analysis 12:00 Lunch at NIMBioS&lt;/p&gt;
&lt;h4 id=&quot;training-problem-iii-summary-from-morning-break-out&quot;&gt;Training Problem III summary from morning break-out:&lt;/h4&gt;
&lt;p&gt;Consider when synchronized spawning is optimal.&lt;/p&gt;
&lt;p&gt;Noise  enhanced performance. Geometric mean/arthmetic mean (random mover bet-hedges better).&lt;/p&gt;
&lt;p&gt;“We believe in markets.  The ones that are sloppy don’t exist any more.”&lt;/p&gt;
&lt;h4 id=&quot;training-problem-i-morning-breakout-report&quot;&gt;Training Problem I morning breakout report:&lt;/h4&gt;
&lt;p&gt;General feedback.  Need glossary of terms (TREE review)&lt;/p&gt;
&lt;p&gt;Do we want to exemplify differences between PDG and optimal, or just pursue unanswered control questions.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;state var &amp;gt; control vars.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sufficient from the deterministic dynamics.&lt;/p&gt;
&lt;p&gt;3 conjectures: (A) chattering always comes up when state var &amp;gt; control var.  (B) Chattering is always only as large as the noise. (C) Numerics.&lt;/p&gt;
&lt;p&gt;Alan’s convexity conjecture: Can we collapse into the objective function in chattering examples and show convexity.  Must substitute in the dynamics, not the equilibrium.  (prove chattering is better by subbing in periodic solutions).&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;adjustment costs: decided this is motivated by (4) empirical differences&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Postulate: more relevant when stochastics.&lt;/p&gt;
&lt;h4 id=&quot;training-problem-ii-morning-breakout-report&quot;&gt;Training Problem II morning breakout report:&lt;/h4&gt;
&lt;p&gt;Parrotfish problem&lt;/p&gt;
&lt;p&gt;Stochastic or uncertain&lt;/p&gt;
&lt;p&gt;shocks&lt;/p&gt;
&lt;p&gt;adjusting fishing&lt;/p&gt;
&lt;p&gt;unknown system state&lt;/p&gt;
&lt;p&gt;1:00 Training Problem Groups, shuffling expertise as needed TASK: Continue work on model formulation/analysis 3:00 Break 3:15 Training Problem Groups TASK: Develop plan of work going forward: task assignments, writing assignments 5:30 Walk to town for dinner 7:00 Optional Activity (TBA)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control, Tuesday</title>
	 <link href="/2011/09/13/2588.html"/>
   <updated>2011-09-13T09:00:38+00:00</updated>
   <id>/09/13/2588</id>
   <content type="html">&lt;p&gt;Tuesday, August 13 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Outline for Day 2 (Donahue/Armsworth)&lt;/p&gt;
&lt;h3 id=&quot;adaptive-control-jake&quot;&gt;Adaptive Control, Jake&lt;/h3&gt;
&lt;p&gt;Introduced by he two-armed bandit problem, Rothchild i = 1,2. $ T_i $ is the number of trials, $ N_i $ are numbers of successes.&lt;/p&gt;
&lt;p&gt;Define &lt;span class=&quot;math&quot;&gt;\[ \rho_i = \frac{1}{1+T_i}, \mu_i = \frac{N_i}{1+T_i} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If i is played $ p_i $ becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{p_i}{1+p_i} = \frac{1}{T+2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If i is played and successful $ _i $ becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ s(\mu_i) = \frac{\mu_i + p_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;whereas failure is&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ s(\mu_i) = \frac{\mu_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \lim_{T_i \to \infty} \frac{N_i}{T_i+1} = \tau_i \]&lt;/span&gt;, the true probability.&lt;/p&gt;
&lt;p&gt;Depends on prior information and luck. Costly to pull on uncertain machine.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Consider fisheries example where &lt;span class=&quot;math&quot;&gt;\[ x = F(x) - h \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ F(x) = x^{\alpha} \epsilon |_{\epsilon ~ N(0, \sigma^2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \ln F(x) = \alpha ln(x) + ln(\epsilon) =: y \]&lt;/span&gt; $ $ must be estimated.&lt;/p&gt;
&lt;p&gt;Frequentist:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \hat \alpha = \frac{\ln x&amp;#39; \ln F(x)}{\ln X&amp;#39; \ln x} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Bayesian: &lt;span class=&quot;math&quot;&gt;\[ P(\alpha) N( \alpha_0, \sigma_{\alpha^2}) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ f(\alpha | y ) \sim \exp\left( \tfrac{1}{2} (y-\alpha \ln(x) )&amp;#39; (y- \alpha \ln(x) \right) \exp \left( -\frac{1}{2} \frac{(\alpha - \alpha_0)^2}{\sigma_{\alpha}^2}\right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Myopic igonre additional variation in harvest to identify $ $. More variation means better estimated $ $&lt;/p&gt;
&lt;p&gt;Michael raises two issues: applying this information elsewhere. If environment is changing, learning current condition is less valuable. (can’t I learn the change rate?)&lt;/p&gt;
&lt;p&gt;Adaptive management experiment in corals.&lt;/p&gt;
&lt;h3 id=&quot;pdg-control-approaches-from-engineering-discussion-carl-toews&quot;&gt;9:00 pdg-control: Approaches from Engineering &amp;amp; Discussion (Carl Toews)&lt;/h3&gt;
&lt;p&gt;An adaptive talk on techniques.&lt;/p&gt;
&lt;p&gt;How do we quantify the volatility of a control law? (function space choice) How do we measure the distance between models? Between controls? Change an objective function to yield a better control law (regularization in inverse problems)&lt;/p&gt;
&lt;h4 id=&quot;modeling-inverse-problems&quot;&gt;Modeling, Inverse Problems&lt;/h4&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ M : X \to Y \]&lt;/span&gt; Forward: predicting observations from parameters. Inverse: parameters from observation. Existence, uniqueness, stability. &lt;span class=&quot;math&quot;&gt;\[ M = \pmatrix{ 1 &amp;amp; 0 \\ 0 &amp;amp; \epsilon } \]&lt;/span&gt; Not unique if $ = 0 $&lt;/p&gt;
&lt;p&gt;So: Cost functional: $ J(x) := ||M(x) = y_0|| $ Regularization: $  J(x) := ||M(x) = y_0|| + ||x ||  $ Optimize: $  x_0 = _{xX} J(x)  $&lt;/p&gt;
&lt;p&gt;Regularization means solving a suboptimal model. Fudge factor. Trade-off due to inverting an unstable operator vs error due to the objective function.&lt;/p&gt;
&lt;p&gt;Singular value decomposition regularization example:&lt;/p&gt;
&lt;p&gt;Linear regime &lt;a href=&quot;http://en.wikipedia.org/wiki/Kalman_filter&quot;&gt;Kalman&lt;/a&gt; filter exact solution. (e.g. uncertainty in stock size, based on harvest).&lt;/p&gt;
&lt;p&gt;True state evolves according to: $ x_{k+1} = g(x_k, v_k) $ But the observation is some function of that: $ y_{k} = h(x_k, n_k) $&lt;/p&gt;
&lt;p&gt;Paul: Nonlinearity can be ignored by engineers, because they can intervene frequently. If you’re doing management, forced to do policy control, you cannot intervene frequently enough to be linear. (e.g., $g(x_k, v_k $ is nonlinear.&lt;/p&gt;
&lt;p&gt;Alan, Frank: quite easy for $ h(x_k, n_k) $ to be nonlinear as well, such as x being the density and y being only the moments.&lt;/p&gt;
&lt;h4 id=&quot;estimation&quot;&gt;Estimation&lt;/h4&gt;
&lt;h4 id=&quot;filtering&quot;&gt;Filtering&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Model_predictive_control&quot;&gt;Model predictive control&lt;/a&gt;:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Read control, disturbance, output variable&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Estimate state (e.g. Kalman Filter)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove ill condition (regularization)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Local steady-sate optimization (Linear or quadratic program)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dynamic optimization (Dynamic programming)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outputs control variable&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;training-problem-ii-problem-formulation&quot;&gt;Training Problem II problem formulation&lt;/h2&gt;
&lt;p&gt;How does decreasing uncertainty improve outcomes?  Expected value of perfect information?&lt;/p&gt;
&lt;p&gt;Model uncertainty vs parameter uncertainty.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Adaptive management approach to coral-algae location of phase shift. vs Passive adaptive management/MPC.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nonlinearity in observation error&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;H inverse.  dockside landings don’t include discard/bycatch.  age &amp;amp; space from total biomass.&lt;/p&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Optimal sampling rates and intervention rate (rel to system timescale).  Compared to 3 yr rule on stock assessment.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Jim’s staged approach: Overall optimal.  Conditional on fishermen sampling. compare difference.&lt;/p&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Spatial signal of declines: most efficient fishing.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Dual_control_theory&quot;&gt;Dual control&lt;/a&gt;  = active adaptive management.&lt;/p&gt;
&lt;del&gt;
10:00 Break into Training Problem Groups
&lt;/del&gt;
&lt;del&gt;
TASK: Formalize Question. What is the biological problem? What is the control problem? Is
&lt;/del&gt;
&lt;del&gt;
there expertise you are missing? What resources do you need?
&lt;/del&gt;
&lt;del&gt;
11:30 Report back to full group
&lt;/del&gt;
&lt;p&gt;12:00 Lunch at NIMBioS&lt;/p&gt;
&lt;h2 id=&quot;training-problem-iii-summary&quot;&gt;Training problem III summary&lt;/h2&gt;
&lt;p&gt;Claire reviews dispersal problem in larva on Caribbean reefs.&lt;/p&gt;
&lt;p&gt;Discussion of focal questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Unique aspects of life history problems&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metamorphosis timing, energy (optimal stopping time)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;spawning trends and synchrony.  Synchronous settlement.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Work backwards from advanced problem.&lt;/p&gt;
&lt;p&gt;Extreme value vs. mean&lt;/p&gt;
&lt;p&gt;1:00 Training Problem Groups (shuffle expertise as needed) TASK: Model formulation &amp;amp; What do you need for Wednesday? 3:15 Break 3:30 NIMBioS Seminar by Alan Hastings 6:00 Dinner at the Armsworth’s&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Pretty Darn Good Control Working Group</title>
	 <link href="/2011/09/12/pretty-darn-good-control-working-group.html"/>
   <updated>2011-09-12T12:49:39+00:00</updated>
   <id>/09/12/pretty-darn-good-control-working-group</id>
   <content type="html">&lt;p&gt;Monday, August 12 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Welcome to NIMBioS (Lou Gross, Director of NIMBioS) 9:00 Intro to the pdg-control Working Group (Paul Armsworth) 9:30 Introductions by each Working Group Participant 5-minute self-introduction to the group, including your background, expertise, and current work 10:30 Break 11:00 Introduction to Training Problem 1 &amp;amp; Discussion (Jim Sanchirico)&lt;/p&gt;
&lt;h3 id=&quot;training-problem-0-optimal-control&quot;&gt;Training problem 0: Optimal Control&lt;/h3&gt;
&lt;p&gt;Jim&lt;/p&gt;
&lt;p&gt;maximize present discounted value:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\max_{h_t} \int_0^T e^{-rt} \Pi(h_t) dt  \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Biological growth minus harvest.  Let’s start with given: $ X_0, X_T $&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot x = F(x_t) -h_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Instantaneous fishing profit function curvature assumptions: $ ‘(h_t) &amp;gt;0, ’’(h_t) &amp;lt;0 $ (Diminishing returns)&lt;/p&gt;
&lt;p&gt;Solution:  Current Value Hamiltonian: $ H = e^{rt} H $ (current value is instantaneous, present value is integrated forward)&lt;/p&gt;
&lt;p&gt;$ $ would be lagrange multiplier but is a variable, a function of time.  Hence “Dynamic” optimization.  Is the “shadow price” or adjoint.  Solve:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ H = \Pi(h_t) + \lambda_t \left( F(x_t) -h_t \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Under optimality conditions:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;$ h_t  = 0 t w/ h_t &amp;gt; 0 ’(h_t) -_t $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ - r _t =  = F’(x_t) $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ x = F(x_t) - h_t$&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Subbing out lambda equations:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot h = \frac{\Pi ^{\prime}}{\Pi^{\prime\prime}} \left( r - F^{\prime}(x) \right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \dot x_t = F(x_t) - h_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Why is it dynamic?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Durability: fish stock today faces fish stock tomorrow.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjustment costs: can’t immediately change control.  Rate of changing control.  (come from $ Pi’’ $&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.jstor.org/stable/1814560&quot;&gt;Catenary Turnpike Theorem&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;note the stationary state is just setting value of leaving fish in water equal to rate of money it gets  $F^{}(x) = r $&lt;/p&gt;
&lt;p&gt;Note if $ $ depends on the stock value (i.e. more fish are easy to find, or you like having fish in the sea)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ F^{\prime}(x) + \frac{\Pi_x}{\Pi_h} = r \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Work simple example if profit is linear in h, but depends on stock: price of fish is p.   $ (h,x) = (p - c(x)) h $  Solutions are bang-bang, etc…&lt;/p&gt;
&lt;p&gt;Then marginial productivity = rate of return minus stock effect (searching costs, etc).&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ F^{\prime}(x) = r - \frac{c&amp;#39;(x) h}{p-c(x)} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;liquidation gain equals loss forever in taking out more fish.&lt;/p&gt;
&lt;p&gt;$ p-c(x) =  $&lt;/p&gt;
&lt;p&gt;External change in fish price, then steady state just follows the rate of change:&lt;/p&gt;
&lt;p&gt;$ F^{}(x) +  = r $&lt;/p&gt;
&lt;p&gt;Singular path (steady state path):&lt;/p&gt;
&lt;p&gt;What if harvest is constrained outside: “blocked intervals” changes dynamics.&lt;/p&gt;
&lt;p&gt;General note in all this dynamic stuff: you want stock at steady state, but you can’t just put it there, you have to harvest.  Hence canterary turnpike, etc.&lt;/p&gt;
&lt;h3 id=&quot;paul-armsworth-training-problem-1&quot;&gt;Paul Armsworth: training problem 1&lt;/h3&gt;
&lt;p&gt;constraints (limitations) on control&lt;/p&gt;
&lt;p&gt;Applications of optimal control recommend policy that changes frequently.&lt;/p&gt;
&lt;p&gt;Nonlinear relationship in age class&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ N_1(t+1) = f(N(t)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[N_{i+1}(t+1) = N_i(t) e^{\mu_i}, i \leq a  \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[N_{i+1}(t+1) = N_i(t) e^{\mu_i-q_iE(t)}, i &amp;gt; a  \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Fishing effort level E.  Pulse fishing or chattering becomes optimal (trying to meet two constraints, like temperature on different floors, where can’t meet both, but response time to one is faster than the other). Can see as convexity (Alan).&lt;/p&gt;
&lt;p&gt;_So the full optimum isn’t popular!  _Because no policy maker wants chattering as a solution.&lt;/p&gt;
&lt;p&gt;Appears when number of state variables exceeds number of control variables.  (Jim can this be proven?)  Many things expand state space.&lt;/p&gt;
&lt;p&gt;Another example: adding stochasticity (optimal inventory)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ N(t+1) = f(N(t) -h(t)) \varepsilon_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Results in highly variable optimal quotas. At least in bluefin tuna, show policy is very non-responsive.  Alan: easier to raise than lower quotas. Jim: irreversible action extreme.&lt;/p&gt;
&lt;p&gt;Uncertainty analysis: Predicted stock size when quota set vs observed value.  Note: you get more accurate estimate of the stock size more distantly in the past (more harvest size data).&lt;/p&gt;
&lt;p&gt;Common fixes: quadratic/L2 penalty to changing quota.  L1 penalty, max change size.&lt;/p&gt;
&lt;p&gt;Neubert 2003: chattering in marine reserves (infinitely many infentesimal reserves) silly assumptions (no cost)&lt;/p&gt;
&lt;p&gt;Halpern 2011: optimal harvest rates differ for each of 22 targets.&lt;/p&gt;
&lt;p&gt;Hobday &amp;amp; Hartman 2006 suggest moving time-area closure boundaries to react to satellite data.&lt;/p&gt;
&lt;p&gt;Technologically, tracking is possible.  But how much variation is desirable?&lt;/p&gt;
&lt;h3 id=&quot;lunch-at-nimbios&quot;&gt;12:00 Lunch at NIMBioS&lt;/h3&gt;
&lt;h3 id=&quot;introduction-to-training-problem-2-discussion-alan-hastings&quot;&gt;1:00 Introduction to Training Problem 2 &amp;amp; Discussion (Alan Hastings)&lt;/h3&gt;
&lt;p&gt;Coral reef grazing model (analytic model by Mumby et al 2007) (Mumby &lt;em&gt;et. al.&lt;/em&gt; 2007)&lt;/p&gt;
&lt;p&gt;Macroalgae (grazed by parrotfish) overgrows coral, Coral, Turf. Grazed or dead coral both become turf.  T+M+C = constant, so:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dM}{dt} = a MC - \frac{g M}{M+T}+\gamma MT \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dC}{dt} = (rT - d-aM)C \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Multiple stable states.   a is overgrowth.&lt;/p&gt;
&lt;p&gt;Parrotfish model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dC}{dt} = (rT - d-aM)C \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;K(C) is from territorial limits, rather than food limits.  (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;p&gt;Adding habitat quality (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Compare to a non-multiple stable states.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl Walters adaptive control: variance on posterior as a state variable (confidence in a parameter)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;passive adaptive – living with uncertainty – don’t perturb to learn, only to improve expectation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;active – actually perturbing system&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;model choice. model averaging.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Advanced problem: aggregated model vs model complexity.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;introduction-to-training-problem-3-discussion-megan-donahue&quot;&gt;2:00 Introduction to Training Problem 3 &amp;amp; Discussion (Megan Donahue)&lt;/h3&gt;
&lt;p&gt;Understanding how biology does it’s own control problems: life history switch:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Constraint: tradeoff between growth R and fecundity F&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimality criterion: maximize reproduction at time T&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal strategy: switch effort from all F to all R at time &lt;span class=&quot;math&quot;&gt;\(t_s\)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Evolutionary context: optimal only in light of evolution.  heritablity limitations. differing historical context. optimal plasticity (“adaptive management”).&lt;/p&gt;
&lt;p&gt;ultimate (e.g. fitness) vs proximate (e.g. food) causation.&lt;/p&gt;
&lt;p&gt;Optimal larval return strategy.  (Intro to larval forms of marine creatures)&lt;/p&gt;
&lt;p&gt;Exploiting water column current flow (ARMSWORTH, 2001)&lt;/p&gt;
&lt;p&gt;Delayed and non-delayed swimming.  Stochastic dynamic programming (Irisson &lt;em&gt;et. al.&lt;/em&gt; 2004)&lt;/p&gt;
&lt;p&gt;Megan: “You guys probably have another word for it in economics”  Jim: “Same thing”. (Alan throws Jim candy)&lt;/p&gt;
&lt;p&gt;Highly stochastic: in the sense that 1 :10^6 survive to settle.&lt;/p&gt;
&lt;p&gt;Objective uncertainty: maximize time in plankton? survivorship to settlement? body size at settlement?  Is arithmetic mean lifetime fitness the right measure?  Sweepstakes (does one organism’s progeny make up most of the population?)&lt;/p&gt;
&lt;p&gt;Jim: Is this an optimal stopping time question?&lt;/p&gt;
&lt;p&gt;Alan: An approximate solution to the optimal problem or optimal solution to the approximate problem?&lt;/p&gt;
&lt;p&gt;Choosing among a set of potentially equivalent models.&lt;/p&gt;
&lt;p&gt;Jim: When do we get 90% there with a low-dimensional solution?   (Advanced problem 1 &amp;amp; 2 start to address this). Does this make a difference when stochasticity enters?  (Jim and Alan’s paper of adding more species to management story doesn’t matter much).&lt;/p&gt;
&lt;p&gt;In policy, we only want robust solutions when forced to be non-optimal; i.e. simple model or inflexible policy.  Michael: life-history/nature optimizes full problem, not the simplified one.  Does this mean it is less robust.&lt;/p&gt;
&lt;p&gt;Paul Ludwig’s paper where the simple model outperforms the generating complex model.&lt;/p&gt;
&lt;p&gt;3:00 Break 3:15 Self-select into small groups to discuss Training Problems TASK: Identify 1-3 focal questions. What the biological problem? What’s the control problem?&lt;/p&gt;
&lt;h3 id=&quot;training-problem-1-questions&quot;&gt;Training Problem 1 Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theory:  state variable exceed control variable: we want the non-optimal control.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;When does this give chattering?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Is there a convexity analog?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does this non-optimal solution to high-state-variable case do better than a an optimal solution to lower-state model?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjustment Costs&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;optimal vs suboptimal&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare optimal under different constrains irriversability/asymmetric penalty&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overages/Underages&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical: volatility of stock-size estimate vs volatility of management adjustment.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;5:00 NIMBioS Reception 6:15 Walk into town for dinner 7:30 Optional Activity: Contradancing at the Laurel Theater (2 blocks from NIMBioS)&lt;/p&gt;
&lt;p&gt;Participant list&lt;/p&gt;
&lt;h1 id=&quot;pretty-darn-good-control&quot;&gt;&lt;a href=&quot;http://www.nimbios.org/workinggroups/WG_PDG&quot;&gt;Pretty Darn Good’ Control&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Participant Institutional affiliation Meetings&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Paul Armsworth&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Ecology &amp;amp; Evolutionary Biology, Univ. of Tennessee&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Michael Bode&lt;/p&gt;
&lt;p&gt;Adv. Environmental Decision Analysis, Univ. of Melbourne, Australia&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Carl Boettiger&lt;/p&gt;
&lt;p&gt;Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan Donahue&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Marine Biology, Univ. of Hawaii, Kaneohe&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Frank Doyle&lt;/p&gt;
&lt;p&gt;Chemical Engineering, Univ. of California, Santa Barbara&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Raissa D’Souza&lt;/p&gt;
&lt;p&gt;Univ. of California, Davis; Santa Fe Institute&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marie-Josee Fortin&lt;/p&gt;
&lt;p&gt;Zoology, Univ. of Toronto&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan Hastings&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Environmental Science &amp;amp; Policy, Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Jacob LaRiviere&lt;/p&gt;
&lt;p&gt;Economics, Univ. of Tennessee&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Claire Paris&lt;/p&gt;
&lt;p&gt;Marine Science, Univ. of Miami&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Jim Sanchirico&lt;/p&gt;
&lt;p&gt;Environmental Science &amp;amp; Policy, Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Toews&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Mathematics, Duquesne Univ.&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;*Group organizers Mtg 1: Sep 12-15, 2011 (preliminary)&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mumby P, Hastings A and Edwards H (2007). “Thresholds And The Resilience of Caribbean Coral Reefs.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;450&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;http://dx.doi.org/10.1038/nature06252&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ARMSWORTH P (2001). “Directed Motion in The Sea: Efficient Swimming by Reef Fish Larvae.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;210&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.2001.2299&quot;&gt;http://dx.doi.org/10.1006/jtbi.2001.2299&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Irisson J, LeVan A, Lara M and Planes S (2004). “Strategies And Trajectories of Coral Reef Fish Larvae Optimizing Self-Recruitment.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;227&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jtbi.2003.10.016&quot;&gt;http://dx.doi.org/10.1016/j.jtbi.2003.10.016&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Likelihood expressions for branching processes</title>
	 <link href="/2011/09/10/likelihood-expressions-for-branching-processes.html"/>
   <updated>2011-09-10T14:29:09+00:00</updated>
   <id>/09/10/likelihood-expressions-for-branching-processes</id>
   <content type="html">&lt;h3 id=&quot;lineage-through-time-approach&quot;&gt;Lineage-through-time approach&lt;/h3&gt;
&lt;p&gt;Nee, then Paradis (Paradis, 2003) introduces unresolved tips&lt;/p&gt;
&lt;h3 id=&quot;distribution-of-branch-lengths-approach&quot;&gt;Distribution of branch-lengths approach&lt;/h3&gt;
&lt;p&gt;Note that in any Markov branching process, only node depth, not topology, influence the likelihood.&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h3 id=&quot;see-also&quot;&gt;See also:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/974&quot;&gt;Notes&lt;/a&gt; on bootstrapping in laser&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/340&quot;&gt;Earlier Notes&lt;/a&gt; on distribution derivation from Kendall 1948&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;My &lt;a href=&quot;http://www.carlboettiger.info/archives/299&quot;&gt;derivation&lt;/a&gt; of the analytic probability of N individuals in pure birth (from van Kampen approximation)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(manual list)&lt;/p&gt;
&lt;h3 id=&quot;refs&quot;&gt;Refs&lt;/h3&gt;
&lt;p&gt;Kendall, D. G. (1948). On the Generalized “Birth-and-Death” Process. Annals of Mathematical Statistics, 19(1), 1-15.&lt;/p&gt;
&lt;p&gt;Alfaro, M. E., Santini, F., Brock, C., Alamillo, H., Dornburg, A., Rabosky, D. L., Carnevale, G., et al. (2009). Nine exceptional radiations plus high turnover explain species diversity in jawed vertebrates. Proceedings of the National Academy of Sciences of the United States of America, 106(32), 13410-4. doi:10.1073/pnas.0811087106 Nee, S., Holmes, E. C., May, R. M., &amp;amp; Harvey, P. H. (1994). Extinction rates can be estimated from molecular phylogenies. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences, 344(1307), 77-82. Nee, S., May, R. M., &amp;amp; Harvey, P. H. (1994). The reconstructed evolutionary process. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences, 344(1309), 305-311.&lt;/p&gt;
&lt;p&gt;Foote, M. (1999). Evolutionary and Preservational Constraints on Origins of Biologic Groups: Divergence Times of Eutherian Mammals. Science, 283(5406), 1310-1314. doi:10.1126/science.283.5406.1310&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Paradis E (2003). “Analysis of Diversification: Combining Phylogenetic And Taxonomic Data.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;270&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2003.2513&quot;&gt;http://dx.doi.org/10.1098/rspb.2003.2513&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>How google views me: by search terms or citation counts?</title>
	 <link href="/2011/09/09/how-google-views-me-by-search-terms-or-citation-counts.html"/>
   <updated>2011-09-09T09:55:39+00:00</updated>
   <id>/09/09/how-google-views-me-by-search-terms-or-citation-counts</id>
   <content type="html">&lt;p&gt;How Google search views me: here’s a word cloud of search terms reaching my site in August.  Word cloud produced with R: click-through for link to source-code. Uses the rather convenient tm package for text-mining functions in R. Note that this shows the frequency of individual words used in searches, rather than the whole search term.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6073/6128330822_c3f089a3da_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(tm)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wordcloud)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RColorBrewer)

carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.csv&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;searchterms.csv&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;colClasses=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;character&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;numeric&amp;quot;&lt;/span&gt;))

words &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;character&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(carl[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]]))
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(carl[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])){
  n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;carl[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]][i]
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;carl[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][i]
  words[m:(m+(n&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;))] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(x, n)
  m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m+n
}

 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Corpus&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;DataframeSource&lt;/span&gt;(carl))
 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tm_map&lt;/span&gt;(carl, removePunctuation)
 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tm_map&lt;/span&gt;(carl, tolower)

 carl.tdm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;TermDocumentMatrix&lt;/span&gt;(carl)
 carl.m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.matrix&lt;/span&gt;(carl.tdm)
 carl.v &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rowSums&lt;/span&gt;(carl.m), &lt;span class=&quot;dt&quot;&gt;decreasing=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
 carl.d &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;word=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(carl.v), &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;carl.v)

pal2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;brewer.pal&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;Dark2&amp;quot;&lt;/span&gt;)

&lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;800&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;800&lt;/span&gt;) 
&lt;span class=&quot;co&quot;&gt;#larger canvas doesn&amp;#39;t increase plot size&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;wordcloud&lt;/span&gt;(carl.d$word,carl.d$freq, &lt;span class=&quot;dt&quot;&gt;scale=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;min.freq=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
&lt;span class=&quot;dt&quot;&gt;max.words=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;Inf&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;random.order=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;rot.per=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;colors=&lt;/span&gt;pal2)
&lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(socialR)
&lt;span class=&quot;kw&quot;&gt;upload&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;script=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.R&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here’s another way that Google views me: results from the &lt;a href=&quot;http://code.google.com/p/citations-gadget/&quot;&gt;Google citation gadget&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Citations for “Carl Boettiger”: &lt;strong&gt;77&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cited Publications: &lt;strong&gt;18&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;H-Index: &lt;strong&gt;5&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hmm… I think the wordcloud approach might be more accurate… Perhaps no one needed reminding not to trust these kinds of tools, despite the predilection to believe anything quantitative (See the real story on my CV tab (pdf). The other lesson might be that alternative forms of publishing are likely to get picked up by some of these algorithms. Many of the &lt;a href=&quot;http://scholar.google.com/scholar?start=0&amp;amp;q=author:%22Carl+Boettiger%22&amp;amp;hl=en&amp;amp;lr=lang_en&amp;amp;as_sdt=0,5&quot;&gt;items&lt;/a&gt; that come up are talks I’ve deposited on Nature Precedings, and a few are even just notebook posts. Interesting that there’s a growing number of services designed to help scientists strengthen their review dossier using these tools.&lt;/p&gt;
&lt;p&gt;Does this mean that alternative publishing (&lt;em&gt;i.e.&lt;/em&gt; conference slides, prepints, notebook posts) is a good way to trick the metrics? That people won’t trust the numbers of bloggers, etc, assuming they are inflated? Or that these kinds of communication methods may gain acceptance as part of the scientific discourse?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>discriminating early bursts</title>
	 <link href="/2011/09/08/discriminating-early-bursts.html"/>
   <updated>2011-09-08T23:08:33+00:00</updated>
   <id>/09/08/discriminating-early-bursts</id>
   <content type="html">&lt;p&gt;Looking at cases when early burst can be discriminated from OU, a la Harmon et al 2010 (Harmon &lt;em&gt;et. al.&lt;/em&gt; 2010). Fixed models can be told apart. Rather trivially, none of these models can be told apart if initially estimated from Brownian data. Rather encouraging: models estimated from common data can be told apart. 600 taxa tree&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6199/6125357510_a09d6f32dd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Still works on 60 taxa, identifying OU correctly when sim under OU (left), and EB for EB data (right):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6185/6126018835_6199c37005_o.png&quot; /&gt;   &lt;img src=&quot;http://farm7.staticflickr.com/6209/6128149375_b398dc55dd_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;But not always.&lt;/p&gt;
&lt;p&gt;Parameter estimation on weak EB can be quite tough.  600 taxa tree does fine with a stronger EB signal, though with considerable uncertainty&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6193/6124689945_db2e564065_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;For instance, the small geospiza data set (13 taxa) the OU fits better, but not substantially:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6130047163_ca04cc1f3d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Should add parameter distributions for the above cases and run the model choice on a couple simulations with weaker EB parameters, as well as a couple of the real data sets.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Harmon L, Losos J, Jonathan Davies T, Gillespie R, Gittleman J, Bryan Jennings W, Kozak K, McPeek M, Moreno-Roark F, Near T, Purvis A, Ricklefs R, Schluter D, Schulte II J, Seehausen O, Sidlauskas B, Torres-Carvajal O, Weir J and Mooers A (2010). “Early Bursts of Body Size And Shape Evolution Are Rare in Comparative Data.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>memory management, cron</title>
	 <link href="/2011/09/07/memory-management-cron.html"/>
   <updated>2011-09-07T21:28:03+00:00</updated>
   <id>/09/07/memory-management-cron</id>
   <content type="html">&lt;p&gt;Create the memcheck.sh script that will write a mem.log file with the data, and a&lt;a href=&quot;http://t16web.lanl.gov/Kawano/gnuplot/datetime-e.html&quot;&gt;gnuplot script&lt;/a&gt; that will plot it.&lt;/p&gt;
&lt;p&gt;[gist id=1201994]&lt;/p&gt;
&lt;p&gt;Then set up a cron job.  First, set the editor to something functional:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export EDITOR=vi&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, crontab -e to edit the cron table.  Add this line to run the command every 2 minutes (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Cron#Examples&quot;&gt;wikipedia entry&lt;/a&gt; for quick intro), and plot it every 15 minutes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;*/2 * * * * /home/cboettig/./memcheck.sh
*/15 * * * * gnuplot /home/cboettig/memplot.gnu&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See resulting &lt;a href=&quot;http://www.carlboettiger.info/mem.png&quot;&gt;plot&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/09/07/wednesday-8.html"/>
   <updated>2011-09-07T12:30:39+00:00</updated>
   <id>/09/07/wednesday-8</id>
   <content type="html">&lt;h3 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h3&gt;
&lt;p&gt;Next steps directions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;economics of uncertainty in early warning&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated data approach - insect pest dynamics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cod data set. fisheries depensation&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Send Alan: Slides, CV (for post doc apps)&lt;/p&gt;
&lt;p&gt;Discussed some relevant literature, mostly for the warning signals in fisheries questions: (Colchero &amp;amp; Clark, 2012), (Hutchings, 2000), HUTCHINGS &amp;amp; REYNOLDS, 2004, (Minckley &lt;em&gt;et. al.&lt;/em&gt; 2012), (Myers &lt;em&gt;et. al.&lt;/em&gt; 1995), (Schröder &lt;em&gt;et. al.&lt;/em&gt; 2012)&lt;/p&gt;
&lt;p&gt;Upcoming working group at NIMBioS next week.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Colchero F and Clark J (2012). “Bayesian Inference on Age-Specific Survival For Censored And Truncated Data.” &lt;em&gt;Journal of Animal Ecology&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2656.2011.01898.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2656.2011.01898.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hutchings J (2000). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;406&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/35022565&quot;&gt;http://dx.doi.org/10.1038/35022565&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Minckley T, Shriver R and Shuman B (2012). “Resilience And Regime Change in A Southern Rocky Mountain Ecosystem During The Past 17 000 Years.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0283.1&quot;&gt;http://dx.doi.org/10.1890/11-0283.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Myers R, Barrowman N, Hutchings J and Rosenberg A (1995). “Population Dynamics of Exploited Fish Stocks at Low Population Levels.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.269.5227.1106&quot;&gt;http://dx.doi.org/10.1126/science.269.5227.1106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schröder A, Persson L and de Roos A (2012). “Complex Shifts Between Food Web States in Response to Whole-Ecosystem Manipulations.” &lt;em&gt;Oikos&lt;/em&gt;, &lt;strong&gt;121&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1600-0706.2011.19764.x&quot;&gt;http://dx.doi.org/10.1111/j.1600-0706.2011.19764.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marine Fish Population Collapses: Consequences For Recovery And Extinction Risk, JEFFREY A. HUTCHINGS, JOHN D. REYNOLDS, (2004) &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;54&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1641/0006-3568(2004)054[0297:MFPCCF]2.0.CO;2&quot;&gt;10.1641/0006-3568(2004)054[0297:MFPCCF]2.0.CO;2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>rfishbase demo: Are there more Goby or Labrid species on reefs?</title>
	 <link href="/2011/09/02/rfishbase-demo.html"/>
   <updated>2011-09-02T12:59:35+00:00</updated>
   <id>/09/02/rfishbase-demo</id>
   <content type="html">&lt;p&gt;I have updated the package to 0.0-3 alpha, having all the target functionality now.  Improved error handling, downloading of data, processing.  Get the source or windows binary &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;here&lt;/a&gt;. I now download the full database and cache it locally for faster querying. Just about any kind of manipulation is then possible and fast.&lt;/p&gt;
&lt;p&gt;For instance, here’s a quick demo based on a question from Peter Wainwright: “are there more gobys or labrids on reefs?”&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; require(rfishbase)
Loading required package: rfishbase
&amp;gt; ## Download and parse data for first 40 ids (36 fish)
&amp;gt; #fish.data &amp;lt;- getData(1:40)
&amp;gt; 
&amp;gt; ## Or just load the cached copy of the full fishbase data:
&amp;gt; data(fishbase)
&amp;gt; fish.data &amp;lt;- all.fishbase 
&amp;gt; labrid &amp;lt;- familySearch(&amp;quot;Labridae&amp;quot;, fish.data)
&amp;gt; goby &amp;lt;- familySearch(&amp;quot;Gobiidae&amp;quot;, fish.data)
&amp;gt; 
&amp;gt; # get all those that are reefs 
&amp;gt; labrid.reef &amp;lt;- habitatSearch(&amp;quot;reef&amp;quot;, fish.data[labrid])
&amp;gt; # How many species are reef labrids:
&amp;gt; sum(labrid.reef) #same as: length(fish.data[labrid][labrid.reef])
[1] 415
&amp;gt; 
&amp;gt; # How many reef gobies:
&amp;gt; sum (habitatSearch(&amp;quot;reef&amp;quot;, fish.data[goby]) )
[1] 399
&amp;gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More Labrids! Peter tells me that once you add the parrotfish, labrids are the clear winner. Just as we can search habitat keywords, we could do the same for diet, distribution, etc. We also have access to the size data, etc, as shown in the &lt;a href=&quot;http://fishlab.ucdavis.edu/?p=395&quot;&gt;wainwrightlab&lt;/a&gt; demo. This has been streamlined using the getSize() function in the new version.&lt;/p&gt;
&lt;p&gt;This uses some very simple functions I’ve added to the package in the &lt;a href=&quot;https://github.com/cboettig/rfishbase/blob/2f642553e4d0ab3b632a0fea64150aca98a02594/R/analysis.R&quot;&gt;R/analysis.R&lt;/a&gt; script. They are meant to be examples rather than comprehensive, since it will be easier for an experienced user of R to write their own commands or functions than to anticipate all possible kinds of queries. This should give a clear starting point. Other potentially common queries may be given their own functions in the future.&lt;/p&gt;
&lt;p&gt;While one can always run against the cached copy of the database now included in the package, it may be necessary to update this regularly as the online database is updated. This synchrony is of course the primary functionality of the rfishbase package. In principle all 30,715 or so entries of fishbase can be downloaded with getData(1:70000). In practice this may need to be broken into chunks to be successful, given server limitations, memory limitations, etc. The demo script downloadFishbase.R is one example of how this might be done.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday Reading</title>
	 <link href="/2011/09/01/thursday-reading.html"/>
   <updated>2011-09-01T23:58:40+00:00</updated>
   <id>/09/01/thursday-reading</id>
   <content type="html">&lt;p&gt;Very interesting article on tipping points that seems to answer a question I put to Vasilis back in 2009 at IIASA: whether critical transitions due to bifurcations could be distinguished from stochastic transitions due to rare events Ditlevsen &amp;amp; Johnsen, 2010.  Argues that some of the well-known climate transitions may have been stochastic transitions instead.  Will need a closer read to better assess how they are distinguishing between such transitions in the data.&lt;/p&gt;
&lt;p&gt;Provocative &lt;em&gt;Nature&lt;/em&gt; paper by Frank et al.  claims that fishery collapse represents only a long transient on the road to recovery, rather than an alternate stable state (Frank &lt;em&gt;et. al.&lt;/em&gt; 2011).  An intriguing debate – setting aside the trouble of actually defining what it means rigorously, since either description is a low-dimensional approximation of the true dynamics anyhow.  Of course the next worry is that we probably don’t have the data to tell definitively, even if we can define the question; but we can certainly do our best.  This kind of data on fisheries seems to go through all kinds of opaque filtering before it becomes the numbers we analyze (getting from catch effort to information about abundance and size that we don’t observe by using phenomenological models seems to leave room for doubt).  So if we set those concerns aside too and do the best we can to answer the question – we can at least confront the paper.  The hypothesis seems plausible, the argument that the system is in a transient because Figure 3 looks like the pattern of a damped harmonic oscillator is hardly convincing.  The match of theory to data should be compared between plausible hypotheses.  Nor does it seem that just because the forage fish dynamics have a stable spiral that we’ve eliminated the alternate stable states hypothesis.  Still, I’d need to actually look at the data to really be able to make much judgment, and it looks like reconstructing the time series from the public data would take some doing.&lt;/p&gt;
&lt;p&gt;Hypothesis they wish to displace runs something like this: Large benthic species like cod normally predate the smaller forage fish.  Destruction of cod releases the forage fish who then prevent cod recovery due to their increased biomass (through competition with smaller cod, or predation, etc) (Jackson, 2001) (Persson &lt;em&gt;et. al.&lt;/em&gt; 2007) (Fauchald, 2010).&lt;/p&gt;
&lt;p&gt;Interesting review of “Early warning of climate tipping points” in Nature Climate Change: (Lenton, 2011); a remarkable number of the examples are ecological rather than more meteorological.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Frank K, Petrie B, Fisher J and Leggett W (2011). “Transient Dynamics of an Altered Large Marine Ecosystem.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;477&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature10285&quot;&gt;http://dx.doi.org/10.1038/nature10285&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jackson J (2001). “Historical Overfishing And The Recent Collapse of Coastal Ecosystems.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;293&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1059199&quot;&gt;http://dx.doi.org/10.1126/science.1059199&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Persson L, Amundsen P, De Roos A, Klemetsen A, Knudsen R and Primicerio R (2007). “Culling Prey Promotes Predator Recovery–Alternative States in A Whole-Lake Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;316&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1141412&quot;&gt;http://dx.doi.org/10.1126/science.1141412&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fauchald P (2010). “Predator-Prey Reversal: A Possible Mechanism For Ecosystem Hysteresis in The North Sea?” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;91&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/09-1500.1&quot;&gt;http://dx.doi.org/10.1890/09-1500.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lenton T (2011). “Early Warning of Climate Tipping Points.” &lt;em&gt;Nature Climate Change&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1758-678X, &lt;a href=&quot;http://dx.doi.org/10.1038/nclimate1143&quot;&gt;http://dx.doi.org/10.1038/nclimate1143&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/08/31/wednesday-7.html"/>
   <updated>2011-08-31T12:09:29+00:00</updated>
   <id>/08/31/wednesday-7</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Wait, the storage effect is often evolutionarily unstable? Yikes. (Snyder &amp;amp; Adler, 2011). Will have to read this more closely.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vasseur &amp;amp; Fox nice AD paper in &lt;del&gt;PNAS&lt;/del&gt; Am Nat (Vasseur &amp;amp; Fox, 2011), ((One day Am Nat will finish registering the doi for these papers?))&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Contrary to previous verbal arguments that suggest that character convergence leads to neutral stability, coadaptation of competing consumers always leads to stable coexistence. Furthermore, we show that incorporating costs of consuming or excreting excess nonlimiting nutrients selects for nutritionally balanced diets and so promotes character convergence.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Curious: phlyogenetic rate shifts in feeding &lt;em&gt;in Homo&lt;/em&gt; genus: (Organ &lt;em&gt;et. al.&lt;/em&gt; 2011). An unfamiliar approach to me. Nice time-calibrated mophological-character tree of humans though. Now if only PNAS would consider requiring treebase archiving…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Best meta-population dataset ever (Hanski, 2011)? Looks like a nice paper, can’t help feeling it would have huge impact if the data were made available. Without that, it’s a bit hard to judge.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Great arxiv &lt;a href=&quot;http://arxiv.org/abs/1010.1595&quot;&gt;paper&lt;/a&gt; on parallel computation to improve MCMC. Not the way I thought – independent samples rather than independent chains. Which I had a better grasp or more time to go through this. Also, Robert’s ABC critique paper is out (Robert &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also need to read (Liebhold &amp;amp; Bascompte, 2003)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;p&gt;Working on Evolution revisions…&lt;/p&gt;
&lt;h2 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h2&gt;
&lt;p&gt;Bill got me started on automatic reporting from the clusters using some bash scripting. Still tweaking.&lt;/p&gt;
&lt;p&gt;Jacob, P., Robert, C. P., &amp;amp; Smith, M. H. (2010). Using parallel computation to improve Independent Metropolis–Hastings based estimation, 19. Retrieved from http://arxiv.org/abs/1010.1595&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Snyder R and Adler P (2011). “Coexistence And Coevolution in Fluctuating Environments: Can The Storage Effect Evolve?” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;178&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/661905&quot;&gt;http://dx.doi.org/10.1086/661905&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vasseur D and Fox J (2011). “Adaptive Dynamics of Competition For Nutritionally Complementary Resources: Character Convergence, Displacement, And Parallelism.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;178&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/661896&quot;&gt;http://dx.doi.org/10.1086/661896&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Organ C, Nunn C, Machanda Z and Wrangham R (2011). “Phylogenetic Rate Shifts in Feeding Time During The Evolution of Homo.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1107806108&quot;&gt;http://dx.doi.org/10.1073/pnas.1107806108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hanski I (2011). “Inaugural Article: Eco-Evolutionary Spatial Dynamics in The Glanville Fritillary Butterfly.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1110020108&quot;&gt;http://dx.doi.org/10.1073/pnas.1110020108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Robert C, Cornuet J, Marin J and Pillai N (2011). “Lack of Confidence in Approximate Bayesian Computation Model Choice.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1102900108&quot;&gt;http://dx.doi.org/10.1073/pnas.1102900108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liebhold A and Bascompte J (2003). “The Allee Effect, Stochastic Dynamics And The Eradication of Alien Species.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.2003.00405.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.2003.00405.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
	 <link href="/2011/08/30/tuesday-8.html"/>
   <updated>2011-08-30T22:11:23+00:00</updated>
   <id>/08/30/tuesday-8</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Completed review for &lt;em&gt;Methods&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First read-through of review/resubmission for &lt;em&gt;THEE&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on Evolution manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape: root should have the option of being fixed at phylogenetic mean for all models. Do root estimates occur far from this currently?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check graph color schemes, seem inconsistent.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms group: Hidden Markov Models</title>
	 <link href="/2011/08/29/algorithms-group-hidden-markov-models.html"/>
   <updated>2011-08-29T21:43:42+00:00</updated>
   <id>/08/29/algorithms-group-hidden-markov-models</id>
   <content type="html">&lt;p&gt;Great group discussion on Hidden Markov Models tag-teamed by Yaniv and Alisa.  Walked through the coin flip example, creating the forward algorithm, and the posterior decoding.  In this case it is assumed model and parameters are known: two coins, known ratios, known rate of swapping; goal is to guess which coin is being used in a given interval.  Algorithm does quite well, as shown in Yaniv’s awesome graph.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6187/6101814161_83ce34791c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;As usual in the notebook, click on the graph to get link-through to the code.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: scaling wrightscape examples</title>
	 <link href="/2011/08/29/monday-scaling-wrightscape-examples.html"/>
   <updated>2011-08-29T18:27:20+00:00</updated>
   <id>/08/29/monday-scaling-wrightscape-examples</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;syntaxHighligher isn’t working. no idea why, posted to forums.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still no luck compiling gsl on carver. Can’t install gsl R package or compile wrightscape C code. posted C issue to NERSC, R issue to statscicomp.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Commits to taxize pushed to Scott.&lt;/p&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h2&gt;
&lt;h3 id=&quot;parrotfish-example&quot;&gt;parrotfish example&lt;/h3&gt;
&lt;p&gt;Convergence test: with simple (common) initial values (alpha=.1, sigma=1), the different methods behave mostly appropriately: outer nested models out-perform inner ones, and likelihoods roughly agree between ouch package methods and wrightscape equivalents:&lt;/p&gt;
&lt;p&gt;[gist id=1179079]&lt;/p&gt;
&lt;p&gt;values agree with those from the sigma=40 starting condition (biased to explain variation by sigma instead of alpha). Note that with fixed alpha, the sigmas-indep is doing just slightly worse than the sigmas-global model, and the sigmas-indep model with sigma=40 starting condition did substantially worse than this.&lt;/p&gt;
&lt;p&gt;So, it looks like good evidence for selection at least (non-zero alpha). Next run should see if there’s any evidence of two different selection strengths.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running ou vs 2 alphas on farm, 64 nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some evidence, thought difference in alphas seems very small relative to the resolution:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6182/6094130312_ca51efa2a7_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6069/6094130360_aa6ec76838_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Running alphas vs sigmas2, an OU model with sigmas indep vs one with indep alphas. Likely not distinquishable: parrotfish2. 64 cores, farm.&lt;/p&gt;
&lt;p&gt;Also running the fully general model against the indep sigmas, second-best scoring. May be distinguishable: parrotfish_indep, 128 cores, farm.&lt;/p&gt;
&lt;h3 id=&quot;primates-example&quot;&gt;Primates example&lt;/h3&gt;
&lt;p&gt;A much larger tree, routine is much slower. For some reason, MLE on the brownie-style models do the worse. Primates dataset shows release of constraint over OU:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6203/6094761018_0b2c2387ff_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6083/6094761040_de833e0882_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Waiting on primates2.R to compare this to brownie result.&lt;/p&gt;
&lt;h3 id=&quot;wrightscapegsl-compile-on-carver&quot;&gt;Wrightscape/gsl compile on carver!&lt;/h3&gt;
&lt;p&gt;Automatic configuration failed, but was able to set libraries manually in Makevars:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;PKG_CPPFLAGS=-I/usr/common/usg/gsl/1.13/include -Wall -O3
PKG_LIBS=-L/usr/common/usg/gsl/1.13/lib -lm -lgsl -lgslcblas                                                       &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then removing all the configure files and loading the intel modules (R wants the intel compilers for carver I guess):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;module swap pgi intel
module swap openmpi openmpi-intel
module load gsl
module load R/2.12.1
R CMD INSTALL wrightscape&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we’re live!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://nim.nersc.gov/ercap_menu.php&quot;&gt;NERSC grant submitted&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday: scaling, runs</title>
	 <link href="/2011/08/28/sunday-scaling-runs.html"/>
   <updated>2011-08-28T22:33:59+00:00</updated>
   <id>/08/28/sunday-scaling-runs</id>
   <content type="html">&lt;p&gt;laptop: ubuntu upgrades: 10.04 LTS -&amp;gt; 10.10 -&amp;gt; 11.04, geesh.&lt;/p&gt;
&lt;p&gt;Set up for running primates.R in likelihood mode with abstracted parallelization:&lt;/p&gt;
&lt;p&gt;Carver trouble getting wrightscape installed: even after module load gsl, cannot find gsl library. Testing on zero in mpi mode, 16. Testing on farm, mpi mode with snow, 16 cores.&lt;/p&gt;
&lt;p&gt;hmm, high (9%) memory usage on primates.R on zero… monitoring situation closely… Only .3% on farm so far, which has 24G instead of zero’s 32Gig RAM..&lt;/p&gt;
&lt;p&gt;farm runs at 16 cores, bm vs ouch: successful. Little difference in differing optima between new and old world monkeys vs brownian motion:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6091130793_5ed3f89e87_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Running bm vs alphas models on primates, 64 cpu on farm&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running sigmas vs alphas model as primates2.R, 64 cpu on farm&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;estimate of sigmas model on primates data is very slow relative to alpha, etc.  hmm..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running ou vs alphas on parrotfish.R 64 cpu on farm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(looks like sigmas v alphas but note sigmas is defined as all global, i.e. 1-peak ou, in the model.spec).  Add labrid data to git tracking to facilitate this.  Dramatically better log likelihood on the alphas model, easily supported by the bootstrap: (trait is size-corrected protrusion).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6091578813_d7793634c6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;plotting for parameter distributions is supported from wrightscape, to handle the regimes grouping on matching plots.  A more basic/general one is found in pmc pots.  Should  add a decent general plotting of parameters to mcmcTools, as well as ROC curve tools.&lt;/p&gt;
&lt;p&gt;Updated socialR a bit to allow more minimal details specified in upload, and to work better with reporting from head node following a cluster run.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday: working on computational scaling, ion, etc</title>
	 <link href="/2011/08/27/saturday-working-on-computational-scaling-abstraction-etc.html"/>
   <updated>2011-08-27T23:44:09+00:00</updated>
   <id>/08/27/saturday-working-on-computational-scaling-abstraction-etc</id>
   <content type="html">&lt;p&gt;Can I get a generic montecarlotest function working for both warningsignals and pmc?&lt;/p&gt;
&lt;p&gt;Needs to be able to handle S4 classes as well as S3 classes, or need to define the methods update, simulate, loglik and getParameters for any object that would use the method. i.e. these need to be defined in warningsignals for its functions and in wrightscape/pmc for its creatures. then the generic can be used. Implementing now… Completed. pmc and wrightscape now depend on my mcmcTools package, which now provides the montecarlotest() function. This function can be run piecewise as well using two new functions, compare_models(), and collect(). compare_models contains the abstract parallelization loop, which can be applied in any parallelization manner (including bash-script serial runs of the function) using any lapply formating. Results from separate runs can simply be concatenated and passed to collect(), which does some basic reformatting.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6197/6090938628_313358fec8_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6085/6090932874_d2b3b20cd4_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Seems to be working: pmc example montecarlotest and compare_models() methods seem to show the comparable results.&lt;/p&gt;
&lt;p&gt;Exploring parallelization methods between snow, snowfall, and Rmpi. All working in preliminary examples on carver. All except the snowfall mpi mode work on farm, unfortunately. filed ticket.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# Initialize the Rmpi environment&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(Rmpi)

## load the packages we&amp;#39;ll need
RLIBS=&lt;span class=&quot;st&quot;&gt;&amp;quot;~/R/x86_64-redhat-linux-gnu-library/2.13&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(RLIBS, &lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;()))

### Direct RMPI way:
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;)
slavefn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() { &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello from&amp;quot;&lt;/span&gt;, foldNumber)) }
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.cmd&lt;/span&gt;(foldNumber &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.comm.rank&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(slavefn)
result &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;slavefn&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(result)
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()


&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snow)
## snow method
cluster &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;makeCluster&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;MPI&amp;quot;&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parSapply&lt;/span&gt;(cluster, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;stopCluster&lt;/span&gt;(cluster)

## SNOWFALL method
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snowfall)
&lt;span class=&quot;co&quot;&gt;# default&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;( &lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpus=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;sfStop&lt;/span&gt;()

&lt;span class=&quot;co&quot;&gt;# snowfall MPI&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;( &lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpus=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;MPI&amp;quot;&lt;/span&gt; )
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;sfStop&lt;/span&gt;()

&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;exploring mpi in C on carver. Working example on carver. Will see about pure-C implementations of wrightscape. Pure c on warning signals will wait on better handling of the integration, see earlier &lt;a href=&quot;http://www.carlboettiger.info/archives/1169&quot;&gt;optimization&lt;/a&gt; on this.&lt;/p&gt;
&lt;p&gt;on farm, need to load compiler first:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;module&lt;/span&gt; load gcc openmpi&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>rropensci and some taxonomy in R with taxize</title>
	 <link href="/2011/08/26/rfishbase-and-some-taxonomy-in-r-with-taxize.html"/>
   <updated>2011-08-26T23:16:22+00:00</updated>
   <id>/08/26/rfishbase-and-some-taxonomy-in-r-with-taxize</id>
   <content type="html">&lt;h2 id=&quot;rfishbase&quot;&gt;rfishbase&lt;/h2&gt;
&lt;p&gt;Went through demo of rfishbase with Tomomi.  Improved error handling, added a few data types and a few use cases.&lt;/p&gt;
&lt;p&gt;I always forget that I have to drop nulls by indexing, not my return values of sapply.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

x[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x, is.null)]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Very annoyed with fishbase id numbers (being discontinuous listings and unable to query xml by anything more intelligent). Querying all fishbase ids 1:30000, I get only 999 fish. hmm. Could this be an R memory issue? No sign of such errors. I also illustrate custom functions for processing output.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;UPDATE: &lt;/em&gt;&lt;/strong&gt;fixed these errors generally. Seemed specific to zero.  Did run with some memory errors; hopefully avoided. See updated post 09-01-11.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)
&lt;span class=&quot;co&quot;&gt;# Now let&amp;#39;s just grab the entire fishbase database,&lt;/span&gt;
fish.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getData&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;30000&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(fish.data)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;999&lt;/span&gt;

habitatSearch &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(keyword, fish.data){
&lt;span class=&quot;co&quot;&gt;# A function to search for the occurances of a keyword in habitat description&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Args:&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   keyword: pattern to be used by grep&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   fish.data: list of outputs from fishbase(), or from getData()&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Example:&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   data &amp;lt;- getData(1:10)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   habitatSearch(&amp;quot;feshwater&amp;quot;, data)&lt;/span&gt;
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(keyword, x$habitat) )
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.integer&lt;/span&gt;(x)
}

x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data)
reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;na.rm=&lt;/span&gt;T)
nonreef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(x))
percent_reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;reef/(reef+nonreef)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I’d like to be able to query fishbase by something other than fishbase’s own id numbers, but might have to make that database myself, since they don’t seem to be listed anywhere.&lt;/p&gt;
&lt;h3 id=&quot;taxize&quot;&gt;Taxize&lt;/h3&gt;
&lt;p&gt;Meanwhile, I’m looking into how we can query between common names and scientific names at different levels using the ROpenSci package taxize from Scott. I’ve just made a few modifications to handle some xml parsing with xpath expressions and formatting.  Tweaked some functions in taxize.R script-set for grabbing scientific names.  For instance, if I want all Plethodon salamanders in the &lt;a href=&quot;http://itis.gov&quot;&gt;Integrated Taxanomic Information System&lt;/a&gt; database&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(taxize)
xml &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_itis_xml&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Plethodon &amp;quot;&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parse_itis&lt;/span&gt;(xml)
&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(out)
                       sci    tsn                                com
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;         Plethodon aeneus &lt;span class=&quot;dv&quot;&gt;208328&lt;/span&gt;                               &amp;lt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;&amp;gt;
&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;     Plethodon ainsworthi &lt;span class=&quot;dv&quot;&gt;668315&lt;/span&gt;               Catahoula Salamander
&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;       Plethodon albagula &lt;span class=&quot;dv&quot;&gt;208278&lt;/span&gt;           Western Slimy Salamander
&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;         Plethodon amplus &lt;span class=&quot;dv&quot;&gt;668316&lt;/span&gt; Blue Ridge Gray-cheeked Salamander
&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt; Plethodon angusticlavius &lt;span class=&quot;dv&quot;&gt;668317&lt;/span&gt;                   Ozark Salamander
&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;         Plethodon asupak &lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;               Scott Bar Salamander&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note I get common names, scientific names, and tsn id numbers. Using a tsn id number I can query the whole taxonomy, by querying by the given tsn ids:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;classification&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;)
       rank            taxon tsn..length.tsn..
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;   Kingdom         Animalia            &lt;span class=&quot;dv&quot;&gt;202423&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;    Phylum         Chordata            &lt;span class=&quot;dv&quot;&gt;158852&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt; Subphylum       Vertebrata            &lt;span class=&quot;dv&quot;&gt;331030&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;     Class         Amphibia            &lt;span class=&quot;dv&quot;&gt;173420&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;     Order          Caudata            &lt;span class=&quot;dv&quot;&gt;173584&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;    Family   Plethodontidae            &lt;span class=&quot;dv&quot;&gt;173631&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;7&lt;/span&gt; Subfamily   Plethodontinae            &lt;span class=&quot;dv&quot;&gt;550197&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;     Genus        Plethodon            &lt;span class=&quot;dv&quot;&gt;173648&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;9&lt;/span&gt;   Species Plethodon asupak            &lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pretty cool.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>FishBASE from R: some XML parsing</title>
	 <link href="/2011/08/26/fishbase-from-r-some-xml-parsing.html"/>
   <updated>2011-08-26T10:51:29+00:00</updated>
   <id>/08/26/fishbase-from-r-some-xml-parsing</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://fishlab.ucdavis.edu/?p=395&quot;&gt;cross-posted&lt;/a&gt; from Wainwright Lab blog, archiving in the notebook here. This early tutorial includes some background on XML parsing from R using XPath. See the later rfishbase &lt;a href=&quot;http://www.carlboettiger.info/archives/2529&quot;&gt;tutorial&lt;/a&gt; for more functionality.&lt;/p&gt;
&lt;p&gt;In lab known for its quality data collection, high-speed video style, writing the weekly blog post can be a bit of a challenge for the local code monkey. That’s right, no videos today. But lucky for me, even this group can still make good use of publicly available data. Like the other day, when one of our newer graduate students wanted to do a certain degree of data-mining from information available from &lt;a href=&quot;http://fishbase.org&quot;&gt;FishBASE&lt;/a&gt;. Now I’m sure there are plenty of reasons to grumble about it, but there’s quite an impressive bit of information available on FishBASE, most of it decently referenced if by no means comprehensive. And getting that kind of information quickly and easily is rapidly becoming a skill every researcher needs. So here’s a quick tutorial of the tools to do this.&lt;/p&gt;
&lt;p&gt;Okay, so what are we talking about? Let’s start with an example fishbase page on Nile tilapia:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6076/6074984408_1692760c9c.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Okay, so there’s a bunch of information we could start copying down, then go onto the next fish. Sounds pretty tedious for 30,000 species… Now we can get an html copy of this page, but that’s got all this messy formatting we’ll have to dispense with. Luckily, we scroll down a little farther and we see the magic words:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Download XML&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The summary page takes us to just what we were looking for:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6086/6074984352_6f1f9075d5.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;To the human eye this might not look very useful, but to a computer, it’s just what we wanted. ((Well, not acutally. A RESTful interface to this data would be better, where we could query by the different categories, finding all fish of a certain family or diet, but we’ll manage just fine from here, just might be a bit slower)) It’s XML - eXtensible Mark-up Language: meaning it’s all the stuff on the previous page, marked up with all these helpful tags so that a computer can make sense of the document. ((Actually, not everything on the html page. Between the broken links, there’s tons of information like the life history tool, diet data references, etc that somehow haven’t made it into the XML summary sheet.))&lt;/p&gt;
&lt;p&gt;To process this, we’ll fire up our &lt;a href=&quot;http://www.r-project.org&quot;&gt;favorite language&lt;/a&gt; and start scripting. To access the internet from R we’ll use a the command-line url browser, curl, available in the RCurl package. We’ll process XML with the XML package, so let’s load that too. Install these from CRAN if you don’t have them:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(XML)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RCurl)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Click on that XML link to the summary page, and note how the url is assembled: http://fishbase.sinica.edu.tw/maintenance/FB/showXML.php?identifier=FB-2&amp;amp;ProviderDbase;=03&lt;/p&gt;
&lt;p&gt;The thing to note here is what followers the php?. There’s something called an identifier, which is set equal to the value FB-2. 2 is the id number of Nile tilapia. Change that to 3 (leave the rest the same) and you get African perch.&lt;/p&gt;
&lt;p&gt;We can grab the content of this page in R and parse the XML using these two packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
fish.id &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
 url &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://fishbase.sinica.edu.tw/&amp;quot;&lt;/span&gt;,
               &lt;span class=&quot;st&quot;&gt;&amp;quot;maintenance/FB/showXML.php?identifier=FB-&amp;quot;&lt;/span&gt;,
              fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;amp;ProviderDbase=03&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURLContent&lt;/span&gt;(url, &lt;span class=&quot;dt&quot;&gt;followlocation=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
  doc &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlParse&lt;/span&gt;(tt)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We create the url with a given fish id. Then the getURLContent line is the equivalent of pointing your browser to that url. Because the page is XML, we then read or parse the page with xmlParse, creating an R object representation of all that XML. We are ready to rock and roll.&lt;/p&gt;
&lt;p&gt;If you look closely at the XML, you’ll see all these placed around the information we want, like the scientific names, identifying what they are. For instance, we see the lines that look like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dwc:Family&amp;gt;&lt;/span&gt;Cichlidae&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dwc:Family&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dwc:Genus&amp;gt;&lt;/span&gt;Oreochromis&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dwc:Genus&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Clearly these are telling us the family and the Genus for this creature. The computer just has to look for the tag (this whole entry is called a node) and that’s the family. The dwc stands for Darwin Core, which is a big language or ontology created explicitly for taxonomic applications. It tells the computer that “Family” in Darwin-Core speak, is precisely the taxonomic meaning of the word. The computer can go and look up the dwc “namespace” given at the beginning of this document to learn exactly what that word means.&lt;/p&gt;
&lt;p&gt;To grab this text using R, we simply ask for the value of the node named dwc:Family:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  Family &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;st&quot;&gt;&amp;quot;//dwc:Family&amp;quot;&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]) 
  Family&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There’s two commands combined in that line. getNodeSet() is the first, getting any nodes that have the name dwc:Family anywhere (the // means anywhere) in the document. The [[1]] indicates that we want the first node it finds (since there’s only one of these in the entire document). Specifying which node we want makes use of the&lt;a href=&quot;http://www.w3schools.com/xpath/default.asp&quot;&gt;xpath syntax&lt;/a&gt;, a powerful way of navigating XML which we’ll use more later.&lt;/p&gt;
&lt;p&gt;The xmlValue command just extracts the contents of that node, now that we’ve found it. If we ask R for the value it got for Family, it says Cichlidae, just as expected.&lt;/p&gt;
&lt;p&gt;That was easy. We can do the same for Genus, Scientific Name, etc. As we go down the XML document, we see some of the information we want isn’t given a uniquely labeled node.&lt;br /&gt;For instance, the information for size, habitat, and distribution are all under nodes called . Closer look shows these nodes are under “parent” nodes, all called . If we look at the other “child” nodes of these nodes, we see they also have a node called , like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dataObject&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:identifier&amp;gt;&lt;/span&gt;FB-Size-2&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:identifier&amp;gt;&lt;/span&gt;
  ... other stuff ....
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:description&amp;gt;&lt;/span&gt; Text We need &lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:description&amp;gt;&lt;/span&gt;
  ... other stuff ....
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dataObject&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That identifier node tells us that this dataObject has size information. We can grab the content of that dc:description by first finding the identifier that says FB-Size-2, going up to it’s parent dataObject, and asking that dataObject for it’s child node called description. Like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  size_node &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;//dc:identifier[string(.) =&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;FB-Size-&amp;quot;&lt;/span&gt;, fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;#39;]/..&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;))
size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;( size_node[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;st&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;]] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, so that looks crazy complicated – guess we got in a bit deep. See that link to xpath above? That’s a wee tutorial that will explain most of what’s going on here. It’s pretty simple if you take it slow. Using these kind of tricks, we can extract just the information we need from the XML.&lt;/p&gt;
&lt;p&gt;Meanwhile, if you want the fast-track option, I’ve put this together in a little R package called &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;rfishbase&lt;/a&gt;. The package has a function called fishbase() which extracts various bits of information using these calls. Once you get the hang of it you can modify it pretty easily. I do a little extra processing to get numbers from text using &lt;a href=&quot;http://en.wikipedia.org/wiki/Regular_expression&quot;&gt;Regular Expressions&lt;/a&gt;, a sorta desperate but powerful option when everything isn’t nicely labeled XML.&lt;/p&gt;
&lt;p&gt;Using this function we query a fish id number and get back the data in a nice R list, which we can happily manipulate. Here’s a quick demo:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)

## a general function to loop over all fish ids to get data
getData &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fish.ids){
  &lt;span class=&quot;kw&quot;&gt;suppressWarnings&lt;/span&gt;(
    &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(fish.ids, function(i) &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;fishbase&lt;/span&gt;(i)))
  )
}

&lt;span class=&quot;co&quot;&gt;# A function to extract the ages, handling missing values&lt;/span&gt;
get.ages &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fish.data){
              &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(out){
                 if(!(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(out,&lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)))
                   x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;out$size_values[[&lt;span class=&quot;st&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;]]
                 else
                   x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                 x
               })
  
}

&lt;span class=&quot;co&quot;&gt;# Process all the XML first, then extract the ages &lt;/span&gt;
fish.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getData&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;)
yr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get.ages&lt;/span&gt;(fish.data)

&lt;span class=&quot;co&quot;&gt;# Plot data&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(yr, &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Age Distribution&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;age (years)&amp;quot;&lt;/span&gt;); &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note we take a bit of care to avoid the missing values using try() function. Here’s the results:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm7.static.flickr.com/6090/6074128436_9d3137acd7.jpg&quot;&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6090/6074128436_9d3137acd7.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kinda cool, isn’t it?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>DataCite Day 2</title>
	 <link href="/2011/08/25/datacite-day-2.html"/>
   <updated>2011-08-25T08:14:58+00:00</updated>
   <id>/08/25/datacite-day-2</id>
   <content type="html">&lt;h4 id=&quot;am-1030amsession-4-data-and-the-scholarly-output&quot;&gt;9:00am-10:30am Session 4: Data and the Scholarly Output&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MacKenzie Smith, Research Director, MIT Libraries. Orcid: the Open Researcher and Contributor ID Registry. (&lt;a href=&quot;http://t.co/BoYZIGA&quot;&gt;slides&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Greg Janee, Digital Library Research Specialist, Earth Research Institute, University of California, Santa Barbara. Earth Science Data:Second-Class Citizen in the Scholarly Record.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;see great example of the &lt;a href=&quot;http://www.cru.uea.ac.uk/cru/projects/acrid/&quot;&gt;ACRID database&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dr. Micah Altman, Archival Director, Henry A. Murray Research Archive, Senior Research Scientist, Harvard University. Principle for Data Citation. (&lt;a href=&quot;http://t.co/7frbYf7&quot;&gt;Prezi Slides&lt;/a&gt;) (includes summary from Harvard’s &lt;a href=&quot;http://projects.iq.harvard.edu/datacitation_workshop/&quot;&gt;Citation Principles workshop&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;am-1230pmsession-5-the-role-of-data-archives-and-data-centers-in-identifying-and-preserving-data&quot;&gt;11:00am-12:30pm Session 5: The Role of Data Archives and Data Centers in Identifying and Preserving Data&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Sarah Callaghan, Senior Research Scientist and Project Manager, British Atmospheric Data Centre at STFC. Citation and Publication by NERC’s Environmental Data Centres.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bob Cook, Chief Scientist, Oak Ridge National Laboratory Distributed Active Archive Center, Environmental Sciences Division, Oak Ridge National Lab. Archiving Earth Science Data: Experiences of the ORNL Distributed Active Archive Center.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mr. Uwe Schindler, PANGAEA, Data Publisher for Earth and Environmental Science, University of Bremen. PANGAEA - Data Publisher in the context of the ICSU World Data System.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;pm---300pmsession-6-publishers-and-research-data---roundtable-discussion&quot;&gt;1:30pm - 3:00pm Session 6: Publishers and Research Data - Roundtable Discussion&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Dr. Hylke Koers, Content Innovation Manager, Innovation &amp;amp; Product Development, S&amp;amp;T Journals, Elsevier. Integrating Data and the online Article on SciVerse ScienceDirect.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chuck Koscher, Director of Technology, CrossRef. Linking with Meaning: Relating Content.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jennifer Lin, Product Manager, PLoS. Perspectives on Open Access and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Open Data.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;3:00pm - 3:30pm Break&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;3:30pm -4:00pm Session 7: DataCite: Looking Ahead&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Adam Farquhar, Head of Digital Scholarship, Scholarship and Collections, The British Library&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian Peters, Software Developer, German National Library of Science and Technology. Technical Highlights and the Road Ahead.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;reflections&quot;&gt;Reflections&lt;/h2&gt;
&lt;p&gt;Conferences are really about people.  Nice to the see familiar faces: Heather Piowowar, Jason Priem, Karthik Ram, Carly Strasser, William Gunn.  Nice to finally meet Dario Taraborelli (ReaderMeter).  Good to see Trisha Cruse, John Kunze, and Stephen Abrams for CDL, and meet some of the others from CDL.   Good to meet Sylvia Spengler NSF’s program director for information integration and Informatics.  Ben Rubin from Elseviers developer portal, and talk to Eric Kansa on use of Merritt in social sciences in Berkeley, (and the Edinborough georeferencing text software).  And of course the tweeps who I didn’t get to catch in person but enjoyed the online interactions none the less: Todd Carpenter, Sarah Callaghan.&lt;/p&gt;
&lt;p&gt;Highlight discussions from some of the breaks:  (1) Where’s the snoody journal of data, where it’s really hard to get data accepted due to broad impact and high standards required?  (2) Do we need a research on effective research?  How do we generate such a community?&lt;/p&gt;
&lt;p&gt;Also see:  &lt;a href=&quot;https://docs.google.com/document/d/1xDOy9GXXrUFc9TUIR2C470DTau8JEgZ9k-SMNIx5pb8/edit?hl=en_US&amp;amp;authkey=CMeCqOYD&quot;&gt;Decoupling the Scholarly Journal&lt;/a&gt;, from Jason Priem.&lt;/p&gt;
&lt;p&gt;Should also look into granular identifiers for my notebook objects, so I can capture version history in the image log as well as code log.&lt;/p&gt;
&lt;h3 id=&quot;reflections-notes-from-others&quot;&gt;Reflections &amp;amp; notes from others&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://inundata.org/2011/08/25/datacite-2011-recap/&quot;&gt;Reflections from Karthik&lt;/a&gt;on DataCite 2011.&lt;/p&gt;
&lt;p&gt;Twitter log to much to archive here, but William Gunn has put together a nice collection of the links/references shared during over the feed on &lt;a href=&quot;http://storify.com/mrgunn/links-to-datacite-presentations-and-sites-mentione?awesm=sfy.co_FgI&amp;amp;utm_campaign=mrgunn&amp;amp;utm_medium=sfy.co-twitter&amp;amp;utm_source=direct-sfy.co&amp;amp;utm_content=storify-pingback&quot;&gt;storify&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;DataCite will probably make an official compilation of slides, etc, so more references soon. Also feel free to note others in the comments.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>DataCite Day 1</title>
	 <link href="/2011/08/24/datacite-day-1.html"/>
   <updated>2011-08-24T08:10:51+00:00</updated>
   <id>/08/24/datacite-day-1</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;12:00pm-1:00pm Lunch&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1:15pm-2:00pm Keynote Address: John Wilbanks, Vice President for Science, Creative Commons. Citation in the Commons. (&lt;a href=&quot;http://www.slideshare.net/wilbanks/datacite-wilbanks&quot;&gt;Slides&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Find -&amp;gt; access -&amp;gt; understand -&amp;gt; be influenced -&amp;gt; cite.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Lesson of the Library of Babel, Early Web (Greenspun, 1995) Simple and weak is best – scalable.  (&lt;a href=&quot;http://t.co/uKj52Ql&quot;&gt;Rule of least power&lt;/a&gt;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2:00pm-3:30pm Session 1: Exposing Dataset DOIs and Citations&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Heather Piwowar, DataONE Postdoctoral Researcher, NESCent and Dryad. Tracking Data Reuse: Motivations, Methods, and Obstacles. &lt;a href=&quot;http://www.slideshare.net/hpiwowar/data-citation-from-the-perspective-of-tracking-data-reuse&quot;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Highlights 3 challenges: (1) Lack the tools – can’t search by DOI.  (2) Can’t Scale.  (3) Can’t get credit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Total Impact Citations tool: &lt;a href=&quot;http://total-impact.org/report.php?id=jjwTQt&quot;&gt;http://total-impact.org&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Heather’s research notebook: &lt;a href=&quot;https://notebooks.dataone.org/piwowar/&quot; class=&quot;uri&quot;&gt;https://notebooks.dataone.org/piwowar/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hailey Mooney, Data Services and Reference Librarian, Michigan State University Libraries. Building Data Citations for Discovery.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Elizabeth Moss, Librarian, &lt;a href=&quot;http://www.icpsr.umich.edu/icpsrweb/ICPSR/&quot;&gt;ICPSR&lt;/a&gt;, University of Michigan. Cite the Data! ICPSR’s Efforts to Improve Practice.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4:00pm-5:30pm Session 2: Beyond Citing Data: Trends and Practices&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;John Kunze, Associate Director, University of California Curation Center, California Digital Library. Baby Steps Towards Data Publication.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jason Priem, Graduate Student, School of Information and Library Science, University of North Carolina. Toward a Second Revolution: Data Citation, Altmetrics, and the Decoupled Journal.  &lt;a href=&quot;https://docs.google.com/present/view?id=0ASyDkfrsAcUjZGRmZzc4N2NfMjgwZjU3aDVuZ3E&amp;amp;hl=en_US&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Joel Hammond, Director, Product Management &amp;amp; Development IP &amp;amp; Science Thomson Reuters. Exposing Dataset DOIs and Citations.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;5:30pm-6:15pm Session 3: Pecha Kucha - Rapid Fire Talks From DataCite Partners&lt;/p&gt;
&lt;p&gt;6:30pm-9:00pm Reception&lt;/p&gt;
&lt;h3 id=&quot;select-from-my-twitter-log&quot;&gt;Select from my twitter-log&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; on the @&lt;a href=&quot;http://twitter.com/GigaScience&quot;&gt;GigaScience&lt;/a&gt; tweetnome &lt;a href=&quot;http://t.co/YMfZiW3&quot; class=&quot;uri&quot;&gt;http://t.co/YMfZiW3&lt;/a&gt; rapid publication of e.coli outbreak genome #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; @&lt;a href=&quot;http://twitter.com/chrismentzel&quot;&gt;chrismentzel&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; can penetrate the science community when it makes a difference in the scale/quality of the science we do(?)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; “What would scholarly comm look like if it were built from scratch today?” Priem’s ans: Doesn’t matter, can’t do that #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/TAC_NISO&quot;&gt;TAC_NISO&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; Journals are the best we can do with 17th century technology. We can do better&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt;: Slides up #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;, “Toward a second revolution: Data citation, altmetrics, and the decoupled journal” &lt;a href=&quot;http://t.co/p16Y735&quot; class=&quot;uri&quot;&gt;http://t.co/p16Y735&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; summarizes citation practices &lt;person&gt; &lt;uses&gt; &lt;resource&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; asks what about diff types of use? person? resource?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sylvia from NSF speaks on citation of data in biosketches, etc. Suggests NSF needs instructions to PIs for reference proposals #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt;: #&lt;a href=&quot;http://search.twitter.com/search?q=%23Mendeley&quot;&gt;Mendeley&lt;/a&gt; is working on adding dataset as a type as well #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Evidence that younger researchers are more protective of their data than established ones. Published in &lt;a href=&quot;http://t.co/FMr6Df7&quot; class=&quot;uri&quot;&gt;http://t.co/FMr6Df7&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt;&lt;/strong&gt; &lt;a href=&quot;http://t.co/jbblmj7&quot; class=&quot;uri&quot;&gt;http://t.co/jbblmj7&lt;/a&gt; , a tool from @&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; and @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; being shown at #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; See @&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; notebook on tracking 1000 data sets &lt;a href=&quot;http://t.co/CRrceXI&quot; class=&quot;uri&quot;&gt;http://t.co/CRrceXI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; shows evidence that data deposition is a good investment in Nature piece:&lt;a href=&quot;http://t.co/jlpkXoW&quot; class=&quot;uri&quot;&gt;http://t.co/jlpkXoW&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; Academia is not providing a data firehose, so everyone is mining facebook &amp;amp; twitter instead #&lt;a href=&quot;http://search.twitter.com/search?q=%23makeAPIsnotWebsites&quot;&gt;makeAPIsnotWebsites&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; discusses creating a data-journal, Open Network Biology. &lt;a href=&quot;http://t.co/codi2Lv&quot; class=&quot;uri&quot;&gt;http://t.co/codi2Lv&lt;/a&gt; and challenges of reviewing such articles #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; calls for data solutions that follow the Rule of Least Power: &lt;a href=&quot;http://t.co/uKj52Ql&quot; class=&quot;uri&quot;&gt;http://t.co/uKj52Ql&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Need evolving system - @&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; cites this early attack on HTML and the resulting beautiful fix in css:&lt;a href=&quot;http://t.co/h96f17Y&quot; class=&quot;uri&quot;&gt;http://t.co/h96f17Y&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Greenspun P (1995). “we Have Chosen Shame And Will Get War.” &lt;em&gt;Journal of Electronic Publishing&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.3998/3336451.0001.137&quot;&gt;http://dx.doi.org/10.3998/3336451.0001.137&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: rropensci, Rmpi, manuscripts, ...</title>
	 <link href="/2011/08/23/tuesday-rfishbase-rmpi-manuscripts.html"/>
   <updated>2011-08-23T15:10:24+00:00</updated>
   <id>/08/23/tuesday-rfishbase-rmpi-manuscripts</id>
   <content type="html">&lt;h2 id=&quot;rfishbase&quot;&gt;rfishbase&lt;/h2&gt;
&lt;p&gt;In answer to Tomomi’s question from last week, have basic functionality as an R package on github, &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;rfishbase&lt;/a&gt;. Learned some slightly richer XML parsing in the process.&lt;/p&gt;
&lt;h3 id=&quot;xml-notes&quot;&gt;XML Notes&lt;/h3&gt;
&lt;p&gt;Had to identify blocks by a child node that specifies the identity, and then find the sibling node that contains the content I needed. Goes something like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dataObject&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:identifier&amp;gt;&lt;/span&gt;FB-Size-2&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:identifier&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:description&amp;gt;&lt;/span&gt; Text I need &lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:description&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dataObject&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which I parsed in R as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 size_node &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;//dc:identifier[string(.) =&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                          &amp;#39;FB-Size-&amp;quot;&lt;/span&gt;, fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;#39;]/..&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), namespaces)
  size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;( size_node[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;st&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;]] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that because we specify the exact node, we get only one return item and we can call size_node[[1]]. Note that fish.id is part of the identifier, and the use of the string(.)= to get the content of the identifier. We use xmlValue to get the description element out, though other ways are possible (such as sapply xmlToList). See code for details.&lt;/p&gt;
&lt;h3 id=&quot;regexp-notes&quot;&gt;RegExp Notes&lt;/h3&gt;
&lt;p&gt;Also did some regular expressions parsing for size information, which isn’t intelligently coded in the XML. Found the &lt;a href=&quot;http://regexlib.com/&quot;&gt;regexplib website&lt;/a&gt; particularly useful for looking up expressions, for instance, for handling numbers with commas and different units. This &lt;a href=&quot;http://www.addedbytes.com/download/regular-expressions-cheat-sheet-v2/png/&quot;&gt;cheat-sheet&lt;/a&gt; also helps.&lt;/p&gt;
&lt;p&gt;In particular, getting weight units was a bit tricky:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;.+published weight: ( (&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d|,)*&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;.?&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d*) (g|kg).+&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;quot;&lt;/span&gt;, size)
  weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, weight)) &lt;span class=&quot;co&quot;&gt;# remove commas&lt;/span&gt;
  if(units==&lt;span class=&quot;st&quot;&gt;&amp;quot;kg&amp;quot;&lt;/span&gt;)
    weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weight*&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;implementation-and-examples&quot;&gt;Implementation and Examples&lt;/h3&gt;
&lt;p&gt;Error handling is quite necessary as there’s lots of missing data. Compute times are a bit slow, but able to create a few smart examples.&lt;/p&gt;
&lt;p&gt;Age distribution for ids 2-500, minus those missing. Image will link to code.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6090/6074128436_82b96c5104_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;rmpi&quot;&gt;Rmpi&lt;/h2&gt;
&lt;p&gt;A couple difficulties in my earlier shell scripts on carver/hopper. Re-testing these now. SUCCESS. Test script simple.sh is working on Carver.&lt;/p&gt;
&lt;p&gt;simple.sh:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -l walltime=00:10:00&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -q debug&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -l nodes=2:ppn=8&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -N simple&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -j oe&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;$PBS_O_WORKDIR&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;module&lt;/span&gt; load R/2.12.1
&lt;span class=&quot;kw&quot;&gt;R&lt;/span&gt; -f simple.R&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Test R file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Rmpi&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;)
slavefn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() { &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello from&amp;quot;&lt;/span&gt;, foldNumber)) }
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.cmd&lt;/span&gt;(foldNumber &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.comm.rank&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(slavefn)
result &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;slavefn&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(result)
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Academic Year 2011 Summary</title>
	 <link href="/2011/08/21/academic-year-2011-summary.html"/>
   <updated>2011-08-21T23:46:13+00:00</updated>
   <id>/08/21/academic-year-2011-summary</id>
   <content type="html">&lt;p&gt;Brief summary of events for this past academic year, as submitted to my dissertation committee.&lt;/p&gt;
&lt;h2 id=&quot;talks&quot;&gt;TALKS&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Model Choice for Phylogenetic Comparative Methods, Evolution 2010&lt;/li&gt;
&lt;li&gt;Computational Methods for comparative inference (poster), DoE CSGF Meeting, 2010.&lt;/li&gt;
&lt;li&gt;My experiment with open notebook science, iEvoBio 2010&lt;/li&gt;
&lt;li&gt;Power in Phylogenetic Comparative Methods, SICB 2011&lt;/li&gt;
&lt;li&gt;Open Notebook Science - Connections to databases. Science Online, 2011&lt;/li&gt;
&lt;li&gt;General model of evolution for continuous traits on phylogenies, Evolution 2011&lt;/li&gt;
&lt;li&gt;Automated meta-analyses via an R - TreeBASE package, iEvoBio 2011&lt;/li&gt;
&lt;li&gt;Early Warning Signals, ESA 2011.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;papers&quot;&gt;PAPERS:&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Power in Phylogenetic Comparative Methods: &lt;em&gt;Submitted&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Early Warning Signals: &lt;em&gt;Submitted&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Preparing general phylogenetic model for continuous traits&lt;/li&gt;
&lt;li&gt;Preparing TreeBASE R package – as an applications note.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;service&quot;&gt;SERVICE&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Assisted organizing the CPB workshop on Hierarchical Modeling.&lt;/li&gt;
&lt;li&gt;Orientation talk for first year CPB students on computer tools to for organizing research (Bib. management, electronic notebooks, professional website, networking tools)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Organized a CPB workshop&lt;/a&gt; on Data Management.&lt;/li&gt;
&lt;li&gt;Co-chaired the &lt;a href=&quot;http://gtc-blog.blogspot.com/&quot;&gt;Graduate Teaching Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Co-chair the &lt;a href=&quot;http://daviswiki.org/Davis_Open_Science&quot;&gt;student group on Open Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Instructor in the &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Boettiger%29_2011&quot;&gt;UC Davis Bodega Phylogenetics Workshop&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Student member on the steering committee for the CPB program review.&lt;/li&gt;
&lt;li&gt;Student panel member interviewing candidates for the CBS Dean search.&lt;/li&gt;
&lt;li&gt;Taught two sessions for the CPB Core on computational methods for phylogenetic interference&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: reviewing edits, ropensci, computers.</title>
	 <link href="/2011/08/18/thursday-reviewing-edits-fishbase-computers.html"/>
   <updated>2011-08-18T15:03:16+00:00</updated>
   <id>/08/18/thursday-reviewing-edits-fishbase-computers</id>
   <content type="html">&lt;h2 id=&quot;graham-peter-meeting&quot;&gt;Graham &amp;amp; Peter meeting&lt;/h2&gt;
&lt;p&gt;Going over review and figuring out how to address issues.  Plan: Will write our line-by-line responses under the reviewer comments in the Google Doc.  Peter and I will implement remaining changes on the .tex file, then we’ll compose the reply letter from the notes under the comments and include the latex-diff.&lt;/p&gt;
&lt;p&gt;Brief topic notes from today’s meeting:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;set up different take on layout: lambda, AIC, power&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parameter estimates on over-parameterized&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;opten implicit nulls&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;eb bootstrapping is power analysis&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rules of thumb only so good, simulate easy.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;delta = aic + k&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;intro on aic use for finding “good enough models” not inferring process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;we do stepwise B&amp;amp;K approach (as our recommended approach)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fishbase-interface&quot;&gt;FishBASE interface&lt;/h2&gt;
&lt;p&gt;Tomomi had an interesting query re FishBASE today - she’d like to be able to sweep through the database and extract certain information such as genus, maximum published weight, etc.  While there doesn’t seem to be a documented API per se. the&lt;a href=&quot;http://fishbase.us/Summary/SpeciesSummary.php?ID=2&quot;&gt;individual reference pages&lt;/a&gt; include a link to an &lt;a href=&quot;http://fishbase.sinica.edu.tw/maintenance/FB/showXML.php?identifier=FB-2&amp;amp;ProviderDbase=03&quot;&gt;XML summary sheet&lt;/a&gt;, where at least some of this information is intelligently tagged.  So we can easily set up some R functions with the help of XML and xpath to start grabbing the relevant information.&lt;/p&gt;
&lt;h2 id=&quot;mpi-computing&quot;&gt;MPI Computing&lt;/h2&gt;
&lt;p&gt;Looks like a hardware failure may have been responsible for my crashed MPI job on farm cluster.  Waiting to hear more from admin.  Likewise waiting on NERSC help on the batch R process on compute nodes.  step by step….&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: migrating codes into MPI</title>
	 <link href="/2011/08/17/wednesday-migrating-codes-into-mpi.html"/>
   <updated>2011-08-17T22:53:33+00:00</updated>
   <id>/08/17/wednesday-migrating-codes-into-mpi</id>
   <content type="html">&lt;h2 id=&quot;parellelizationscaling-of-code&quot;&gt;Parellelization/Scaling of code&lt;/h2&gt;
&lt;p&gt;MPI on farm cluster&lt;/p&gt;
&lt;p&gt;Got my MPI codes running.&lt;br /&gt;Much better way to get jobs into the queue, asking for 16 threads that don’t have to be on the same node is much faster. Can also ask for 161 threads, but will wait longer in the queue.&lt;/p&gt;
&lt;p&gt;The trick to getting this to run was mostly getting the library set correctly. Setting the library path at the top of the script did the trick:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
RLIBS=&lt;span class=&quot;st&quot;&gt;&amp;quot;~/R/x86_64-redhat-linux-gnu-library/2.13&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(RLIBS, &lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;()))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From there I can initialize an MPI instance, set up exit conditions, load variables and functions to the slave nodes and then have them all execute the desired function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

N &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# n-1 from the threads allocated(?) &lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(Rmpi)
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;N)

## Clean-up 
.Last &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(){
    if (&lt;span class=&quot;kw&quot;&gt;is.loaded&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;mpi_initialize&amp;quot;&lt;/span&gt;)){
        if (&lt;span class=&quot;kw&quot;&gt;mpi.comm.size&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
            &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Please use mpi.close.Rslaves() to close slaves.&amp;quot;&lt;/span&gt;)
            &lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
        }
        &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Please use mpi.quit() to quit R&amp;quot;&lt;/span&gt;)
        &lt;span class=&quot;kw&quot;&gt;.Call&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;mpi_finalize&amp;quot;&lt;/span&gt;)
    }
}

&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(monkey)
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(new_world)
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(chains)

mcmc_out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;chains&lt;/span&gt;())


&lt;span class=&quot;co&quot;&gt;# close slaves and exit&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Where “chains” is the function earlier defined that runs on each node.&lt;/p&gt;
&lt;p&gt;Hmm… seem to run into trouble scaling this out to 161 nodes. Meanwhile better to run MCMCs as separate jobs, write data to a tmp folder, and then read in with a different script for the analysis, a la Eastman’s approach.&lt;/p&gt;
&lt;h3 id=&quot;nersc-machine&quot;&gt;NERSC machine&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;setup for github: copy .ssh/rda and .ssh/rda.pub&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;installing R packages: load the R module and swap in the intel compilers first&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;module&lt;/span&gt; load R/2.12.1
&lt;span class=&quot;kw&quot;&gt;module&lt;/span&gt; swap pgi intel
&lt;span class=&quot;kw&quot;&gt;module&lt;/span&gt; swap openmpi openmpi-intel &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that format for the batch jobs differs substantially between architectures. Hopper is a Cray, and launches commands with &lt;a href=&quot;http://www.csc.fi/english/pages/louhi_guide/batch_jobs/commands/aprun&quot;&gt;aprun&lt;/a&gt;, see &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/hopper/getting-started/your-first-program/&quot;&gt;example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Carver is an IBM, and seems to use &lt;a href=&quot;http://www.mcs.anl.gov/research/projects/mpi/www/www1/mpirun.html&quot;&gt;mpirun&lt;/a&gt; instead, which appears to be a more general architecture command. See the &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/carver/getting-started/&quot;&gt;Carver example program&lt;/a&gt;.&lt;/p&gt;
&lt;h5 id=&quot;testing&quot;&gt;Testing:&lt;/h5&gt;
&lt;p&gt;Run brute_force example script on Carver and Hopper. Can’t launch R on compute nodes, perhaps a module loading issue. Will need to explore further. Otherwise might be better to move all code down into C and write the MPI there….&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Buy home server? &lt;a href=&quot;http://zareason.com/shop/Breeze-Server-4220.html&quot;&gt;ZaReason Breeze&lt;/a&gt;?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Conferences I’ve followed on twitter this summer: &lt;a href=&quot;http://rcs.columbia.edu/rdlm&quot;&gt;Research Data Lifecycle management&lt;/a&gt;, #rdlmw #useR11 #scifoo11 &lt;a href=&quot;http://www.mitacs.ca/events/index.php?option=com_content&amp;amp;view=article&amp;amp;id=214&amp;amp;Itemid=231&amp;amp;lang=en&quot;&gt;Reproducible Research&lt;/a&gt; (&lt;a href=&quot;http://www.stodden.net/AMP2011/&quot;&gt;talk archive&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wrightscape: a brief tutorial</title>
	 <link href="/2011/08/17/wrightscape-a-brief-tutorial.html"/>
   <updated>2011-08-17T14:15:59+00:00</updated>
   <id>/08/17/wrightscape-a-brief-tutorial</id>
   <content type="html">&lt;p&gt;While the &lt;a href=&quot;https://github.com/cboettig/wrightscape&quot;&gt;wrightscape package&lt;/a&gt; is still in active development, I realize the code base doesn’t contain any introductory examples.  So as a first tutorial, here’s a short walk-through of the package. We begin by loading the package and a few useful additional packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape&lt;span class=&quot;er&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# My package for this analysis&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(auteur) &lt;span class=&quot;co&quot;&gt;# for the data only&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(maticce) &lt;span class=&quot;co&quot;&gt;# to create paintings&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We’ll load a data set of 233 taxa of primates with their body sizes(REDDING &lt;em&gt;et. al.&lt;/em&gt; 2010), kindly provided by Eastman et al.(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011) in &lt;a href=&quot;http://www.carlboettiger.info/archives/2337&quot;&gt;the Auteur package&lt;/a&gt;. We format this data-set using a wrightscape function, which converts both the tree and the data into the ouch format from the ape/geiger format. (Eventually the conversion step will be automated)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(primates)
monkey &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;format_data&lt;/span&gt;(primates$phy, primates$dat)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We just have to create the “painting” indicating which regimes can be treated separately, as in ouch. We do this using several handy functions from the&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/04/18&quot;&gt;maticce package&lt;/a&gt;. Selecting the common ancestor two arbitrarily chosen species from different families of New World monkeys should do the trick to identify the New World clade, Platyrrhini.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

## Paint the tree with a transition at New World monkeys
new_world_ancestor &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mrcaOUCH&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Ateles_belzebuth&amp;quot;&lt;/span&gt;,
                                 &lt;span class=&quot;st&quot;&gt;&amp;quot;Leontopithecus_caissara&amp;quot;&lt;/span&gt;), 
                               monkey$tree)
new_world &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paintBranches&lt;/span&gt;(new_world_ancestor, monkey$tree,
                            &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;OldWorld&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;NewWorld&amp;quot;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6073/6053510239_a267fea02f_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;This clade showed a substantially lower rate of body-size evolution in Eastman et al’s RJMCMC analysis under a Brownian model(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011). Now we will test whether that is due to greater stabilizing selection or a greater diversification rate. With the painting and the data, we are ready to construct these wrightscape models.&lt;/p&gt;
&lt;p&gt;Wrighstcape &lt;a href=&quot;http://www.carlboettiger.info/archives/2027&quot;&gt;uses a general model formulation&lt;/a&gt;, of which many common models, such as used by ouch, brownie, and others are subclasses. We can construct these subclasses by fixing certain parameters using the model_spec parameter.&lt;/p&gt;
&lt;p&gt;This specifies which parameters out of alpha, theta, and sigma are independently estimated on each regime, kept global across regimes, or, in the case of alpha, fixed to zero (to give purely Brownian behavior). i.e. ouch model is equivalent to: list(alpha=“global”, sigma=“global”, theta=“indep”), while the brownie model is equivalent to list(alpha=“fixed”, sigma=“indep”, theta=“global”).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

#####  Estimate the models by maximum likelihood, as in OUCH #####
alphas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;monkey$data, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;monkey$tree,
                      &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;new_world,&lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; 
                      &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;))

sigmas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;monkey$data, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;monkey$tree, 
                      &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;new_world, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt; 
                      &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;control=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Starting parameter estimates are given or left to NULL. “method” refers to the optimization, using parameters given in control. We’ll use simulated annealing to get a robust result.&lt;/p&gt;
&lt;p&gt;The code above estimates a novel model, where only the strength of selection, $ $, has changed in across branches in the OU model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX = \alpha_i ( \theta - X) dt + \sigma dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;While the second example runs a Brownian motion model that differs across regimes:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX = \sigma_i dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once these have run, we can do a simple comparison by likelihood:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
alphas$loglik -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigmas$loglik&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To know if this is significant, we would do best to compare the models by PMC (my other package, with upcoming paper):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
alphas_v_sigmas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;montecarlotest&lt;/span&gt;(alphas, sigmas, &lt;span class=&quot;dt&quot;&gt;cpu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;nboot=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(alphas_v_sigmas)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could instead estimate the posterior distributions by MCMC:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
          &lt;span class=&quot;kw&quot;&gt;phylo_mcmc&lt;/span&gt;(monkey$data, monkey$tree, new_world, 
                     &lt;span class=&quot;dt&quot;&gt;MaxTime=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
                     &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;
                     &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;),
                     &lt;span class=&quot;dt&quot;&gt;stepsizes=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course we would do well to parallelize this call over some large number of nodes to get appropriate mixing.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;REDDING D, DeWOLFF C and MOOERS A (2010). “Evolutionary Distinctiveness, Threat Status, And Ecological Oddity in Primates.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eastman J, Alfaro M, Joyce P, Hipp A and Harmon L (2011). “A Novel Comparative Method For Identifying Shifts in The Rate of Character Evolution on Trees.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday:</title>
	 <link href="/2011/08/16/tuesday-7.html"/>
   <updated>2011-08-16T19:04:22+00:00</updated>
   <id>/08/16/tuesday-7</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished first round of edits and sent off to Graham and Peter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring wrightscape runs on additional data sets&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring migrating code into MPI&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: Evolution manuscript revisions; early burst models, etc</title>
	 <link href="/2011/08/16/monday-evolution-manuscript-revisions-early-burst-models-etc.html"/>
   <updated>2011-08-16T12:13:46+00:00</updated>
   <id>/08/16/monday-evolution-manuscript-revisions-early-burst-models-etc</id>
   <content type="html">&lt;h3 id=&quot;evolution-manuscript-edits&quot;&gt;Evolution Manuscript Edits&lt;/h3&gt;
&lt;p&gt;Received the reviews of our evolution manuscript back with relatively straight-forward edits. (Yay!)&lt;/p&gt;
&lt;p&gt;Need better citations of the early history in phylogenetic comparative methods, which is quite rich. Reviewer pointed me to an early book chapter by AW Edwards and LL Cavalli-Sforza introducing Brownian motion model in 1964, of which Joe Felsenstein has a nice description (of this and other work) in his 1988 review(Felsenstein, 1988).&lt;/p&gt;
&lt;p&gt;See private review notes for details.&lt;/p&gt;
&lt;h3 id=&quot;early-bursts&quot;&gt;Early bursts&lt;/h3&gt;
&lt;p&gt;Hadn’t added a wrapper to the early burst model of geiger in pmc. There’s a great paper by Harmon et al. (Harmon &lt;em&gt;et. al.&lt;/em&gt; 2010) last year looking at 49 different phylogenetic trees and comparing BM, OU, and EB on body size, 39 on body shape measurements, and also consider all subclades of n&amp;gt;10 species, finding surprisingly little evidence for EB model. I’d suspect many of these examples fall into the class “cannot tell” rather than definitively belonging to one or the other model. (See supplementary figure 1).&lt;/p&gt;
&lt;p&gt;The authors use AICc, and include a bootstrap analysis which suggests relatively robust model choice above 10 taxa. The reason for this is that the models being compared are not estimated from the data. The authors fix parameters for each of the three models, BM, OU, EB, and simulate 100 trait data sets (on each tree). On each, one tends to make the correct choice by AICc.&lt;/p&gt;
&lt;p&gt;In our approach, we &lt;em&gt;estimate&lt;/em&gt; BM/OU/EB model parameters from the data, and simulate all replicates under that. Imagine a rich data set that is clearly from EB by any criteria. The estimated BM model for this data-set has a worse log-likelihood. Yet simulations from that estimated model can be very difficult to tell apart from the simulations of the EB model &lt;em&gt;that has been estimated from the same data&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Consequently we find in our approach that we cannot tell between data simulated under the specified EB model and the other models:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6193/6049627283_cbf468cc4e_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6066/6050179134_de4b740944_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;aicc&quot;&gt;AICc&lt;/h3&gt;
&lt;p&gt;Also added AICc comparison along with AIC and BIC (calculated but the updated plot command). Of course as none of the criteria estimate any measure of uncertainty, it doesn’t do any better, just pushes the false positive and false negative errors around a bit:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6187/6046471361_9616dfdd4a_o.png&quot; /&gt;  &lt;img src=&quot;http://farm7.staticflickr.com/6183/6046471291_057f23129d_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;However, summary patterns are still going to be necessary, particularly for large meta-analyses such as the EB example. AUC of the ROC might be a promising thing to explore here.&lt;/p&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h3&gt;
&lt;p&gt;Luke Mahler is trying out my wrightscape code (prerelease version, from github). Some trouble apparently in compiling from source, probably in getting RTools and GSL libraries to cooperate, luckily winbuilder builds me a quick binary successfully, now available on &lt;a href=&quot;https://github.com/cboettig/pmc/downloads&quot;&gt;github downloads&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Doesn’t really have any good demos set up yet. Should add some use cases. Might be interesting to test the sets studied by Eastman &lt;em&gt;et al.&lt;/em&gt;(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011), Turtles (see Jaffe et al. 2011(Jaffe &lt;em&gt;et. al.&lt;/em&gt; 2011); 226 species) and female body mass for primates (see Redding et al. 2010(REDDING &lt;em&gt;et. al.&lt;/em&gt; 2010); complete sampling of 233 species).&lt;/p&gt;
&lt;h3 id=&quot;compute-jobs&quot;&gt;Compute Jobs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;early_burst_example.R added and submitted to farm.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rerunning power_analysis.R for comparison on zero.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;p&gt;Wordpress academic &lt;a href=&quot;https://docs.google.com/document/d/1YeOgB9yzuIAdir1Sy-TGMqSdQjZDClmVTMtY-Z125LM/edit?pli=1&quot;&gt;plugins list&lt;/a&gt; from Peter Krautzberger Adam Wilson’s &lt;a href=&quot;http://hydrodictyon.eeb.uconn.edu/people/wilson/pubs.html&quot;&gt;page&lt;/a&gt; at UConn&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Felsenstein J (1988). “Phylogenies And Quantitative Characters.” &lt;em&gt;Annual Review of Ecology And Systematics&lt;/em&gt;, &lt;strong&gt;19&lt;/strong&gt;. ISSN 0066-4162, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.es.19.110188.002305&quot;&gt;http://dx.doi.org/10.1146/annurev.es.19.110188.002305&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harmon L, Losos J, Jonathan Davies T, Gillespie R, Gittleman J, Bryan Jennings W, Kozak K, McPeek M, Moreno-Roark F, Near T, Purvis A, Ricklefs R, Schluter D, Schulte II J, Seehausen O, Sidlauskas B, Torres-Carvajal O, Weir J and Mooers A (2010). “Early Bursts of Body Size And Shape Evolution Are Rare in Comparative Data.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eastman J, Alfaro M, Joyce P, Hipp A and Harmon L (2011). “A Novel Comparative Method For Identifying Shifts in The Rate of Character Evolution on Trees.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jaffe A, Slater G and Alfaro M (2011). “The Evolution of Island Gigantism And Body Size Variation in Tortoises And Turtles.” &lt;em&gt;Biology Letters&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. ISSN 1744-9561, &lt;a href=&quot;http://dx.doi.org/10.1098/rsbl.2010.1084&quot;&gt;http://dx.doi.org/10.1098/rsbl.2010.1084&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;REDDING D, DeWOLFF C and MOOERS A (2010). “Evolutionary Distinctiveness, Threat Status, And Ecological Oddity in Primates.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA personal notes: people, goals</title>
	 <link href="/2011/08/13/esa-personal-notes-people-goals.html"/>
   <updated>2011-08-13T19:22:27+00:00</updated>
   <id>/08/13/esa-personal-notes-people-goals</id>
   <content type="html">&lt;h3 id=&quot;meetings&quot;&gt;Meetings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;John Drake&lt;/li&gt;
&lt;li&gt;Suzanne O’Regan (Post-doc with John, strong dynamical systems)&lt;/li&gt;
&lt;li&gt;Justin Kinze – great post-doc at Berkeley with John Harte, should visit.&lt;/li&gt;
&lt;li&gt;Paul Armsworth – with Alan, have asked me to join NIMBioS working group on Pretty Darn Good Control (Tuesday evening).&lt;/li&gt;
&lt;li&gt;Hal Caswell – interested in some of the data management / provenance for theoretical work. (Mon)&lt;/li&gt;
&lt;li&gt;Jeremy Fox – Interesting lunch discussion, clonal interference as ecological insight?&lt;/li&gt;
&lt;li&gt;Kim Cuddington – auto-correlation changes.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.eeb.ucla.edu/indivfaculty.php?FacultyKey=8377&quot;&gt;Priyanga Amarasekare&lt;/a&gt; – NCEAS group on early warning signals&lt;/li&gt;
&lt;li&gt;Ethan White - Tuesday morning chat.  Also about ecodata retreiver poster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;missed&quot;&gt;Missed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bob Holt&lt;/li&gt;
&lt;li&gt;Elizabeth (Eli) Holmes (NCEAS group on early warning. Also Robin Waples, group organizer)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;catch-up-with&quot;&gt;Catch up with:&lt;/h3&gt;
&lt;p&gt;Kyle Edwards, Dan Warren. (follow up still)&lt;/p&gt;
&lt;h3 id=&quot;misc-reflections&quot;&gt;Misc Reflections&lt;/h3&gt;
&lt;p&gt;traditional categories don’t fit me. they don’t fit you.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday: Post ESA, NSF Intersections post-doc?</title>
	 <link href="/2011/08/13/saturday.html"/>
   <updated>2011-08-13T15:46:13+00:00</updated>
   <id>/08/13/saturday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;run system backup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reading TOCs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Catch up from ESA&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on review for THEE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;New phylogenetic methods in &lt;em&gt;Evolution &lt;/em&gt;(Paradis, 2012), (Revell &lt;em&gt;et. al.&lt;/em&gt; 2012)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next steps for fellowship applications.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;post-esa&quot;&gt;Post ESA&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theoretical Ecology Review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revisions on &lt;em&gt;Evolution&lt;/em&gt; manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TreeBASE paper. See Kemp &lt;em&gt;et. al.&lt;/em&gt; 2012&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outline next steps on warning signals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wrightscape manuscript, finalize examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NIMBioS working group&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;nsf-intersections-post-doc&quot;&gt;NSF Intersections Post-doc?&lt;/h2&gt;
&lt;p&gt;Looking over the&lt;a href=&quot;http://www.nsf.gov/pubs/2010/nsf10587/nsf10587.htm#pgm_desc_txt&quot;&gt;NSF Biology post-doc position&lt;/a&gt;.  Looks rather different than the earlier bioinformatics position.  Whereas I believe the informatics position was submitted before  the applicant identified a lab or institution, the Intersections post-doc requires I identify two sponsors at my intended institution.  Seems like this will be much easier for someone already going to a chosen institution.  Should probably address my questions to the program officer.  Summarizing the application requirements from the more lengthy official call below:&lt;/p&gt;
&lt;h4 id=&quot;intersections-ofbiology-andmathematical-and-physical-sciences.&quot;&gt;Intersections of Biology and Mathematical and Physical Sciences.&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;To further advances in biology, these fellowships will support the most innovative research and training where biology meets the mathematical or physical sciences.  To achieve this goal, the fellowships require dual mentors for the Fellow, one from biology and one from mathematical or physical sciences.  Sponsors may be at the same or different institutions but must provide mentoring and research guidance from the different fields presented in the proposed research and training plan.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;application-requirements&quot;&gt;Application requirements&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;the application form (FastLane);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;applicant’s Curriculum Vitae (CV) limited to 2 pages (list publications and abstracts separately);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an abstract or project summary (limited to one page) of the proposed research and training including a specific and separate statement of &lt;strong&gt;broader impacts&lt;/strong&gt;.  Must also include a clear and concise statement of the intersection, the mentor from biology, and the mentor identified by field of mathematical or physical science;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;research and training plan (limited to 5 pages, including all figures, tables, etc.) with its own bibliography (no page limit);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;abstract of your dissertation research (limited to one page);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;if the teaching option is being requested, the project plan (limited to 3 pages) may be uploaded as a “supplemental document” in the FastLane application;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the sponsoring scientist(s) statement and 2-page CV(s) that you, the applicant, uploads into the application; and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;two reference reports, submitted directly in FastLane by the reference writers.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;research-and-training-plan&quot;&gt;Research and training plan&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Include in the research and training plan: 1) a brief and informative introduction or background section; 2) a statement of research objectives, methods, and significance; 3) training objectives and plan for achieving them (these may include scientific as well as other career preparation activities); 4) an explanation of how the fellowship activities will enhance your career development; and 5) a justification of the choice of sponsoring scientist(s) and host institution(s).  As with all NSF proposals, broader impacts must also be addressed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;the-sponsoring-scientists-statement&quot;&gt;The sponsoring scientists statement&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;A complete sponsoring scientist statement consists of two parts; a CV of no more than two pages for each sponsor and a single discussion of the following items:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;A brief description of the research projects in the host research group(s), including a statement of current and pending research support, both private and public, for each sponsor. If any sponsor has submitted similar research for funding, what is the degree of overlap?&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;An explanation of how the research and training plan of the applicant would fit into and complement ongoing research of the sponsor(s) and indicate the personnel with whom the Fellow would work.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;How the sponsor(s) will determine what mentoring the applicant needs in research, teaching, and career development skills and translate these into a specific plan to foster the development of the applicant’s future independent research career.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;What role the sponsor(s) will play in the proposed research and training and what other resources will be available to the Fellow to complete his or her training plan during the fellowship.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;What limitations, if any, will be placed on the Fellow regarding the research following the fellowship.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Paradis E (2012). “Shift in Diversification in Sister-Clade Comparisons: A More Powerful Test.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;66&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01429.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01429.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revell L, Mahler D, Peres-Neto P and Redelings B (2012). “A New Phylogenetic Method For Identifying Exceptional Phenotypic Diversification.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;66&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01435.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01435.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rncep: Global Weather And Climate Data at Your Fingertips, Michael U. Kemp, E. Emiel van Loon, Judy Shamoun-Baranes, Willem Bouten, (2012) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;3&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00138.x&quot;&gt;10.1111/j.2041-210X.2011.00138.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA Friday</title>
	 <link href="/2011/08/12/esa-friday.html"/>
   <updated>2011-08-12T18:34:47+00:00</updated>
   <id>/08/12/esa-friday</id>
   <content type="html">&lt;p&gt;Great last day of the conference, despite noticeably decreased attendance.  Once again just pulling in my tweets, since I haven’t had a chance to transcribe proper notes.  Meanwhile, some of the bloggers have done a rather nice day-to-day coverage; no idea how they all manage to keep up.  Links below, with a nice mix of those targeting more theory oriented, more application oriented and more outreach oriented sessions.&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; ESA should have science cafes! Jeremy Fox / OikosBlog &lt;a href=&quot;http://t.co/cfo6Shi&quot; class=&quot;uri&quot;&gt;http://t.co/cfo6Shi&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Back to back talks by two student coauthors (Kremer &amp;amp; Thomas) on plankton response to temperature - brilliantly play off each other #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Nothing is better than listening to pseudospecta calculations for transcritical bifurcations in a broad Irish accent! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Justin Kitze does reserve design in a flexible markov process that outperforms network theory approaches #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Excellent poster by Suzanne O’Regan on transient dynamics in an SIR model approaching a bifurcation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;esa-in-the-blogosphere&quot;&gt;ESA in the blogosphere&lt;/h2&gt;
&lt;h3 id=&quot;jeremy-fox-oikosblog&quot;&gt;Jeremy Fox, OikosBlog&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/09/blogging-the-esa-sunday-and-monday-highlights/&quot;&gt;Oikos Sunday-Monday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/10/blogging-the-esa-tuesday-highlights/&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/11/blogging-the-esa-wednesday-highlights/&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/12/blogging-the-esa-thursday-highlights/&quot;&gt;Thursday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/12/blogging-the-esa-friday-highlights/&quot;&gt;Friday&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;marc-cadotte-caroline-tucker-ebb-flow&quot;&gt;Marc Cadotte, Caroline Tucker, EBB &amp;amp; flow:&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/esa-austin-day-1.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-2-in-austin.html&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/esa-austin-day-3.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-4.html&quot;&gt;Thursday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-5-in-austin.html&quot;&gt;Friday&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;scott-champerlain-recology_&quot;&gt;Scott Champerlain (&lt;span class=&quot;citation&quot; data-cites=&quot;recology_&quot;&gt;@recology_&lt;/span&gt;)&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/monday-at-esa11.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/wednesday-at-esa11.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/thursday-at-esa11.html&quot;&gt;Thursday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/esa11-ropensci-collaborative-effort-to_08.html&quot;&gt;rOpenSci Launch&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;zen-folkes-doctorzen&quot;&gt;Zen Folkes (&lt;span class=&quot;citation&quot; data-cites=&quot;DoctorZen&quot;&gt;@DoctorZen&lt;/span&gt;)&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-1.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-2.html&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-3.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-4.html&quot;&gt;Thursday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More twitter-stats of the conference from &lt;span class=&quot;citation&quot; data-cites=&quot;allredbw&quot;&gt;[@allredbw]&lt;/span&gt;(http://twitter.com/#!/allredbw)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://p.twimg.com/AWsqJSuCEAINJuA.jpg&quot;&gt;&lt;img src=&quot;http://p.twimg.com/AWsqJSuCEAINJuA.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA Thursday</title>
	 <link href="/2011/08/11/esa-thursday.html"/>
   <updated>2011-08-11T18:43:02+00:00</updated>
   <id>/08/11/esa-thursday</id>
   <content type="html">&lt;p&gt;Just automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Predicting rare; predicting ubiquitous/noxious weed species by machine learning vs GLMs #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Beautiful thing when you know just how talk methods will proceed after 2 min of intro to problem.. but stay tuned for surprises #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deitterich: how to reconstruct life history patterns from abundance fluctuations #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; inferring what we want from what we have w models&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; John Drake extends goals of Ives et al 2003 monographs by estimating genralized LV covar using lasso methods for L1 regularization #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Machine learning session will use cancelled end talk to hold general methods Q&amp;amp;A #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/bgrassbluecrab&quot;&gt;bgrassbluecrab&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; tweetup happening now, meet in the lobby by exhibit hall, look for doctorzen’s kilt&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Intraspecific variation symp wraps up wth nice panel discussion among presenters, excellent idea! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Bolnick onto ecological reasons: Jensen’s inequality; ‘portfolio effect’ (bet hedge), or size-dep food web. See &lt;a href=&quot;http://bit.ly/p3j1GG&quot; class=&quot;uri&quot;&gt;http://bit.ly/p3j1GG&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dan Bolnick synthesizes the symp lessons on individ variation. Include eco-evo dynamics, ‘phenotypic subsidies’ for sink genotypes.. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Schreiber shows “Resident strikes back” phenomena&amp;quot; in intraguild predation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/nXD1DH&quot; class=&quot;uri&quot;&gt;http://bit.ly/nXD1DH&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sebastian Schreiber shows how variation in predator trait stabilizes eco-evo coexistence in a app comp &amp;amp; intraguild predation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner “dx = Uxdt+sdW, dU=s2dW this comes from an integrated Ornstein Uhlenbeck process - if u don’t know what that is, I can’t help” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner published the proposed talk faster than expected &lt;a href=&quot;http://bit.ly/nVmmgI&quot; class=&quot;uri&quot;&gt;http://bit.ly/nVmmgI&lt;/a&gt; thanks Eco Let; so after fast sum. he’s showin new stuff #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner is a great speaker. “In 2005, ecologists everwhere said ‘oh my god, we forgot about the Price eqn’” thanks to Jeremy Fox #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; This intraspecific variation symp, from all-star @&lt;a href=&quot;http://twitter.com/NIMBioS&quot;&gt;NIMBioS&lt;/a&gt; working group, is tearing up much of classical theory #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23awesometalks&quot;&gt;awesometalks&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA Wednesday</title>
	 <link href="/2011/08/10/esa-wednesday.html"/>
   <updated>2011-08-10T18:46:00+00:00</updated>
   <id>/08/10/esa-wednesday</id>
   <content type="html">&lt;p&gt;My talk today, as well as several others from our Theory group at Davis. Journal review requirements mean posting my slides is gonna be delayed somewhat, but appreciated some excellent questions and those who laughed at my jokes in between slides. Meanwhile, automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt; Here’s the paper I mentioned for introducing ontologies/linked data into spreadsheets&lt;a href=&quot;http://t.co/TfAWxsK&quot; class=&quot;uri&quot;&gt;http://t.co/TfAWxsK&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;: Different levels of scientists as seen by other scientists: &lt;a href=&quot;http://ow.ly/600jV&quot; class=&quot;uri&quot;&gt;http://ow.ly/600jV&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Peres-Neto gives a great talk. “Whole journals on spatial ecology … but we still don’t think correctly about it.” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/msanclem&quot;&gt;msanclem&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/JacquelynGill&quot;&gt;JacquelynGill&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/DoctorZen&quot;&gt;DoctorZen&lt;/a&gt; calls for a tweet up Thurs lunch I think? Do we have a place? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Loving Ben Bolker’s “unconstrained” intro to his talk and his mathematician’s use of words like “simple” &amp;amp; “uncomplicated” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo coins the phrase #&lt;a href=&quot;http://search.twitter.com/search?q=%23webolution&quot;&gt;webolution&lt;/a&gt;, shows growth and crashes in species abundance #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo decides to skip niche model expl. after polling audience, discusses prdiction of food webs from PNAS piece&lt;a href=&quot;http://bit.ly/rhDh5e&quot; class=&quot;uri&quot;&gt;http://bit.ly/rhDh5e&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo Martinez: Will discuss evolution by sympatric speciation (audience grumbles), integration with community networks, global change #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Foodwebs assembled by speciation events instead of invasions are more complex, more trophic levels, more species #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; -T. Romanuk&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; 30 years in the making, Alan Hastings reveals some key insights in the real-world facts that have frustrated models of subsides #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Eek, my talk is coming up, 2:10p on early warning… #&lt;a href=&quot;http://search.twitter.com/search?q=%23shamelessselfpromotion&quot;&gt;shamelessselfpromotion&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/101365206839599104&quot;&gt;10th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Modeling background combines habitat, climate, and stoch pop dyn in forecasting &lt;a href=&quot;http://bit.ly/ndTQkg&quot; class=&quot;uri&quot;&gt;http://bit.ly/ndTQkg&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;to choose management option. Wow&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ooh, a decision framework for species threatened by climate change adressing prediction &amp;amp; uncertainty (Austalian accent included) #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Coarse graining population models to scale to regional levels and long time-scales. Management is Bayesian w/ expert-guess priors #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Will be presenting at 2:10p today in 19A on Early Warning Signals of Ecosystem collapse. Come on by if you have a chance! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA Tuesday</title>
	 <link href="/2011/08/09/esa-tuesday.html"/>
   <updated>2011-08-09T18:48:44+00:00</updated>
   <id>/08/09/esa-tuesday</id>
   <content type="html">&lt;p&gt;Just automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;twitter-log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great Eco Let mixer. Kudos to Marcel &amp;amp; crew for increasing citation rates w/o decreasing acceptance. Now how bout data sharing reqs? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/IceAgeEcologist&quot;&gt;IceAgeEcologist&lt;/a&gt;: #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; Marten Scheffer gets Honorary Member Award (max 20 living awardees); Don Strong ge… (cont) &lt;a href=&quot;http://deck.ly/~0JyXq&quot; class=&quot;uri&quot;&gt;http://deck.ly/~0JyXq&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/BrunaLab&quot;&gt;BrunaLab&lt;/a&gt;: Thanks to @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; for tweeting me questions from my #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; talk given by B Inouye. Me in FL responding live. #&lt;a href=&quot;http://search.twitter.com/search?q=%23awesome&quot;&gt;awesome&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Leibold emphasizes non-pt equilibrium patterns of coupled oscillators, eg Bohannan &amp;amp; Lenski&lt;a href=&quot;http://bit.ly/q0LD0u&quot; class=&quot;uri&quot;&gt;http://bit.ly/q0LD0u&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mathew Leibold - will skip the confusing enviro fluctuations part of biodiversity impact on stability #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23standingroomonly&quot;&gt;standingroomonly&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Translate last tweet: changes in environment patterns could have big impact on conservation models #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Kim Cuddington compares continental and marine environmental variance and autocorellation - latter is also higher on land, &amp;amp; changing #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Melbourne: spatial heterogeneity &lt;em&gt;reduces&lt;/em&gt; variation in spatial spread rates. Mysteries that lab systems through at theory! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Details of Melbourne &amp;amp; Hastings’ model of beetle pop dynamics here: &lt;a href=&quot;http://bit.ly/pyzGqf&quot; class=&quot;uri&quot;&gt;http://bit.ly/pyzGqf&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Melbourne on stochastic spatial spread experiments in 17a, see background in Science&lt;a href=&quot;http://bit.ly/r936pu&quot; class=&quot;uri&quot;&gt;http://bit.ly/r936pu&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; C. Parent calls for including ecological / phenotypic traits in comm. phylo. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Wishing community phylogentics would use more models and fewer tests of ‘association.’ What’s the null? Care about branch length? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Christine Parent blends community phylogenetics with metacommunity ecology, see background paper here:&lt;a href=&quot;http://bit.ly/lTz0y3&quot; class=&quot;uri&quot;&gt;http://bit.ly/lTz0y3&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/snacktavish&quot;&gt;snacktavish&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; 2/3 ESA talks include phylogenies! ok, n=3, but I still think that is great. #&lt;a href=&quot;http://search.twitter.com/search?q=%23inlightofevolution&quot;&gt;inlightofevolution&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: ESA Conference</title>
	 <link href="/2011/08/08/monday-esa-conference.html"/>
   <updated>2011-08-08T13:09:27+00:00</updated>
   <id>/08/08/monday-esa-conference</id>
   <content type="html">&lt;p&gt;Hope to process the day’s happenings later, meanwhile just a snapshot of my twitter-stream notes.  My own highlights certainly include Steve Pacala’s fantastic plenary session in receiving the MacArthur award, and Mark Urban’s crystal clear presentation on “climate collisions.”  I thought I was less tolerant of data-free models with arbitrary assumptions these days, but somehow Mark just swept those concerns away.  In pointing out really fundamental concepts, such details just aren’t so important.&lt;/p&gt;
&lt;p&gt;My twitter-notes below: note the statistical overview of the conference, quotes from the plenary, links to some papers I hope to look over soon, and the amazing images from Arkive.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.arkive.org/goodmans-mouse-lemur/microcebus-lehilahytsara/image-G26165.html#src=portletV3web&quot;&gt;&lt;img src=&quot;http://cdn2.arkive.org/media/DF/DFB1AAC7-E519-4129-AB2C-09B8AA8984CA/Presentation.Portlet/Goodmans-mouse-lemur.jpg&quot; alt=&quot;ARKive photo - Goodman’s mouse lemur&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; theory mixer was packed. So many brilliant people so little space. Theorists know how to run buisness meetings - mixer was the meetin&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/NEONInc&quot;&gt;NEONInc&lt;/a&gt;&lt;/strong&gt; The average age of a NEON user is shrinking, as evidenced by the fascination of today’s visitor.&lt;a href=&quot;http://t.co/07VZneQ&quot; class=&quot;uri&quot;&gt;http://t.co/07VZneQ&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; See Allesina’s results on coexistence of competitor networks in the recent PNAS article &lt;a href=&quot;http://bit.ly/oXTVIU&quot; class=&quot;uri&quot;&gt;http://bit.ly/oXTVIU&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; Stefano Allesina predicts coexistence of competitive networks from pairwise interactions that are either deterministic or random&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Wow, great time talking to the @&lt;a href=&quot;http://twitter.com/NEONInc&quot;&gt;NEONInc&lt;/a&gt; folks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;; where did the time go? Check out their poster session 4:30-6:30 tonight!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/_inundata&quot;&gt;_inundata&lt;/a&gt;&lt;/strong&gt; DataONE best practices from #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;a href=&quot;http://t.co/NIC2QyY&quot; class=&quot;uri&quot;&gt;http://t.co/NIC2QyY&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23openscience&quot;&gt;openscience&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Urban shows vivdly how variation in dispersal rates during climate change results in population “collisions” &amp;amp; resulting extinction #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Urban species interaction ignored in 92% of species response to climate change studies. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Enjoying a talk in education pedagogy &amp;amp; faculty development. Everyone should check out at least one of the &amp;gt;200 edu talks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Matt compares coliniz vs in situ speciation of island anoles. Colinization at any rate obscures pattern of phylo diversity w area #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Matt helmus builds model of phylogenetic attraction or repulsion to ask how diff patterns change species-area curves #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Have images of endangered (global redlist) species? check out Arkive’s most wanted list and get involved: &lt;a href=&quot;http://bit.ly/cvgkbp&quot; class=&quot;uri&quot;&gt;http://bit.ly/cvgkbp&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Totally loving the arkive.org session, presenter is excellent, good disc. of resuse. Check out its flickr group &lt;a href=&quot;http://bit.ly/oi8aMC&quot; class=&quot;uri&quot;&gt;http://bit.ly/oi8aMC&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; &lt;a href=&quot;http://arkive.org/&quot;&gt;http://Arkive.org&lt;/a&gt; world’s largest free database of images and video #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; spice up your talks and course material with amazing images&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Hal Caswell asks: how about dealing with the processed data? Reproducing from raw data ain’t trivial #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;. Carley ans: saving the workflow&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt; gives great advice on best practices that can easily be implemented by any researcher in standard spreadsheets #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Data management session has a bit too much “how” and not enough “why.” Where are &lt;em&gt;examples&lt;/em&gt; of these steps leading to better science? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/rOpenSci&quot;&gt;rOpenSci&lt;/a&gt;: What do you want to see in #&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;packages to integrate #&lt;a href=&quot;http://search.twitter.com/search?q=%23opensource&quot;&gt;opensource&lt;/a&gt; data with R? Tell us at &lt;a href=&quot;http://bit.ly/os7OBm&quot; class=&quot;uri&quot;&gt;http://bit.ly/os7OBm&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/megritude&quot;&gt;megritude&lt;/a&gt; “Young ecologists, you face…a litany of existential crises. When I was a kid, this field was a BLAST!” Pacala #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; NewPost (#&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science &lt;a href=&quot;http://bit.ly/nbQ3Zn&quot; class=&quot;uri&quot;&gt;http://bit.ly/nbQ3Zn&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; “Everyone believes the data except the collector. No one believes the model except the modeller” - Pacala shares old adage #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pacala encourages ecologists to diversify research MT @&lt;a href=&quot;http://twitter.com/jessicablois&quot;&gt;jessicablois&lt;/a&gt;: “reduce associative mating and increase dispersal” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pacala calls all of us to reserve at least part of our careers for working on enviro crisis - social contract. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Never has so much been asked of so little knowledge… but we must make predictions on the best avail science - Pacala #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/DoctorZen&quot;&gt;DoctorZen&lt;/a&gt;&lt;/strong&gt; Whoa. Pacala is saying the demands on ecology for predictions could outstrip the ability to get evidence. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt;: Data Management Plan tool demo today at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; SS3- 10am. Plus tips on #&lt;a href=&quot;http://search.twitter.com/search?q=%23metadata&quot;&gt;metadata&lt;/a&gt;, best practices, and example DMPs&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/JacquelynGill&quot;&gt;JacquelynGill&lt;/a&gt; my thoughts exactly. Hmm… Wonder if there’ll be a tweetup at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Arrived in Austin, check. Badge &amp;amp; textbook-sized program, check. Now walking past Darwin’s Pub. Hello #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;, this gonna be good&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; From @&lt;a href=&quot;http://twitter.com/ethanwhite&quot;&gt;ethanwhite&lt;/a&gt;: tips for navigating #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/oXysK1&quot; class=&quot;uri&quot;&gt;http://bit.ly/oXysK1&lt;/a&gt;. What’s your strategy?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; A statistical overview of what will be going on at the #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; conference in Austin: &lt;a href=&quot;http://bit.ly/nRjJtR&quot; class=&quot;uri&quot;&gt;http://bit.ly/nRjJtR&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Heading to #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;. Excited to be speaking in conservation, policy &amp;amp; theory section where cool math meets real-world problems&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fisheries stock assessments for early warning</title>
	 <link href="/2011/08/02/fisheries-stock-assessments-for-early-warning.html"/>
   <updated>2011-08-02T16:59:14+00:00</updated>
   <id>/08/02/fisheries-stock-assessments-for-early-warning</id>
   <content type="html">&lt;blockquote&gt;
&lt;p&gt;What you want to look for are stock assessments.  For example, for the species closest to home, under the Pacific Fisheries Management Council:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pcouncil.org/groundfish/stock-assessments/archived-stock-assessments/&quot; class=&quot;uri&quot;&gt;http://www.pcouncil.org/groundfish/stock-assessments/archived-stock-assessments/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Three rockfish species that might be good to look into for your purposes are widow, yelloweye, and bocaccio, but these will have shorter-term data than any of the cod data.  Also, NOAA NMFS Technical Reports on individual stocks often have long appendices with lots of data.  For the Canada side of things, I just Googled in “Canadian cod stock assessment” and got this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://publications.gc.ca/collections/collection_2011/mpo-dfo/Fs70-6-2005-024-eng.pdf&quot; class=&quot;uri&quot;&gt;http://publications.gc.ca/collections/collection_2011/mpo-dfo/Fs70-6-2005-024-eng.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that Canada divides up its cod into multiple stocks based on region, and it’s the Newfoundland one in this assessment that had the most famous collapse.  The US does the same – of the US cod stocks, the Georges Bank one is probably the most relevant to you – it’s the second one at:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.nefsc.noaa.gov/sos/spsyn/pg/cod/&quot; class=&quot;uri&quot;&gt;http://www.nefsc.noaa.gov/sos/spsyn/pg/cod/&lt;/a&gt; (note links to .cvs data for each figure). Also, some relevant synthesis papers that come to mind as potential pointers to data sources are: &lt;a href=&quot;http://www.nature.com/nature/journal/v423/n6937/abs/nature01610.html&quot; class=&quot;uri&quot;&gt;http://www.nature.com/nature/journal/v423/n6937/abs/nature01610.html&lt;/a&gt; &lt;a href=&quot;http://www.nature.com/nature/journal/v406/n6798/abs/406882a0.html&quot; class=&quot;uri&quot;&gt;http://www.nature.com/nature/journal/v406/n6798/abs/406882a0.html&lt;/a&gt; &lt;a href=&quot;http://www.sciencemag.org/content/325/5940/578.short&quot; class=&quot;uri&quot;&gt;http://www.sciencemag.org/content/325/5940/578.short&lt;/a&gt; &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/1540-9295(2005)003%5B0078:THOORM%5D2.0.CO%3B2&quot;&gt;http://www.esajournals.org/doi/abs/10.1890/1540-9295(2005)003%5B0078:THOORM%5D2.0.CO%3B2&lt;/a&gt; &lt;a href=&quot;http://www.sciencemag.org/content/293/5530/629.short&quot; class=&quot;uri&quot;&gt;http://www.sciencemag.org/content/293/5530/629.short&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Three of these are from NCEAS working groups, so they might have archived the data with NCEAS.  The big caveat for all of this, as I mentioned earlier, is that any catch data confounds abundance and harvest effort – for example, as Alan said, zero catch doesn’t mean zero fish, it means the fishery was closed.&lt;/p&gt;
&lt;p&gt;Another thought might be to look into the North Sea cod/herring/mackerel system, where there is an explicit model with the right kind of bifurcation in mind based on cultivation effects (herring and mackerel preying on cod recruits but being the prey of adult cod can drive alternative stable states) – there are a couple of recent statistical modeling papers aimed at trying to detect alternative states in the system that might indicate data sources, including abundance data that isn’t confounded by effort:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pnas.org/content/106/1/197.short&quot; class=&quot;uri&quot;&gt;http://www.pnas.org/content/106/1/197.short&lt;/a&gt; &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/09-1500.1&quot; class=&quot;uri&quot;&gt;http://www.esajournals.org/doi/abs/10.1890/09-1500.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For cod more generally, both cultivation effects (originally modeled in the Walters &amp;amp; Kitchell paper referenced in the second North Sea paper linked above) and Allee effects (I think the Rosenberg Frontiers paper linked among the synthesis papers talks about this) are hypothesized to be potential drivers of alternative states.  Competition cultivation effects are hypothesized to occur in rockfish too, which was the basis for one of my papers.&lt;/p&gt;
&lt;p&gt;But, really, Loo Botsford will have the most knowledge of anyone on campus about which fisheries have the most reliable data – also, might he, Alan, and Matt know of some time-series cod data sources for the cod/salmon biocomplexity project?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/08/02/monday-8.html"/>
   <updated>2011-08-02T16:41:03+00:00</updated>
   <id>/08/02/monday-8</id>
   <content type="html">&lt;h2 id=&quot;peter-advice&quot;&gt;Peter advice&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Figure out your focus.&lt;/li&gt;
&lt;li&gt;Have all the stuff from your PhD published (at least submitted), make sure your post-doc moves forward.  (#1 mistake).&lt;/li&gt;
&lt;li&gt;Publish with data folks to show you have much to offer the non-theorist community&lt;/li&gt;
&lt;li&gt;Speak to potential advisers, get them excited about the work.&lt;/li&gt;
&lt;li&gt;Berkeley over Michigan over NESCent/NIMBioS.&lt;/li&gt;
&lt;li&gt;Visit Berkeley.  Ackerley on sabbatical?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;review-for-theoretical-ecology&quot;&gt;Review for Theoretical Ecology&lt;/h2&gt;
&lt;p&gt;Working on another review. Not a bad paper, but presenting many classical results as novel.  Dear would-be authors in theoretical ecology: Please read Nisbet &amp;amp; Gurney 1982, Chesson &amp;amp; Ellner 1984, Benheim &amp;amp; Schreiber 2010 before submitting an article about stochastic population dynamics.&lt;/p&gt;
&lt;h2 id=&quot;paper&quot;&gt;Paper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add citation – done&lt;/li&gt;
&lt;li&gt;Update Figure 1&lt;/li&gt;
&lt;li&gt;disclaimer paragraph? – done&lt;/li&gt;
&lt;li&gt;parenthetical references to supp and methods&lt;/li&gt;
&lt;li&gt;how to choose a result?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cartoonify stable and tipping&lt;/li&gt;
&lt;li&gt;Model fit comparison?&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday: Fisheries Data Survey, Warning Signals</title>
	 <link href="/2011/07/30/saturday-fisheries-data-survey-warning-signals.html"/>
   <updated>2011-07-30T17:26:54+00:00</updated>
   <id>/07/30/saturday-fisheries-data-survey-warning-signals</id>
   <content type="html">&lt;p&gt;Marissa mentioned looking into some of the fisheries data for early warning signals: particularly the Canadian Cod collapse.&lt;/p&gt;
&lt;p&gt;Apparently several of the data sets are problematic.  All deal with catch instead of abundance and measurement error is highly significant, though it seems that some may suffer from more troublesome systematic errors.  Taking a quick look over what is available.  Lots of data, but despite what appears to be some rather sophisticated tools available on the sites, I’m having a bit of difficulty finding just what I’m looking for.&lt;/p&gt;
&lt;p&gt;For instance, would be nice to get the data associated with the often-reproduced &lt;a href=&quot;http://www.millenniumassessment.org/en/GraphicResources.aspx&quot;&gt;graphs from the Millennium Ecosystem Assessment&lt;/a&gt; (&lt;em&gt;e.g.&lt;/em&gt; inset).  An hour or so of poking around hasn’t been very successful.  Checking out:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Atlantic-Cod-Stocks.jpg/773px-Atlantic-Cod-Stocks.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.fao.org/fishery/statistics/collections/en&quot;&gt;International Fisheries data from FAO&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.dfo-mpo.gc.ca/stats/commercial/sea-maritimes-eng.htm&quot;&gt;Canadian Fisheries DFO&lt;/a&gt; (annual entries, only back to 1990)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wdc.nbii.gov/ma/datapage.htm&quot;&gt;Millennial Ecosystem assessment data at NBII&lt;/a&gt; Looks more promising, but in zipped (MS access?) DB formats, not quite sure what’s what yet.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Nice paper by Carpenter and Brock comparing performance of non=parametric warning signals out in Ecology today (Carpenter &amp;amp; Brock, 2011).  Haven’t given it a close read yet, but seems to show that diffusion-related estimates like variance are the most reliable indicator while drift-related estimates such as autocorrelation/return time are less reliable. The estimate a drift-diffusion-jump model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dx = \mu(x_t,\theta_t)d t + \sigma(x_t, \theta_t) d W + d(\sum Z_n) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the &lt;span class=&quot;math&quot;&gt;\(Z_n\)&lt;/span&gt; is a sum over discontinuous shocks.  Seems that this conclusion can be argued from first principles of stochastic processes – convergences of parameter estimates should obey a central-limit theorem, though the time-varying case might be harder.  They seem to be estimated in a piece-wise constant manner over a sliding Gaussian window.  Mean and variance are just estimated from the first and second moments in the window, somehow jump terms are estimated as function of the sixth and forth moment.  This estimation approach comes from the econometrics literature Bandi &amp;amp; Nguyen, 2003, (Johannes, 2004).&lt;/p&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;p&gt;Working on incorporating comments from Friday’s practice talk.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Registered for DataCite 2011.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrote to Alan about EIM 2011&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some ESA planning&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Carpenter S and Brock W (2011). “Early Warnings of Unknown Nonlinear Shifts: A Nonparametric Approach.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0716.1&quot;&gt;http://dx.doi.org/10.1890/11-0716.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Johannes M (2004). “The Statistical And Economic Role of Jumps in Continuous-Time Interest Rate Models.” &lt;em&gt;The Journal of Finance&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 0022-1082, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1540-6321.2004.00632.x&quot;&gt;http://dx.doi.org/10.1111/j.1540-6321.2004.00632.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;on The Functional Estimation of Jump-Diffusion Models, Federico M. Bandi, Thong H. Nguyen, (2003) &lt;em&gt;Journal of Econometrics&lt;/em&gt;, &lt;strong&gt;116&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0304-4076(03)00110-6&quot;&gt;10.1016/S0304-4076(03)00110-6&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: ESA Practice Talk</title>
	 <link href="/2011/07/29/2268.html"/>
   <updated>2011-07-29T17:26:44+00:00</updated>
   <id>/07/29/2268</id>
   <content type="html">&lt;p&gt;Practice talk in Teary today; Jamie, Marissa and myself.  Lots of discussion and feedback. Some good general discussion about presentations as well – Marissa mentioned the Oceanographic Institute’s &lt;a href=&quot;http://www.tos.org/resources/publications/sci_speaking.html&quot;&gt;tips for speakers&lt;/a&gt; and other resources &lt;a href=&quot;http://www.des.ucdavis.edu/faculty/baskett/links/communication.html&quot;&gt;on her website&lt;/a&gt;. Brief notes on changes to make in my talk based on some excellent discussion:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Julie and others point out I should at least reference Type I &amp;amp; Type II Error – statement contrasting scientific hypothesis testing vs managing for collapse.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consensus that I should open with data from real collapses, _e.g. _North Atlantic Cod.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ROC Curves&lt;/strong&gt; – Don’t work or aren’t necessary for everyone (I think Peter and I could do without them at least), but most felt they helped substantially. Sounds like I should definitely keep them but explain even more slowly. Some revisions on the explanation movies might help.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian suggested cross-hair marker indicating the false-positive/true-positive for the current point.  Could probably use a few more frames in ‘videos’ too.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Must label blue and red distributions, repeatedly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add disclaimers on model generality – illustrate the process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bubbles/cartoons/images&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add citations&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;filed CSGF receipts&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;review-of-the-week&quot;&gt;Review of the Week&lt;/h2&gt;
&lt;p&gt;Created ESA practice presentation.  Small edits on manuscript figures and appendix.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Weds: Manuscript</title>
	 <link href="/2011/07/27/weds-manuscript.html"/>
   <updated>2011-07-27T22:38:55+00:00</updated>
   <id>/07/27/weds-manuscript</id>
   <content type="html">&lt;p&gt;I’ve removed the model choice/model adequacy section of the appendix. This is the section that Reviewer 2 said needed further development, which would be beyond the scope of this paper:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Here the authors claim that by using particular structural models based on assumptions about underlying dynamics their method makes it easy to identify cases that do not conform to the assumptions. It would be interesting to evaluate this claim but it would require a substantial amount of analysis that may be beyond the scope of a short paper. Alternatively the claim could be tempered.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tend to agree, explaining how to do this properly really is beyond the scope, so I pulled that section (Appendix H) out. Reviewer 2 also had some comments about systems with other complicated dynamics, such as alternatively approaching, moving away, and then approaching the critical point. This section was mentioned in the second-to-last paragraph of the main text. I’ve updated that paragraph to read:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Not all sudden collapses correspond to our model assumptions, including dynamical systems where the variance actually decreases as a sudden shift approaches (24, 25)⁠. While further development may make some of these systems amiable to detection (SOM, Appendix C), certain systems may collapse without any warning (26)⁠. Including measurement error and focusing on such different classes of dynamics are other complications we do not address at this time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I’m a bit worried that this sounds too negative? (26 is clearly your Ecol Let paper).&lt;/p&gt;
&lt;p&gt;A few other questions. Figure 2 shows the stable system, to make the point that it can look like a false alarm. I have the ROC curves for this system that correspond to Figure 3 and 4. Since it’s stable, those curves always lie on the 1:1 line, for all methods, since there’s nothing to detect. Should I include them in Figure 3 &amp;amp; 4?&lt;/p&gt;
&lt;p&gt;I don’t show the parameter distributions for individual models. I don’t discuss whether the fit is constrained to strictly deteriorating systems vs stable systems (in principle you could allow for a system that is increasing in stability using the same model but changing parameter bounds). Guess I should add this into the appendix.&lt;/p&gt;
&lt;p&gt;Figure 1 may need revisions.  Sebastian suggests showing how ROC curve changes when the distributions are closer together.  This could also perhaps benefit from an animation.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: ESA presentation, manuscript/appendix edits </title>
	 <link href="/2011/07/27/wednesday-esa-presentation-manuscriptappendix-edits.html"/>
   <updated>2011-07-27T16:22:02+00:00</updated>
   <id>/07/27/wednesday-esa-presentation-manuscriptappendix-edits</id>
   <content type="html">&lt;h2 id=&quot;misc-morning&quot;&gt;Misc morning&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site trouble, again.  requested migrating servers.  Done.  hope we’re more stable now.&lt;/li&gt;
&lt;li&gt;Checking in with Peter about migrating site domain.  Sent request to Matt.&lt;/li&gt;
&lt;li&gt;Looking over NERSC PI &lt;a href=&quot;https://nim.nersc.gov/ercap_menu.php&quot;&gt;application&lt;/a&gt;, see &lt;a href=&quot;http://www.nersc.gov/users/accounts/allocations/first-allocation/&quot;&gt;first allocation&lt;/a&gt; instructions.  Emailed Mary Ann w/ questions on forms.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nimbios.org/SMB2012/&quot;&gt;SMB 2012&lt;/a&gt; is at NIMBioS!&lt;/li&gt;
&lt;li&gt;Nick to join ropensci.  Coordinating launch, advisers, etc.   Karthik and Scott have done a great job editing my intro post and sprucing up the site.  more later.&lt;/li&gt;
&lt;li&gt;wp-minify &lt;a href=&quot;http://wordpress.org/support/topic/block-quote-missing-quotation-graphic?replies=4#post-2229639&quot;&gt;messes up certain graphics&lt;/a&gt;, like the quotations in this theme.  &lt;a href=&quot;http://wordpress.org/extend/plugins/bwp-minify/&quot;&gt;better-wordpress-minify&lt;/a&gt; is, well, better.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sam just pointed out the &lt;a href=&quot;http://cran.r-project.org/web/packages/motmot/index.html&quot;&gt;MOTMOT package on CRAN&lt;/a&gt; and it’s paper in Methods in Ecology and Evolution Thomas &amp;amp; Freckleton, 2012.  A “Medusa” for traits algorithm.  Does a handful of different BM-like models (because it’s always easier to transform the tree than to actually solve a new likelihood equation).  Rather worried about the proliferation of these non-Bayesian approaches when they don’t compute confidence intervals.&lt;/li&gt;
&lt;li&gt;Clever! &lt;a href=&quot;http://onertipaday.blogspot.com/2011/07/word-cloud-in-r.html?utm_source=twitterfeed&amp;amp;utm_medium=twitter&amp;amp;utm_campaign=Feed%3A+OneRTipADay+%28One+R+Tip+A+Day%29&quot;&gt;wordclouds&lt;/a&gt; in R.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;upcoming-conferences&quot;&gt;Upcoming conferences&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;DataCite &lt;a href=&quot;http://datacite2011.eventbrite.com/&quot;&gt;conference&lt;/a&gt;, Berekely, 24-25 of August. (Wed-Thurs)&lt;/li&gt;
&lt;li&gt;Maybe: the Santa Barbara  for &lt;a href=&quot;https://eim.ecoinformatics.org/eim2011&quot;&gt;EIM 2011&lt;/a&gt; is the 28-29 September, though I’d probably spend 27 &amp;amp; 30th on the train.  (Tues-Fri).  Could probably couple this with a chance to visit some of the labs in Santa Barbara, re post-doc options, etc.  Should speak to Alan about this.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next year:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Science Online: January, sometime&lt;/li&gt;
&lt;li&gt;Evolution: Ottawa, Ontario, Canada - July 6-10&lt;/li&gt;
&lt;li&gt;CSGF: not scheduled&lt;/li&gt;
&lt;li&gt;SMB: Knoxville, TN: July 26-28&lt;/li&gt;
&lt;li&gt;ESA: Portland, OR, August 5 - Friday, August 10, 2012&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;esa-presentation&quot;&gt;ESA presentation&lt;/h2&gt;
&lt;p&gt;Still working on this, see scripts and slides for details.&lt;/p&gt;
&lt;p&gt;Do I have time to do explain ROC curves, or stick with parameter distributions?&lt;/p&gt;
&lt;p&gt;Manuscript/Appendix&lt;/p&gt;
&lt;p&gt;In separate entry… delayed release.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Motmot: Models of Trait Macroevolution on Trees, Gavin H. Thomas, Robert P. Freckleton, (2012) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;3&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00132.x&quot;&gt;10.1111/j.2041-210X.2011.00132.x&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tues: ESA presentation</title>
	 <link href="/2011/07/26/tues-esa-presentation.html"/>
   <updated>2011-07-26T13:24:34+00:00</updated>
   <id>/07/26/tues-esa-presentation</id>
   <content type="html">&lt;p&gt;Working on ESA presentation.  See slides and code for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Adding movie a time series which gets longer (and closer to collapse) each frame, with corresponding warning signals for the interval thus far shown below (for CV and autocorrelation).  Include sparsely sampled (100) and densely sampled (1000) examples.  Compare always using a sliding window-size equal to half the length of the available data (works well on longer time series) to a fixed-width sliding window (doesn’t work well ever).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added two examples to introduce tau as measure of quantifying an increase.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: ESA, appendix, etc</title>
	 <link href="/2011/07/25/monday-esa.html"/>
   <updated>2011-07-25T23:22:37+00:00</updated>
   <id>/07/25/monday-esa</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Gene expression as a continuous phenotypic trait – establishing signal for selection over drift.  (Bedford &amp;amp; Hartl, 2009)  OU vs BM (or just estimation of selection in the OU model relative to tree length) would have been an obvious way to do this, but the paper tries to make the argument that scaling the data and then comparing&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{\sigma^2}{2\alpha} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;is some indication.&lt;/p&gt;
&lt;h2 id=&quot;model-choice-section-on-warning-signals&quot;&gt;Model choice section on warning signals&lt;/h2&gt;
&lt;p&gt;Trying to figure out whether or not to remove this section (previously Appendix H: Model Choice and Model Adequacy).  Second-to-last paragraph mentions this, becomes a wimpy paragraph without it.  Run this by Alan.&lt;/p&gt;
&lt;p&gt;Model choice works for drake example: supports the transcritical bifurcation over the the saddle-node bifurcation.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6018/5975223608_49c038c3ec_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Hmm, less convincing: IBM model of saddle node, LTC vs LSN:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6137/5978135939_ba24a85dda_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Should try LSN-simulation data.  Demonstrate robustness of initial estimates?&lt;/p&gt;
&lt;h2 id=&quot;null-results-on-stable-system&quot;&gt;Null results on stable system&lt;/h2&gt;
&lt;p&gt;Should we include the stable system in Figures 3 &amp;amp; 4?&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6025/5967217332_a0f0d6d10a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Should we include the posterior parameter distributions?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bedford T and Hartl D (2009). “Optimization of Gene Expression by Natural Selection.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0812009106&quot;&gt;http://dx.doi.org/10.1073/pnas.0812009106&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: Algorithms Discussion Group, EM finished</title>
	 <link href="/2011/07/25/monday-algorithms-discussion-group-em-finished.html"/>
   <updated>2011-07-25T17:58:55+00:00</updated>
   <id>/07/25/monday-algorithms-discussion-group-em-finished</id>
   <content type="html">&lt;p&gt;Finished up the EM algorithm today.  Key was getting the right function to maximize.  Turns out wikipedia has a very &lt;a href=&quot;http://en.wikipedia.org/wiki/Expectation-maximization_algorithm&quot;&gt;nice write up&lt;/a&gt; of this very example, but in our notation:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[  E_p \log(p f_1) + (1-E_p) \log( (1-p) f_2 )\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;\(E_p\)&lt;/span&gt; comes from the expectation step.&lt;/p&gt;
&lt;p&gt;Jamie has joined us and has set up a &lt;a href=&quot;https://github.com/ashander/adg&quot;&gt;github repository&lt;/a&gt; for the discussion group.  Find the successful &lt;a href=&quot;https://github.com/ashander/adg/blob/master/em/em3.R&quot;&gt;abstract algorithm&lt;/a&gt; there.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday: Appendix edits</title>
	 <link href="/2011/07/24/sunday-appendix-edits.html"/>
   <updated>2011-07-24T16:47:15+00:00</updated>
   <id>/07/24/sunday-appendix-edits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Appendix A. Method Summary – Basically the “methods” section as we had it in the Nature version, a bit updated.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;These sections are as before, with minor updates from the reviewers, etc. They’re also probably the most important part:&lt;/li&gt;
&lt;li&gt;Appendix B. The data sets&lt;/li&gt;
&lt;li&gt;Appendix C. Model Derivations&lt;/li&gt;
&lt;li&gt;Appendix D. Likelihood calculations&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix E. The likelihood statistic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix F. The distributions for the ROC curves – these are the former figure 1b/c distributions used to make the ROC curve.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix G. On a hypothesis-testing framework – A new section. Really let me know if this part is okay, I try to address some issues more directly then we had space for in the main text.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix H. Model choice and model adequacy – I don’t currently include examples of this. I could add them, I think they are interesting, but a bit tangential to the topic. I want to acknowledge that the models we use are general but not completely general, and that this is a sensible way of checking when they are reasonable. I think it’s important to point out how one could check for model adequacy, but let me know what you think. I could remove the whole section too.  Referenced in second-to-last paragraph though.  Attempting runs on cluster, unlikely to finish though.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix I. R package tutorial – this is super minimal at the moment. I may try and flush it out more.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix J. Examples – I add the analysis for two more data sets, exactly as in the paper. I put almost all the text in the captions, let me know if it needs more background on the data, etc in the body of this section.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>CSGF Conference Notes</title>
	 <link href="/2011/07/24/csgf-conference-notes.html"/>
   <updated>2011-07-24T14:30:43+00:00</updated>
   <id>/07/24/csgf-conference-notes</id>
   <content type="html">&lt;p&gt;Just returned from 5 days in Washington, DC for the annual computational science graduate fellowship conference.  No live notes/tweets, so just attempting to synthesize some of the major ideas before I get back to paper writing. Most of the conference material, including workshop slides, are &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011&quot;&gt;archived online&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011/hpc-workshop&quot;&gt;high performance computing workshop&lt;/a&gt; made two things clear to me – a lot of parallel computing can be done without lots of communication between nodes (&lt;em&gt;i.e.&lt;/em&gt; Monte Carlo, simulations, and all the embarrassingly parallel stuff we now call massively serial stuff), and the next generation of supercomputers – exoscale computers – will be pretty much impossible to program or use, with lots of processors per chip but no memory, while the major limitation becomes (already is) power. It’s not the only was forward, as one fellow pointed me to the massive shared-memory machine at PSC, &lt;a href=&quot;http://www.psc.edu/general/hardware.php&quot;&gt;blacklight&lt;/a&gt;. The NERSC hands-on session was particularly good.&lt;/p&gt;
&lt;p&gt;The student talks were as excellent as they were diverse.  I think the fellows this year did a particularly good job of keeping the talks entertaining to a wide audience, if completely irrelevant to my work.  See the agenda for &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011/conference-agenda&quot;&gt;details&lt;/a&gt;, but some of the astrophysics talks probably took the cake.  As always, the poster session was expertly organized into shifts and abundant good food.&lt;/p&gt;
&lt;p&gt;I always enjoy hearing from the various agency directors.  We didn’t have a general this year to yell at us about how awesome science was, but we did here a lot about&lt;a href=&quot;http://www.sandia.gov/NNSA/ASC/univ/psaap.html&quot;&gt;predictive science&lt;/a&gt; and quantifying uncertainty, with some emphasis on ill-defined but policy relevant systems.  Hey, that’s what I do! (in the forecasting ecosystem collapse work.)  Only I think ecology isn’t what they have in mind. It was great to see familiar faces of fellows and alumni and meet the incoming students.  Celebrating 20 years, CSGF program has adopted the tag-line for this conference as “Building a Community of Leaders.”  With a diverse network of researchers in all kinds of interdisciplinary fields, I think it’s not too far off.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CSGF 2010 Computing Practices Survey Summary</title>
	 <link href="/2011/07/24/csgf-2010-computing-practices-survey-summary.html"/>
   <updated>2011-07-24T14:11:07+00:00</updated>
   <id>/07/24/csgf-2010-computing-practices-survey-summary</id>
   <content type="html">&lt;p&gt;Thanks to everyone who participated in the CSGF 2010 Survey.With too many things going on this year, I didn’t conduct a survey at the 2011 Conference.  But as people were asking about the survey, I thought I could at least make last year’s summary a bit more accessible.  The following comes from the pdf report I submitted to Krell and a few example figures from data.This year’s survey was longer and broader, recieving over 90 responses from fellows and alumni. Thanks to everyone who wrote in useful comments from last year, many appear as multiple choice options this year. This survey started out of my own ignorance about many of the methods and languages discussed at my first CSGF conference. Without what I’ve picked up from other fellows my answers to most of the survey questions would have been “never heard of it.”&lt;/p&gt;
&lt;p&gt;This year’s survey had three goals:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Identify computational usage patterns, languages, and skills of among the fellows and visualize how they break down by year in the fellowship, academic discipline, and other factors.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Quantify our adherence to good practice in software design, development, and documentation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Explore our interest in Internet tools in a research context / Science 2.0 tools and practices.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;languages&quot;&gt;Languages&lt;/h3&gt;
&lt;p&gt;The results were full of surprises. I was unable to come across any obvious trends in language use across either department or year. Overall usage patterns varied more between subjects than by years, but with all groups representing strong computational talent: over 40% have used DoE supercomputers, 70% of each year and each discipline have experience with parallel programming. Most use both a compiled and a scripting language. 25% of fellows have explored GPU computing. knowledge of LATEX and basic HTML are all but ubiquitous, while database use and more advanced web development platforms are mostly unknown. Students learn primarily from colleagues.&lt;/p&gt;
&lt;h3 id=&quot;software-practices&quot;&gt;Software Practices&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6003/5971726690_118e1d94f3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Scores on the good software practices quiz were reasonably high for scientists and mostly undifferentiated by year or discipline, scoring an average of 8 out of 16 points. We’re particularly good at documenting code (80%) and version management (&amp;gt; 60%) but almost no one uses a standards style checker or an automated test suite. Most fellows have experience in collaboratively writing software, working across disciplines and working across institutions. Some have experience on software development in large teams (&amp;gt; 10 researchers).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6133/5971726626_2219a694de_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Unfortunately fellows were significantly less likely to publish in open access journals and even less likely post their publications on public archives than they were to publish in the non-open access literature. Fellows are somewhat more likely to release and distribute open source code. Fellows have explored little of the rapidly expanding set of internet resources for science. Few have learned to productively leverage wikis or other software for electronic notebooks, blogs for public com- munication of science, rss feeds for aggregating and sharing literature, forums for connecting to experts, or the social networking aspects that accompany these tools and connect researchers.&lt;/p&gt;
&lt;h3 id=&quot;science-2.0&quot;&gt;Science 2.0&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6149/5971193777_0b3cfcd2b5_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Overall, we perform quite well in our knowledge of languages and parallelism, reasonably in our standards of good practice and are rather unambitious in our exploration of Science 2.0 tools. The survey did not explore numerical methods commonly learned and applied nor quantify the upper bound of computing scale (i.e. in number of processors in an application) reached by the fellows or the causes for those bounds (lack of need, resources, training, etc), but we’re deep into open source.&lt;/p&gt;
&lt;p&gt;Get the data &lt;a href=&quot;https://raw.github.com/cboettig/sandbox/master/csgf_survey/Sheet_1.csv&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Showcasing the latest phylogenetic methods: AUTEUR</title>
	 <link href="/2011/07/20/showcasing-the-latest-phylogenetic-methods-auteur.html"/>
   <updated>2011-07-20T15:07:14+00:00</updated>
   <id>/07/20/showcasing-the-latest-phylogenetic-methods-auteur</id>
   <content type="html">&lt;p&gt;While high-speed fish feeding videos may be the signature of the lab, dig a bit deeper and you’ll find a wealth of comparative phylogenetic methods sneaking in.  It’s a natural union – expert functional morphology is the key to good comparative methods, just as phylogenies hold the key to untangling the evolutionary origins of that morphology.  The lab’s own former graduate, &lt;a href=&quot;http://www.brianomeara.info/&quot;&gt;Brian O’Meara&lt;/a&gt;, made a revolutionary step forward in the land of phylogenetic methods when he unveiled &lt;em&gt;Brownie&lt;/em&gt; in 2006, allowing researchers to identify major shifts in trait diversification rates across the tree.  This work spurred not only a flood of empirical applications but also methodological innovations, such as Liam’s &lt;a href=&quot;http://phytools.blogspot.com/2011/07/more-robust-version-of-brownielite.html&quot;&gt;brownie-lite&lt;/a&gt;, and today’s focus: &lt;a href=&quot;http://public.wsu.edu/~storfer/eastman/pages/index.html&quot;&gt;Jon Eastman&lt;/a&gt; &lt;em&gt;et al.&lt;/em&gt;’s auteur package.&lt;/p&gt;
&lt;p&gt;Auteur, short for “Accommodating uncertainty in trait evolution using R,” is the grown-up Bayesian RJMCMC version of that original idea in &lt;em&gt;Brownie&lt;/em&gt;.  Diversification rates can change along the phylogenetic tree – only this time, you don’t have to specify where those changes could have occurred, or how many there may have been – auteur simply tries them all.&lt;/p&gt;
&lt;p&gt;If you want the details, definitely go &lt;a href=&quot;http://doi.wiley.com/10.1111/j.1558-5646.2011.01401.x&quot;&gt;read the paper&lt;/a&gt; – it’s all there, clear and thorough.  Meanwhile, what we really want to do, is take it out for a test drive.&lt;/p&gt;
&lt;p&gt;The package isn’t up on CRAN yet, so you can grab the development version from Jon’s &lt;a href=&quot;https://github.com/eastman/auteur&quot;&gt;github&lt;/a&gt; page, or &lt;a href=&quot;https://github.com/downloads/eastman/auteur/auteur_0.11.0612.tar.gz&quot;&gt;click here&lt;/a&gt;.  Put that package in a working directory and fire up R in that directory.  Let’s go for a spin.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;auteur_0.11.0612.tar.gz&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;repos=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(auteur)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Great, the package installed and loaded successfully. Looks like Jon’s put all 73 functions into the NAMESPACE, but it’s not hard to guess which one looks like the right one to start with.  rjmcmc.bm.  Yeah, that looks good.  It has a nice help file, with – praise the fish – example code.  Looks like we’re gonna run a simulation, where we know the answer, and see how it does:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

     #############
     ## generate tree
     n=&lt;span class=&quot;dv&quot;&gt;24&lt;/span&gt;
     while(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) {
             phy=&lt;span class=&quot;kw&quot;&gt;prunelastsplit&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;birthdeath.tree&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;b=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;d=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;taxa.stop=&lt;/span&gt;n&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;))
             phy$tip.label=&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sp&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
             rphy=&lt;span class=&quot;kw&quot;&gt;reorder&lt;/span&gt;(phy,&lt;span class=&quot;st&quot;&gt;&amp;quot;pruningwise&amp;quot;&lt;/span&gt;)

             &lt;span class=&quot;co&quot;&gt;# find an internal edge&lt;/span&gt;
             anc=&lt;span class=&quot;kw&quot;&gt;get.desc.of.node&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;Ntip&lt;/span&gt;(phy)+&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,phy)
             branches=phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
             branches=branches[branches&amp;gt;&lt;span class=&quot;kw&quot;&gt;Ntip&lt;/span&gt;(phy) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;branches!=anc]
             branch=branches[&lt;span class=&quot;kw&quot;&gt;sample&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(branches),&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)]
             desc=&lt;span class=&quot;kw&quot;&gt;get.descendants.of.node&lt;/span&gt;(branch,phy)
             if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(desc)&amp;gt;=&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;) break()
     }
     rphy=phy
     rphy$edge.length[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(desc,phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]=phy$edge.length[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(desc,phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]*&lt;span class=&quot;dv&quot;&gt;64&lt;/span&gt;

     e=&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;nrow&lt;/span&gt;(phy$edge))
     e[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(branch,desc),phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]=&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
     cols=&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;gray&amp;quot;&lt;/span&gt;)
     &lt;span class=&quot;kw&quot;&gt;dev.new&lt;/span&gt;()
     &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(phy,&lt;span class=&quot;dt&quot;&gt;edge.col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ifelse&lt;/span&gt;(e==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,cols[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],cols[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]), &lt;span class=&quot;dt&quot;&gt;edge.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
     &lt;span class=&quot;kw&quot;&gt;mtext&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;expected pattern of rates&amp;quot;&lt;/span&gt;)

     #############
     ## simulate data on the &amp;#39;rate-shifted&amp;#39; tree
     dat=&lt;span class=&quot;kw&quot;&gt;rTraitCont&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;rphy, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That creates this beautiful example (sorry, no random generator seed, you’re results may vary but that’s ok) tree:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6123/5952070152_e7761d597c.jpg&quot; /&gt; Okay, so that’s the target, showing where the shift occurred.  Note the last line got us some data on this tree.  We’re ready to run the software.  It looks super easy:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
## run two short reversible-jump Markov chains
 r=&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sample&lt;/span&gt;(letters,&lt;span class=&quot;dv&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;replace=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;collapse=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
 &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;rjmcmc.bm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;phy, &lt;span class=&quot;dt&quot;&gt;dat=&lt;/span&gt;dat, &lt;span class=&quot;dt&quot;&gt;ngen=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sample.freq=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;prob.mergesplit=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;simplestart=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;prop.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;fileBase=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,x,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data is going in as “phy” and “dat”, just as expected.  We won’t worry about the optional parameters that follow for the moment.  Note that because we use lapply to run multiple chains, it would be super easy to run this on multiple processors.&lt;/p&gt;
&lt;p&gt;Note that Jon’s creating a bunch of directories to store parameters, etc.  This can be important for MCMC methods where chains get too cumbersome to handle in memory.  Enough technical rambling, let’s merge and load those files in now, and plot what we got:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# collect directories&lt;/span&gt;
dirs=&lt;span class=&quot;kw&quot;&gt;dir&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;./&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;pattern=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;,r,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;pool.rjmcmcsamples&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;base.dirs=&lt;/span&gt;dirs, &lt;span class=&quot;dt&quot;&gt;lab=&lt;/span&gt;r)

## view contents of .rda
&lt;span class=&quot;kw&quot;&gt;load&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;combined.rjmcmc&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;),&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;posteriorsamples.rda&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(posteriorsamples$rates))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(posteriorsamples$rate.shifts))

## plot Markov sampled rates
&lt;span class=&quot;kw&quot;&gt;dev.new&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;shifts.plot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;phy, &lt;span class=&quot;dt&quot;&gt;base.dir=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;combined.rjmcmc&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;burnin=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;legend=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;edge.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)

&lt;span class=&quot;co&quot;&gt;# clean-up: unlink those directories&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;unlink&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;dir&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;pattern=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r)),&lt;span class=&quot;dt&quot;&gt;recursive=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6001/5952112488_91867e7f3a.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Not only is that a beautiful plot, but it’s nailed the shift in species 12-16.  How’d your example do?&lt;/p&gt;
&lt;p&gt;Auteur comes with three beautiful large data sets described in the paper.  Check them out, but expect longer run times than our simple example!&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(chelonia)
&lt;span class=&quot;co&quot;&gt;# take a look at this data&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia
$phy
Phylogenetic tree with &lt;span class=&quot;dv&quot;&gt;226&lt;/span&gt; tips and &lt;span class=&quot;dv&quot;&gt;225&lt;/span&gt; internal nodes.

Tip labels:
Elseya_latisternum, Chelodina_longicollis, Phrynops_gibbus, Acanthochelys_radiolata, Acanthochelys_macrocephala, Acanthochelys_pallidipectoris, ...

Rooted; includes branch lengths.

$dat
Pelomedusa_subrufa                   Pelusios_williamsi
&lt;span class=&quot;fl&quot;&gt;2.995732&lt;/span&gt;                             &lt;span class=&quot;fl&quot;&gt;3.218876&lt;/span&gt;
...
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia$dat
phy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia$phy
## ready to run as above
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://www.R-bloggers.com&quot;&gt;&lt;img src=&quot;http://a1.twimg.com/profile_images/1344218056/RblogLogo_bigger.png&quot; alt=&quot;R-bloggers.com&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Thanks Jon and the rest of the Harmon Lab for a fantastic package. This is really just a tip of the iceberg, but should help get you started. See the paper for a good example of posterior analyses requisite after running any kind of MCMC, or stay tuned for a later post.&lt;/p&gt;
&lt;p&gt;(cross-posted from &lt;a href=&quot;http://fishlab.ucdavis.edu/?p=303&quot;&gt;my entry on the Wainwright lab blog&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.researchblogging.org&quot;&gt;&lt;img src=&quot;http://www.researchblogging.org/public/citation_icons/rb2_large_gray.png&quot; alt=&quot;ResearchBlogging.org&quot; /&gt;&lt;/a&gt; Eastman, J., Alfaro, M., Joyce, P., Hipp, A., &amp;amp; Harmon, L. (2011). A NOVEL COMPARATIVE METHOD FOR IDENTIFYING SHIFTS IN THE RATE OF CHARACTER EVOLUTION ON TREES Evolution DOI: &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday: Warning Signals</title>
	 <link href="/2011/07/17/sunday-warning-signals.html"/>
   <updated>2011-07-17T23:38:23+00:00</updated>
   <id>/07/17/sunday-warning-signals</id>
   <content type="html">&lt;p&gt;Continuing work on warning signals manuscript.  Most entries for this work are &lt;a href=&quot;http://www.carlboettiger.info/archives/1229&quot;&gt;delayed-release&lt;/a&gt;.  Some final stages of editing today:&lt;/p&gt;
&lt;h4 id=&quot;data-sets-for-appendix&quot;&gt;Data sets for appendix&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;deut1&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;caco3&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Other datasets? other drake? other deut?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched drakeI9 on farm c0-2 by ssh.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched ibm_stable on farm c0-1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched deut2_analysis on farm c0-3, failed.  needs better initial conditions to run&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;main-paper&quot;&gt;Main paper&lt;/h4&gt;
&lt;p&gt;fix plots: Figure 4 needs axis labels – done.&lt;/p&gt;
&lt;p&gt;Revisions sent to Sebastian and Alan.&lt;/p&gt;
&lt;h4 id=&quot;appendix&quot;&gt;Appendix&lt;/h4&gt;
&lt;p&gt;Edits, updated copy sent to Sebastian.&lt;/p&gt;
&lt;p&gt;Distributions corresponding to Fig 3 style ROC plots: &lt;img src=&quot;http://farm7.staticflickr.com/6027/5948027168_f73a4cfdcc_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Distributions corresponding to Fig “S3,” additional data &lt;img src=&quot;http://farm7.staticflickr.com/6125/5947664361_e281f1c4d1_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Updated axis labels on Fig 4. &lt;img src=&quot;http://farm7.staticflickr.com/6021/5947760252_bd131497ed_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;figure 3 style for additional data, appendix &lt;img src=&quot;http://farm7.staticflickr.com/6013/5947755880_cd8c1a744f_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;figure 4 style for additional data, appendix &lt;img src=&quot;http://farm7.staticflickr.com/6012/5947755326_4974335801_o.png&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday - back to Warning Signals MS</title>
	 <link href="/2011/07/17/saturday-back-to-warning-signals-ms.html"/>
   <updated>2011-07-17T10:59:43+00:00</updated>
   <id>/07/17/saturday-back-to-warning-signals-ms</id>
   <content type="html">&lt;h4 id=&quot;new-outline&quot;&gt;New outline&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt; “An increasing recognition”&lt;/li&gt;
&lt;li&gt;  “proof-of-principle” - reliability is unknown&lt;/li&gt;
&lt;li&gt;  “Cries wolf”&lt;/li&gt;
&lt;li&gt;  ROC, Fig 1&lt;/li&gt;
&lt;li&gt;  tau&lt;/li&gt;
&lt;li&gt;  method&lt;/li&gt;
&lt;li&gt;  data, Fig 2&lt;/li&gt;
&lt;li&gt;  analysis, Fig 3&lt;/li&gt;
&lt;li&gt;  enough data Fig 4&lt;/li&gt;
&lt;li&gt;  disclaimer&lt;/li&gt;
&lt;li&gt;  conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;former-outline&quot;&gt;Former Outline&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Early Warning matter, no-one does statistics&lt;/li&gt;
&lt;li&gt;We need quantify uncertainty stats&lt;/li&gt;
&lt;li&gt;ROC curve shows this trade-off&lt;/li&gt;
&lt;li&gt;ROC also compares different methods &amp;amp; data sizes (i.e. Fig 4)&lt;/li&gt;
&lt;li&gt;Quantifying “increasing variance” etc — we’ll use tau&lt;/li&gt;
&lt;li&gt;We’ll also do a likelihood-based method&lt;/li&gt;
&lt;li&gt;Introduce the datasets&lt;/li&gt;
&lt;li&gt;ROC curves on the data, Fig 3&lt;/li&gt;
&lt;li&gt;Quantifying data necessary, Fig 4&lt;/li&gt;
&lt;li&gt;Disclaimers: Not completely general&lt;/li&gt;
&lt;li&gt;Conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(Marissa’s comments)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I struggled a bit with the flow in these three paragraphs. I see what you’re trying to do (go from&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;the idea of a trade-off, to&lt;/li&gt;
&lt;li&gt;what you’ll do, to&lt;/li&gt;
&lt;li&gt;how your ROC methods illustrates the trade-off, to&lt;/li&gt;
&lt;li&gt;how you’ll apply ROCs),&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;but I didn’t fully understand the trade-off and why you were talking about it so much in the first paragraph until the ROC illustration described in the second paragraph.&lt;/p&gt;
&lt;p&gt;Another approach might be to:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;have a paragraph about no one having quantified both reliability and sensitivity and their dependence on data quality, ending with the point that that’s the goal of this manuscript. This paragraph won’t mention anything about trade-offs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now introduce trade-offs with fig. 1: start a paragraph with a topic sentence like: “Our tool for quantifying reliability and sensitivity, receiver-operating characteristic (ROC) curves, also illustrates the trade-off between the two.”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;This sets you up to get into the details of (a) what ROC curves are and what they tell you, and then&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&quot;2&quot; type=&quot;a&quot;&gt;
&lt;li&gt;the why the trade-off happens and why it matters, using your ROC curves (which the reader now has the background to understand) to illustrate. - MB&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Implemented comments, mostly. Still mentions trade-off ahead before presenting ROC curve. Sent draft back to Alan.&lt;/p&gt;
&lt;h4 id=&quot;to-do&quot;&gt;To Do&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Figure revisions&lt;/li&gt;
&lt;li&gt;Appendix updates&lt;/li&gt;
&lt;li&gt;Caption revisions&lt;/li&gt;
&lt;li&gt;Flag points in supplementary text&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>The Case for Better Data Citation Practices?</title>
	 <link href="/2011/07/14/the-case-for-better-data-citation-practices.html"/>
   <updated>2011-07-14T09:34:31+00:00</updated>
   <id>/07/14/the-case-for-better-data-citation-practices</id>
   <content type="html">&lt;p&gt;An excellent question came up on ecoinformatics list today on data citation from Kyle Kwaiser at the Michigan Biological Station&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I am working with graduate students this summer to archive their work at our field station. I want to tell them to cite their datasets on their CV’s but I know this is not yet the norm.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Any general thoughts on how close we are to including datasets on CV’s? Can you suggest recent papers that argue (decisively) for this practice? Here are two relevant but slightly tangential examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reichman, O. J., M. B. Jones, and M. P. Schildhauer. 2011. “Challenges and Opportunities of Open Data in Ecology.” Science 331 (6018) (February): 703-705.&lt;/li&gt;
&lt;li&gt;Vision, Todd J. 2010. “Open Data and the Social Contract of Scientific Publishing.” BioScience 60 (5) (May): 330-331.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I gave a look over my Mendeley archives on the topic to come up with a few more. As this question seemed of interest to the FriendFeed groups ((yeah, so I was probably supposed to post this in G+, but not everyone can access that yet, right?)) I thought I’d take the liberty to share there. Unfortunately comments can’t be formatted, so I’m adding my list here. Tried to include the relevant quote from the article unless that would mean quoting the whole thing. Will try and polish a bit later.&lt;/p&gt;
&lt;h2 id=&quot;references-arguing-for-data-citation&quot;&gt;References arguing for Data Citation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Mons et al’s piece is essentially an argument for data citation (Mons &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Birney et al: “another would be to track the usage and citation of data sets using electronic systems similar to those used for traditional publications” and cite this in support: Sharing Data from Large-scale Biological Research Projects: A System of Tripartite Responsibility (Wellcome Trust, 2003); &lt;a href=&quot;www.wellcome.ac.uk/stellent/groups/%20corporatesite/@policy_communications/documents/%20web_document/wtd003207.pdf&quot;&gt;available here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;“Providing a secure but flexible cyberinfrastructure while promulgating best practices such as data citation and metadata reuse, will help build confidence in data sharing”(Tenopir &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Rod discusses data citation quite a bit in print (Page, 2010)&lt;/li&gt;
&lt;li&gt;“By ensuring that data remain curated at the source, and by showing the importance of data sharing to promote data citation and usage, we have grown past our original technology implementation and are ready to move into a long-term production environment that departs from the original model.”(Constable &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/li&gt;
&lt;li&gt;These three make mention of data citation, mostly in reference to increased citation rates of papers(MOORE &lt;em&gt;et. al.&lt;/em&gt; 2010),(Whitlock &lt;em&gt;et. al.&lt;/em&gt; 2010),(Whitlock, 2011)&lt;/li&gt;
&lt;li&gt;Mark Parson’s talk: http://ands.org.au/guides/data-citation-awareness.html&lt;/li&gt;
&lt;li&gt;Heather’s excellent &lt;a href=&quot;http://researchremix.wordpress.com/2011/05/17/resources-on-data-citation-principles/&quot;&gt;summary of resources&lt;/a&gt; on data citation principles&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vision T (2010). “Open Data And The Social Contract of Scientific Publishing.” &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 0006-3568, &lt;a href=&quot;http://dx.doi.org/10.1525/bio.2010.60.5.2&quot;&gt;http://dx.doi.org/10.1525/bio.2010.60.5.2&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mons B, van Haagen H, Chichester C, Hoen P, den Dunnen J, van Ommen G, van Mulligen E, Singh B, Hooft R, Roos M, Hammond J, Kiesel B, Giardine B, Velterop J, Groth P and Schultes E (2011). “The Value of Data.” &lt;em&gt;Nature Genetics&lt;/em&gt;, &lt;strong&gt;43&lt;/strong&gt;. ISSN 1061-4036, &lt;a href=&quot;http://dx.doi.org/10.1038/ng0411-281&quot;&gt;http://dx.doi.org/10.1038/ng0411-281&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unknown u (2009). “Prepublication Data Sharing.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/461168a&quot;&gt;http://dx.doi.org/10.1038/461168a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tenopir C, Allard S, Douglass K, Aydinoglu A, Wu L, Read E, Manoff M, Frame M and Neylon C (2011). “Data Sharing by Scientists: Practices And Perceptions.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0021101&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0021101&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Page R (2010). “Enhanced Display of Scientific Articles Using Extended Metadata.” &lt;em&gt;Web Semantics: Science, Services And Agents on The World Wide Web&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 15708268, &lt;a href=&quot;http://dx.doi.org/10.1016/j.websem.2010.03.004&quot;&gt;http://dx.doi.org/10.1016/j.websem.2010.03.004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Constable H, Guralnick R, Wieczorek J, Spencer C and Peterson A (2010). “Vertnet: A New Model For Biodiversity Data Sharing.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000309&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1000309&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MOORE A, Mcpeek M, RAUSHER M, RIESEBERG L and WHITLOCK M (2010). “The Need For Archiving Data in Evolutionary Biology.” &lt;em&gt;Journal of Evolutionary Biology&lt;/em&gt;, &lt;strong&gt;23&lt;/strong&gt;. ISSN 1010061X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&quot;&gt;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M, McPeek M, Rausher M, Rieseberg L and Moore A (2010). “Data Archiving.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;175&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/650340&quot;&gt;http://dx.doi.org/10.1086/650340&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M (2011). “Data Archiving in Ecology And Evolution: Best Practices.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.11.006&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.11.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>UC Davis Student Assembled Panel on Data Management Issues</title>
	 <link href="/2011/07/13/uc-davis-student-assembled-panel-on-data-management-issues.html"/>
   <updated>2011-07-13T17:47:41+00:00</updated>
   <id>/07/13/uc-davis-student-assembled-panel-on-data-management-issues</id>
   <content type="html">&lt;h2 id=&quot;panel-members&quot;&gt;Panel Members&lt;/h2&gt;
&lt;p&gt;(listed left to right)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.plantsciences.ucdavis.edu/gepts/geptslab.htm&quot;&gt;Paul Gepts&lt;/a&gt;: UC Davis Professor of Plant Science: evolution of plants on domestication.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.law.ucdavis.edu/faculty/Biagioli/&quot;&gt;Mario Biagioli&lt;/a&gt;: Professor of Law in Science and Technology, Director of Science and Innovation, formerly Professor of History of Science at Harvard; written extensively on the role of secrecy in science.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://dot.ucop.edu/home/jak/biography.html&quot;&gt;John Kunze&lt;/a&gt;: Preservation Technologist and Ass. Director of California Digital Library.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phoebeayers.info/&quot;&gt;Phoebe Ayers&lt;/a&gt;: UC Davis Librarian, Wikimedia Foundation Board of Trustees.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://entomology.ucdavis.edu/faculty/facpage.cfm?id=carey&quot;&gt;James Carey&lt;/a&gt;, Professor of Entomology and Program Director at National Institute on Aging.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.innovationaccess.ucdavis.edu/home.cfm?id=ovc,23,1728,1735,1740&quot;&gt;David McGee&lt;/a&gt;: UC Davis Executive Director of Innovation Access, Technology Transfer.  Previous co-founder of two biotechs, Ph.D. in Mol. Genetics.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’d like to highlight that this panel was assembled and moderated by graduate students, where it was featured as part of the campus-wide graduate student research symposium. The changing requirements have a much more apparent impact on faculty writing grants and charged with the overall management of a project than they do on students. Yet here are the students bringing together librarians, digital data archiving specialists, technology transfer directors, and professors of law, and the faculty that have been at the forefront of these issues – to talk about the issues in such a community forum.&lt;/p&gt;
&lt;p&gt;Nearly every discussion of these issues have raised the need to address social and cultural challenges to data sharing (&lt;em&gt;e.g.&lt;/em&gt; (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011), (Tenopir &lt;em&gt;et. al.&lt;/em&gt; 2011)). Forums such of these offer an excellent chance to start addressing these issues head-on. I hope other universities will hold similar panels with their local experts to carry these discussions forward. This video recording is archived on &lt;a href=&quot;http://uctv.tv&quot;&gt;uctv&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tenopir C, Allard S, Douglass K, Aydinoglu A, Wu L, Read E, Manoff M, Frame M and Neylon C (2011). “Data Sharing by Scientists: Practices And Perceptions.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0021101&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0021101&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>141 scientists can't be wrong?</title>
	 <link href="/2011/07/08/141-scientists-cant-be-wrong.html"/>
   <updated>2011-07-08T13:18:10+00:00</updated>
   <id>/07/08/141-scientists-cant-be-wrong</id>
   <content type="html">&lt;p&gt;Turning the author-list into a petition is becoming an almost familiar ruse in the table of contents of journals such as Nature (Simberloff, 2011), (Abbot &lt;em&gt;et. al.&lt;/em&gt; 2011). This as prompted some rather provocative commentary on whether we have begun conducting scientific debates as popularity contests rather than arguments of evidence and logic (see David Sloan Wilson on inclusive fitness theory &lt;a href=&quot;http://scienceblogs.com/evolution/2011/03/139_co-authors_cant_be_wrong--.php&quot;&gt;137 scientists can’t be wrong&lt;/a&gt;, or Chris on invasive species on &lt;a href=&quot;https://listserv.umd.edu/cgi-bin/wa?A2=ind1107a&amp;amp;L=ecolog-l&amp;amp;P=4347&quot;&gt;ecolog&lt;/a&gt;. As much as this appeals to the inner scientist, the response from the other side can be quite persuasive: this particular discussion is a political one, not a scientific debate, and while excellent scientific work on the topic continues, it’s important the message policymakers will see is representative (i.e., to paraphrase &lt;a href=&quot;https://listserv.umd.edu/cgi-bin/wa?A2=ind1107a&amp;amp;L=ecolog-l&amp;amp;P=4764&quot;&gt;David Duffy&lt;/a&gt;’s reply).&lt;/p&gt;
&lt;p&gt;Why is it then that we organize petitions with such illustrious lists of authors for ostensibly political reasons to publish them in our primary scientific literature? Did this troupe of 141 also append their names to letter to their policymakers?&lt;/p&gt;
&lt;p&gt;It is not so much the individual willingness of scientists to engage policy-relevant questions outside of scientific forums that I mean to raise – a look at the activities of many of the individuals can easily convince one otherwise. And it is certainly not a critique of a predilection for academic debate void of policy relevance – to say so would not only ignore the essential value of basic science but miss this invasive-species topic entirely, with its obvious desire for policy relevance. It is the ability to &lt;em&gt;organize&lt;/em&gt; as a group that I would place emphasis on. As David’s comments make clear, we certainly recognize the political relevance not only of the work but of a long list of established scientists supporting it, even if we don’t view such a list as relevant to the scientific content of the argument.&lt;/p&gt;
&lt;p&gt;Why is it that I feel it we are much better at assembling such an illustrious author list when we identify a misguided paper in a high profile journal than when we identify a misguided bill in congress?&lt;/p&gt;
&lt;p&gt;Simberloff, D. et al. (2011). Non-natives: 141 scientists object Nature, 475 (7354), 36-36 DOI: &lt;a href=&quot;http://dx.doi.org/10.1038/475036a&quot;&gt;10.1038/475036a&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simberloff D (2011). “Non-Natives: 141 Scientists Object.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;475&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/475036a&quot;&gt;http://dx.doi.org/10.1038/475036a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Abbot P, Abe J, Alcock J, Alizon S, Alpedrinha J, Andersson M, Andre J, van Baalen M, Balloux F, Balshine S, Barton N, Beukeboom L, Biernaskie J, Bilde T, Borgia G, Breed M, Brown S, Bshary R, Buckling A, Burley N, Burton-Chellew M, Cant M, Chapuisat M, Charnov E, Clutton-Brock T, Cockburn A, Cole B, Colegrave N, Cosmides L, Couzin I, Coyne J, Creel S, Crespi B, Curry R, Dall S, Day T, Dickinson J, Dugatkin L, Mouden C, Emlen S, Evans J, Ferriere R, Field J, Foitzik S, Foster K, Foster W, Fox C, Gadau J, Gandon S, Gardner A, Gardner M, Getty T, Goodisman M, Grafen A, Grosberg R, Grozinger C, Gouyon P, Gwynne D, Harvey P, Hatchwell B, Heinze J, Helantera H, Helms K, Hill K, Jiricny N, Johnstone R, Kacelnik A, Kiers E, Kokko H, Komdeur J, Korb J, Kronauer D, Kümmerli R, Lehmann L, Linksvayer T, Lion S, Lyon B, Marshall J, McElreath R, Michalakis Y, Michod R, Mock D, Monnin T, Montgomerie R, Moore A, Mueller U, Noë R, Okasha S, Pamilo P, Parker G, Pedersen J, Pen I, Pfennig D, Queller D, Rankin D, Reece S, Reeve H, Reuter M, Roberts G, Robson S, Roze D, Rousset F, Rueppell O, Sachs J, Santorelli L, Schmid-Hempel P, Schwarz M, Scott-Phillips T, Shellmann-Sherman J, Sherman P, Shuker D, Smith J, Spagna J, Strassmann B, Suarez A, Sundström L, Taborsky M, Taylor P, Thompson G, Tooby J, Tsutsui N, Tsuji K, Turillazzi S, Úbeda F, Vargo E, Voelkl B, Wenseleers T, West S, West-Eberhard M, Westneat D, Wiernasz D, Wild G, Wrangham R, Young A, Zeh D, Zeh J and Zink A (2011). “Inclusive Fitness Theory And Eusociality.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;471&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09831&quot;&gt;http://dx.doi.org/10.1038/nature09831&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: writing post-doc applications</title>
	 <link href="/2011/07/08/friday-writing-post-doc-applications.html"/>
   <updated>2011-07-08T11:17:06+00:00</updated>
   <id>/07/08/friday-writing-post-doc-applications</id>
   <content type="html">&lt;p&gt;Today looks like mostly writing post-doc applications, research statements etc. Planning to finish in a year, amazing how many of these are due quite soon. Somehow this reflective process prompted me to take a look at how Google sees me; through the lens of search terms landing on my website. Here they are from the past month, in wordle form:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5116/5915718057_24c2c1246c_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: sending off paper draft, starting applications</title>
	 <link href="/2011/07/07/thursday-8.html"/>
   <updated>2011-07-07T19:48:32+00:00</updated>
   <id>/07/07/thursday-8</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add re-sampling blurb to appendix. Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Read over manuscript &amp;amp; send to Marissa and Marcel. Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now to spend today working on fellowship applications: research statement and proposal…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;appendix-edits&quot;&gt;Appendix edits&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add distributions to the appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show where where the data actually fall in the distribution, as would be used in traditional hypothesis testing framework.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add extra examples to the appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider multiples of sampling effort rather than sampling length for Figures 3 &amp;amp; 4&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add stable system ROC curves to Figures 3 and 4&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Segue: Easy cloud hpc in R, now with custom packages</title>
	 <link href="/2011/07/07/segue-easy-cloud-computing-in-r-now-with-custom-packages.html"/>
   <updated>2011-07-07T16:45:05+00:00</updated>
   <id>/07/07/segue-easy-cloud-computing-in-r-now-with-custom-packages</id>
   <content type="html">&lt;p&gt;After a few helpful emails from package creator JD Long, I have the segue package running with custom R packages. The package is &lt;a href=&quot;http://code.google.com/p/segue/source/checkout&quot;&gt;available&lt;/a&gt; on Google code. With two lines of code I can start submitting jobs to very large clusters of computers on the Amazon cloud. For a basic introduction to the package see Jeff Breen’s &lt;a href=&quot;http://jeffreybreen.wordpress.com/2011/01/10/segue-r-to-amazon-elastic-mapreduce-hadoop/&quot;&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Quick notes on updating using &lt;a href=&quot;http://mercurial.selenic.com/&quot;&gt;mercurial&lt;/a&gt;: Since I’ve already pulled the code using&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; &lt;span class=&quot;kw&quot;&gt;hg&lt;/span&gt; clone https://segue.googlecode.com/hg/ segue &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to clone the repo, I did&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;hg&lt;/span&gt; pull https://segue.googlecode.com/hg/ 
&lt;span class=&quot;kw&quot;&gt;hg&lt;/span&gt; update
&lt;span class=&quot;kw&quot;&gt;R&lt;/span&gt; CMD INSTALL .&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, ready to test the segue package. We will load the CRAN package (sde) which automatically loads dependencies as well, and my little custom &lt;a href=&quot;https://github.com/cboettig/mcmcTools&quot;&gt;mcmcTools&lt;/a&gt; package, which has no dependencies (these would have to be loaded manually).&lt;/p&gt;
&lt;p&gt;[gist id=1070581]&lt;/p&gt;
&lt;h3 id=&quot;a-few-notes&quot;&gt;a few notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Be sure to double-check the cluster has shut down on the Amazon web interface. Just exiting R doesn’t mean the cluster closed and they aren’t billing.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that on launch of the cluster instance we have to pass along all the rObjects we want to have access to on the cluster using the rObjectsOnNodes option in a named list. Failing to do so tripped me up earlier&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that emrlapply wants a list argument,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;as.list&lt;/span&gt;(1:2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;not a numeric vector,&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;1&lt;/span&gt;:2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Earlier this morning, none of this was possible. JD Long is a genius, and a fast-working one at that. First he added the support for cran packages, and then for custom packages. A few notes: package dependencies must be loaded explicitly. Be patient with the instance start-up, mine took 11 minutes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; post updated 2011-07-08 to reflect JD’s suggestion to use rObjectsOnNodes. now all is working well. Maybe also a thank-you to &lt;a href=&quot;https://plus.google.com/&quot;&gt;Google+&lt;/a&gt; for facilitating the last bit o troubleshooting.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Early warning signals presentation notes</title>
	 <link href="/2011/07/07/early-warning-signals-presentation-notes.html"/>
   <updated>2011-07-07T16:40:06+00:00</updated>
   <id>/07/07/early-warning-signals-presentation-notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;motivate story of fisheries management.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Step advance a time series of fluctuations. Shows a gradual decline and eventually sudden crash. Predict when we crash?&lt;/li&gt;
&lt;li&gt;Introduce indicators. Advance a different time series, this time displaying summary statistics as we go. Have audience make prediction whether next step will be collapse.&lt;/li&gt;
&lt;li&gt;Present summary statistics with uncertainty included. (color code confidence?)&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Exact Simulation by the Gillespie Algorithm</title>
	 <link href="/2011/07/06/exact-simulation-by-the-gillespie-algorithm.html"/>
   <updated>2011-07-06T18:00:58+00:00</updated>
   <id>/07/06/exact-simulation-by-the-gillespie-algorithm</id>
   <content type="html">&lt;p&gt;The Gillespie algorithm has two parts: (1) determine what event happens, (2) determine when it happens. Consider the system of equations &lt;span class=&quot;math&quot;&gt;\[ \dot X_i = f_i(\vec X) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where the &lt;span class=&quot;math&quot;&gt;\(f_i\)&lt;/span&gt; give the rates of creation and annihilation (negative and postive parts of &lt;span class=&quot;math&quot;&gt;\(f_i(\vec X)\)&lt;/span&gt; must be listed seperately) for all species &lt;span class=&quot;math&quot;&gt;\(x_i\)&lt;/span&gt;. We assume this gives the mean rate at which each event occurs, drawn from on exponential distribution. We could simply draw the associated random exponential time for each reaction, and pick the minimum for which event occurs. Instead, we use an equivalent method where we only have to draw a single, uniform random number to pick the event, and another uniform random number to compute the time until the next event. The method is outlined below.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Create a vector &lt;span class=&quot;math&quot;&gt;\(\vec C\)&lt;/span&gt; that is the cumulative sum of these rates,&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ C_i = \sum_{j=1}^i f_j(\vec X) \]&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Normalize this vector by dividing by the sum of all the rates, &lt;span class=&quot;math&quot;&gt;\(\sum_i f_i(\vec X)\)&lt;/span&gt;, so that its components range from &lt;span class=&quot;math&quot;&gt;\((0,1]\)&lt;/span&gt; with the value of the last component equal to one.&lt;/li&gt;
&lt;li&gt;Draw a uniform random number between 0 and 1 and find the smallest component of &lt;span class=&quot;math&quot;&gt;\(\vec C\)&lt;/span&gt; bigger than that random number. The index &lt;em&gt;i&lt;/em&gt; of that component indicates which event occurs.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;The time at which it occurs is simply an exponential random number whose mean rate is the sum of the individual rates. The best way to draw a random exponential with mean rate &lt;span class=&quot;math&quot;&gt;\(\lambda\)&lt;/span&gt; is&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ -\ln( r )/\lambda \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;\(r\)&lt;/span&gt; is random number between 0 and 1, and advance the time counter by this interval.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: Data wrangling into graphs</title>
	 <link href="/2011/07/06/wednesday-6.html"/>
   <updated>2011-07-06T14:34:37+00:00</updated>
   <id>/07/06/wednesday-6</id>
   <content type="html">&lt;p&gt;Really high sampling runs (20000 pts) still don’t seem to show any improvement in deut3 dataset summary statistics, perhaps it is the window size. testing by launching deut_replot.R, n5 on zero, 500, 1000, 2000 on a fixed windowsize of 60, see how it compares to the half window. probably because is such a weak signal.&lt;/p&gt;
&lt;p&gt;running drake tau sampling with corrected (1/2 length) windowsizes. – destroys any improvement in indicators:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/5908726595_8376e214be_o.png&quot; alt=&quot;1/2 windows&quot; /&gt;&lt;figcaption&gt;1/2 windows&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/5909121163_da83a028c3_o.png&quot; alt=&quot;attempt to fix at size 8 windows that fails to get the right window do to a bug (wasn’t passed down from bootstrap_tau, just found and fixed).&quot; /&gt;&lt;figcaption&gt;attempt to fix at size 8 windows that fails to get the right window do to a bug (wasn’t passed down from bootstrap_tau, just found and fixed).&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5277/5890100915_806042b402_o.png&quot; alt=&quot;always size-8 windows performs better.&quot; /&gt;&lt;figcaption&gt;always size-8 windows performs better.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6038/5909491217_d2d636ac62_o.png&quot; alt=&quot;Now show tiny improvement by using smaller window (20) on the 500 timeseries for deut3,&quot; /&gt;&lt;figcaption&gt;Now show tiny improvement by using smaller window (20) on the 500 timeseries for deut3,&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6044/5909967654_5f2e8dce9d_o.png&quot; alt=&quot;and using the smaller window (8) on the 500 timeseries for drake:&quot; /&gt;&lt;figcaption&gt;and using the smaller window (8) on the 500 timeseries for drake:&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Exploring the impact of windowsize on deut3 data now (5, 10, 25, 50 size on 500 pts, see &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/6ada6a0822be7251fd7da545e6f19b99df382f92/demo/replot.R&quot;&gt;code&lt;/a&gt;):&lt;/p&gt;
&lt;p&gt;check machine &lt;a href=&quot;http://cccc.caes.ucdavis.edu/status&quot;&gt;status live&lt;/a&gt;. For completed outputs from yesterday: running corrected windowing, and uploading from farm:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6057/5910201956_157457c837_o.png&quot; alt=&quot;Daphnia H6 with LTC done running on c0-8&quot; /&gt;&lt;figcaption&gt;Daphnia H6 with LTC done running on c0-8&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6039/5910221132_34d0be2c29_o.png&quot; alt=&quot;deut1 done running on c0-6&quot; /&gt;&lt;figcaption&gt;deut1 done running on c0-6&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6001/5910169898_f8206f1d35_o.png&quot; alt=&quot;caco3 on c0-2 done:&quot; /&gt;&lt;figcaption&gt;caco3 on c0-2 done:&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Daphnia I9 with LTC still running on C0-23&lt;/li&gt;
&lt;li&gt;Writing code to assemble manuscript figures. Preliminary Figures 3 &amp;amp; 4 finally done. Probably need to add stable system still.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6016/5910645036_17f54da2d8_z.jpg&quot; alt=&quot;Figure 3&quot; /&gt;&lt;figcaption&gt;Figure 3&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5119/5910082619_e996c8f51f_z.jpg&quot; alt=&quot;Figure 4&quot; /&gt;&lt;figcaption&gt;Figure 4&lt;/figcaption&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Warning Signals Data Wrangling</title>
	 <link href="/2011/07/05/tuesday-6.html"/>
   <updated>2011-07-05T17:45:53+00:00</updated>
   <id>/07/05/tuesday-6</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Revise abstract. 10a-11a. done.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-data-handling&quot;&gt;Misc data handling&lt;/h2&gt;
&lt;p&gt;11-1pm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wrote a file to fix flickr data file names that are occasionally mangled by parallel loop printing.&lt;/li&gt;
&lt;li&gt;wrote a file to plot &lt;span class=&quot;math&quot;&gt;\(m T\)&lt;/span&gt; values on each dataset to get a sense of which have the most dramatic warning signals. running on one.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6047/5906246040_f65e971841_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;locale troubles on install lead to errors in data read&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;Error&lt;/span&gt; in make.names(col.names, unique = TRUE) &lt;span class=&quot;kw&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;invalid&lt;/span&gt; multibyte string 2
&lt;span class=&quot;kw&quot;&gt;ERROR&lt;/span&gt;: installing package indices failed&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;fixed by running in terminal or adding to .bashrc:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;LANG=&lt;/span&gt;C&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;and now my site is down. shoot.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-wrangling&quot;&gt;Data wrangling:&lt;/h2&gt;
&lt;h4 id=&quot;ibm-critical&quot;&gt;ibm critical&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Ind. based model, deteriorating stability.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5232/5895991499_bd8fd0375d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Data simulated with demo/ibm_sims.R, datafile stored in data/ibms.rda. Not handling seeds at the moment so individual simulations will differ. Instead, storing consistent data files from the simulations&lt;/li&gt;
&lt;li&gt;Complete runs at original sampling and resampled at 25, 50, 100, 200, 500 datapoints for all summary statistics and likelihood.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;daphnia-h6&quot;&gt;Daphnia H6&lt;/h4&gt;
&lt;p&gt;H6 Daphnia dataset from data/drake.rda, drake_deterior$H6 dataset.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5035/5890668068_d596f2ffc9_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Complete runs at original sampling and resampled at 25, 50, 100, 200, 500 datapoints for all summary statistics and likelihood.&lt;/p&gt;
&lt;p&gt;Run using LSN model, should be rerun using LTC model. Now running on c0-8.&lt;/p&gt;
&lt;p&gt;Strongest signal is from the I9 dataset:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5280/5906008839_0b57cd2edb_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;      G10.m         G6.m         G7.m         G8.m         G9.m        H10.m 
  -&lt;span class=&quot;fl&quot;&gt;1.1013887&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.9141734&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.8813874&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.3885321&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.0958326&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;1.5147485&lt;/span&gt; 
        H6.m         H8.m        I10.m         I6.m         I7.m         I8.m 
  -&lt;span class=&quot;fl&quot;&gt;3.0649959&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.5079393&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.5239186&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;2.5343564&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.9253477&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;3.4916514&lt;/span&gt; 
        I9.m        J10.m         J6.m         J7.m         J8.m         J9.m 
-&lt;span class=&quot;fl&quot;&gt;225.4806438&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.2427629&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.1574219&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;4.6880847&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.8195433&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;1.0447987&lt;/span&gt; 
        K6.m         K7.m         K8.m         K9.m        L10.m         L6.m 
   &lt;span class=&quot;fl&quot;&gt;0.1488124&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.6807473&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.7837302&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.8710619&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.0900158&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.2059365&lt;/span&gt; 
        L7.m         L8.m         L9.m        H72.m        H92.m       K102.m 
   &lt;span class=&quot;fl&quot;&gt;0.4682649&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.3032260&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.7171783&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.1463689&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.1516157&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.9654239&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;trying the I9 dataset on c0-23&lt;/p&gt;
&lt;h4 id=&quot;deut3&quot;&gt;Deut3&lt;/h4&gt;
&lt;p&gt;Deterium levels from Glaciation III Original data run on all indicators:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6013/5904550426_4477bc6ab6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Sampling at 25,50,100,200,500 run for the likelihood approach (in same datafile as original runs). Need to debug runs on the indicator statistics.&lt;/p&gt;
&lt;p&gt;Sampling at fractional percentages for likelihood also available: &lt;img src=&quot;http://farm7.staticflickr.com/6033/5882379649_27b6c9f59f_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;ibm-stable&quot;&gt;ibm stable&lt;/h4&gt;
&lt;p&gt;Not run yet. Consider estimating with bounded &lt;span class=&quot;math&quot;&gt;\(m&amp;lt;0\)&lt;/span&gt; for destabilizing test only.&lt;/p&gt;
&lt;h4 id=&quot;deut1&quot;&gt;Deut1&lt;/h4&gt;
&lt;p&gt;Deuterium levels from Glaciation I, data/deuterium.rda, deuterium[[1]] dataset. Original dataset on all indicators:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5279/5888212714_dcd7575fec_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;nearby also some sampling at different efforts for likelihood method.&lt;/p&gt;
&lt;p&gt;Potential alternate datasets:&lt;/p&gt;
&lt;h4 id=&quot;caco3&quot;&gt;CaCO3&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;very preliminary analysis:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3113/5864510263_5c1cb8c1ed_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Running at sampling levels 25,50,100,200,500 on c0-2.farm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-trouble-shooting&quot;&gt;Data trouble-shooting&lt;/h2&gt;
&lt;p&gt;Discovered window was not being adjusted during the increased sampling comparisons for the summary statistics. (threw an error when full time length was less than the windowsize (half the length of the original data).&lt;/p&gt;
&lt;p&gt;Could have potentially significant impact on results. Now fixed, though needs testing to make sure it is using the correct windowsize each time. Rerunning code looks not to make a difference: i.e. for the ibm model summary stats show improvement with increased sampling in this range, while in the deut example they do not. Not surprising, as earlier examples (pre-correction) needed substantially higher multiples (10, 20 times the original data length, already in 100s) to show improvement.&lt;/p&gt;
&lt;p&gt;Time series up to 2000 still show no sign of improvement for other statistics: &lt;img src=&quot;http://farm6.staticflickr.com/5240/5907097898_2b0a91f028_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;maybe going to have to go back to multiplication factor rather than fixed number. Now running at up to 20,000 pts (deut_replot.R, zero, n5). also now running different windowsizes explicitly as part of test in deut_analysis.R (zero, n10).&lt;/p&gt;
&lt;h2 id=&quot;get-preliminary-figures&quot;&gt;Get preliminary figures&lt;/h2&gt;
&lt;p&gt;send main text to Marissa, Marcel for comments&lt;/p&gt;
&lt;h2 id=&quot;revise-appendix&quot;&gt;Revise Appendix&lt;/h2&gt;
&lt;h2 id=&quot;notebook&quot;&gt;Notebook&lt;/h2&gt;
&lt;p&gt;post pending drafts.&lt;/p&gt;
&lt;h2 id=&quot;code-vignette-and-cleanup&quot;&gt;Code vignette and cleanup&lt;/h2&gt;
&lt;p&gt;Postponed till later&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Open F1000 reviews?</title>
	 <link href="/2011/07/04/open-f1000-reviews.html"/>
   <updated>2011-07-04T22:53:43+00:00</updated>
   <id>/07/04/open-f1000-reviews</id>
   <content type="html">&lt;p&gt;Sebastian has started &lt;a href=&quot;http://www.eve.ucdavis.edu/sschreiber/reviews.shtml&quot;&gt;posting article reviews&lt;/a&gt; on his website, and invites us (Teary - our theoretical ecology tea mailing list) to do likewise.  He uses a rather nifty &lt;a href=&quot;http://jabref.sourceforge.net/&quot;&gt;Jabref&lt;/a&gt; converter to display the reviews created as bibtex entries, using the format indicated below.&lt;/p&gt;
&lt;p&gt;These reviews are cross-posted from the reviews he (and associates) submit to &lt;a href=&quot;http://f1000.com/&quot;&gt;Faculty of 1000&lt;/a&gt;, a commercial, subscription-based service.  While this gives F1000 some publicity directly from his own site, it also means individuals can access these reviews freely.  Of course as the author of the reviews, he can share them as he chooses, while by giving the reviews a wider readership they can also be of more value/impact to the community.  Probably not what F1000 had in mind though.  Feel free to share thoughts on this practice in the comments below.&lt;/p&gt;
&lt;p&gt;I wonder what might be done if this practice became more common, and how easy it would be to create a simple aggregator of such content, together with information about the reviewer.  This of course has some similarities with &lt;a href=&quot;http://www.researchblogging.org/&quot;&gt;ResearchBlogging.org&lt;/a&gt;, but with a different flavor following the more prescribed format of F1000 together with a rating.  Of course the reality of online discussion of research is far more diverse than any such convention, making general aggregation difficult.&lt;/p&gt;
&lt;p&gt;What might be more intriguing is if (when?) any of these start making wider use of &lt;a href=&quot;http://opencitations.wordpress.com/2011/07/01/jisc-open-citations-project-%e2%80%93-final-project-blog-post/&quot;&gt;semantic markup&lt;/a&gt; tools that would make them easier to discover, parse, and aggregate.&lt;/p&gt;
&lt;p&gt;[gist id=1064069]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals writing, organization, appendices</title>
	 <link href="/2011/07/04/warning-signals-writing-organization-appendices.html"/>
   <updated>2011-07-04T19:03:32+00:00</updated>
   <id>/07/04/warning-signals-writing-organization-appendices</id>
   <content type="html">&lt;h2 id=&quot;main-text&quot;&gt;main text&lt;/h2&gt;
&lt;p&gt;Summary Sentence. Abstract&lt;/p&gt;
&lt;h4 id=&quot;paragraphs&quot;&gt;Paragraphs&lt;/h4&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Early Warning matter, no-one does statistics&lt;/li&gt;
&lt;li&gt;We need quantify uncertainty stats&lt;/li&gt;
&lt;li&gt;ROC curve shows this trade-off&lt;/li&gt;
&lt;li&gt;ROC also compares different methods &amp;amp; data sizes (i.e. Fig 4)&lt;/li&gt;
&lt;li&gt;Quantifying “increasing variance” etc – we’ll use tau&lt;/li&gt;
&lt;li&gt;We’ll also do a likelihood-based method&lt;/li&gt;
&lt;li&gt;Introduce the datasets&lt;/li&gt;
&lt;li&gt;ROC curves on the data, Fig 3&lt;/li&gt;
&lt;li&gt;Quantifying data necessary, Fig 4&lt;/li&gt;
&lt;li&gt;Disclaimers: Not completely general&lt;/li&gt;
&lt;li&gt;Conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;supporting-online-material&quot;&gt;Supporting Online Material&lt;/h2&gt;
&lt;p&gt;Original Appendix had:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Data&lt;/li&gt;
&lt;li&gt;Averaging over ensembles vs averaging over time (cut?)&lt;/li&gt;
&lt;li&gt;Error Types (cut)&lt;/li&gt;
&lt;li&gt;Model Derivations (edits)&lt;/li&gt;
&lt;li&gt;Likelihood calculations (edited, more notes on derivations)&lt;/li&gt;
&lt;li&gt;The likelihood statistic&lt;/li&gt;
&lt;li&gt;A note on information criteria (cut)&lt;/li&gt;
&lt;li&gt;Parameter distributions&lt;/li&gt;
&lt;li&gt;Model choice &amp;amp; model adequacy&lt;/li&gt;
&lt;li&gt;Package Tutorial&lt;/li&gt;
&lt;li&gt;Examples&lt;/li&gt;
&lt;li&gt;Comparisons to skew&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;software-package&quot;&gt;Software Package&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday, warning signals writing, etc</title>
	 <link href="/2011/07/01/friday-warning-signals-writing-etc.html"/>
   <updated>2011-07-01T17:57:59+00:00</updated>
   <id>/07/01/friday-warning-signals-writing-etc</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;9-10a email, etc&lt;/li&gt;
&lt;li&gt;10 am check simulations: Daphnia examples (Drake data) runs done. A few examples, see neighboring plots in image database for the corresponding distributions and further examples. Runtime of this code (click images for script) about 10 hours on 16 cores on zero.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5277/5890100915_806042b402_o.png&quot; alt=&quot;200 sample points&quot; /&gt;&lt;figcaption&gt;200 sample points&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5316/5890100389_a5d5a1b852_o.png&quot; alt=&quot;50 sample points&quot; /&gt;&lt;figcaption&gt;50 sample points&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5034/5890100139_60b8246f09_o.png&quot; alt=&quot;25 sample points&quot; /&gt;&lt;figcaption&gt;25 sample points&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;launched ibm_analysis.R on zero, n10.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Writing writing… first full text draft done.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Trying to get started on the centos cluster, some trouble submitting job to queue, see email discussion with Bill. Initial config went fine:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copy ~/.ssh/ over for git access&lt;/li&gt;
&lt;li&gt;Copy .flickrrc over for flickr upload access&lt;/li&gt;
&lt;li&gt;Copy .bashrc, .inputrc over&lt;/li&gt;
&lt;li&gt;Copy ~/bin/ over for hpc-autotweets&lt;/li&gt;
&lt;li&gt;export PYTHONPATH=~/bin/ (or add to .bashrc)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;easy_install -d ~/bin/ tweepy&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: Warning Signals writing, figures, segue</title>
	 <link href="/2011/06/30/thursday-7.html"/>
   <updated>2011-06-30T10:13:52+00:00</updated>
   <id>/06/30/thursday-7</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h2&gt;
&lt;h4 id=&quot;figure-1-introducing-the-roc-curve&quot;&gt;Figure 1: Introducing the ROC Curve&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5240/5885802303_0816eff9e8_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;figure-2-standard-approach&quot;&gt;Figure 2: Standard approach&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5278/5891714401_5499f8e1cc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;figure-3-roc-curves-corresponding-to-standard-approach&quot;&gt;Figure 3: ROC curves corresponding to standard approach&lt;/h4&gt;
&lt;p&gt;Do we show the distributions? – Create for each, but log in appendix&lt;/p&gt;
&lt;p&gt;ROC curves corresponding to increased sampling – our method, other stats? organize how?&lt;/p&gt;
&lt;h2 id=&quot;computational-runs&quot;&gt;Computational Runs&lt;/h2&gt;
&lt;p&gt;Running at constant sample points rather than sample effort.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On eleven:  n5&lt;a href=&quot;https://github.com/cboettig/warningsignals/commit/6a140413693dade6c6b7d839351be97969bc520f#diff-4&quot;&gt;ibm_stable.R&lt;/a&gt; 6pm&lt;/li&gt;
&lt;li&gt;On zero, n10 &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/67a70ea731e44c6bc9184ef48a74eced9a23d22a/demo/drake_analysis.R&quot;&gt;drake_analysis.R&lt;/a&gt; 6pm&lt;/li&gt;
&lt;li&gt;On zero, n19 &lt;a href=&quot;https://github.com/cboettig/warningsignals/commit/6a140413693dade6c6b7d839351be97969bc520f#diff-2&quot;&gt;deut_analysis.R&lt;/a&gt; 6pm (deut 3)&lt;/li&gt;
&lt;li&gt;on one, n19 &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/8e9cb618a12aa45d4dfc534995bbb84270a56356/demo/deut_analysis.R&quot;&gt;deut_analysis.R&lt;/a&gt; 6:10pm (deut 1)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;segue-amazon-cloud-through-a-local-r-session&quot;&gt;Segue: Amazon cloud through a local R session&lt;/h2&gt;
&lt;p&gt;Rather computationally limited at the moment.  Tried &lt;a href=&quot;http://code.google.com/p/segue/&quot;&gt;Segue&lt;/a&gt; but don’t seem to be able to run custom functions:&lt;/p&gt;
&lt;p&gt;[gist id=1059002]&lt;/p&gt;
&lt;p&gt;On to plan B: requesting time on the &lt;a href=&quot;http://cccc.caes.ucdavis.edu/&quot;&gt;caes cluster&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals: summary statistic performance at varying sampling effort</title>
	 <link href="/2011/06/29/warning-signals-summary-statistic-performance-at-varying-sampling-effort.html"/>
   <updated>2011-06-29T22:08:01+00:00</updated>
   <id>/06/29/warning-signals-summary-statistic-performance-at-varying-sampling-effort</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;oikos post&lt;/li&gt;
&lt;li&gt;launch case of increased sampling on sim data for autocorrelation&lt;/li&gt;
&lt;li&gt;(is our approach more robust to model differences?)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ibm-data-example&quot;&gt;IBM data Example&lt;/h2&gt;
&lt;p&gt;Using data from the individual-based model simulation of a system approaching a saddle-node.&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;While the initial example with variance shows almost no signal, increasing the sampling effort substantially improves the performance.  This can be seen in the ROC curves and as a tightening and spreading out of the null and test distributions as the sampling effort is increased.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5061/5886269969_d9fecfa77b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5158/5886270151_ddf0fd6c45_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The distributions corresponding to each of the ROC curves above, in order of increasing sampling effort.  The original simulation had 40 data points. The coefficient of variation essentially matches the variance pattern.&lt;/p&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;autocorrelation&lt;/h3&gt;
&lt;p&gt;Autocorrelation requires substantially higher sampling before it becomes very effective at discriminating between the critical and stable cases.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5312/5886270427_c95b6dd420_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5263/5886270603_ac9dc593b3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;Skew does not appear to be a useful indicator. This is probably a consequence of the low-order models on which the inference is actually based, since accurately estimating a higher-order model in the first place would be problematic.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5886270909_3d145b3522_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5080/5886837244_69fb0de8b7_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals writing</title>
	 <link href="/2011/06/29/warning-signals-writing.html"/>
   <updated>2011-06-29T18:35:18+00:00</updated>
   <id>/06/29/warning-signals-writing</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting:&lt;/h2&gt;
&lt;p&gt;Discussed yesterday’s possible representations, post-doc considerations.&lt;/p&gt;
&lt;h3 id=&quot;misc-reading&quot;&gt;Misc &amp;amp; Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Catching up on ToCs, now 13 papers to review&lt;/li&gt;
&lt;li&gt;Installing pilot &lt;a href=&quot;http://mx.phenomix.org/index.php/Installation&quot;&gt;mx database&lt;/a&gt; for comparative methods data&lt;/li&gt;
&lt;li&gt;accessible semantic web &lt;a href=&quot;http://www.webcentralstation.ca/2011/02/08/an-intro-to-the-semantic-web-why-you-need-to-know-about-it-sooner-than-later/&quot;&gt;introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Dean’s Lab &lt;a href=&quot;https://docs.google.com/document/d/19Ru320TL7BNbyRSxyxCHXuebVqFq86N0hgW1zqyYYes/edit?hl=en&amp;amp;authkey=CJu9tIAL&amp;amp;pli=1&quot;&gt;statement&lt;/a&gt; of mutual expectations: nice guide for things that are too rarely spelled out.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: Warning Signals Manuscript</title>
	 <link href="/2011/06/27/monday-warning-signals-manuscript.html"/>
   <updated>2011-06-27T12:33:21+00:00</updated>
   <id>/06/27/monday-warning-signals-manuscript</id>
   <content type="html">&lt;p&gt;Looking at ways to visually explain receiver-operator characteristic (ROC) curves. Should probably be done in a way that maps the curves to the points along the curve. May make a nice graphic but perhaps unnecessary.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6040/5879279744_ba81455daa_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Perhaps simpler to present as single panel &lt;img src=&quot;http://farm6.staticflickr.com/5116/5878717919_acf1970f31_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Integrating the test distribution to the left instead of the right gives the error rate (Type I/Type II errors, False Alarms/Missed Events):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5315/5878717465_56452ef801_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;analyses&quot;&gt;Analyses&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Maximization algorithm failing at initial conditions on deut2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Re-running deut1 and deut3 with more replicates and finer resolution on the effect of increased sampling.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Posted Evolution conference notes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still have to post ievobio notes.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>#ievobio Day 2</title>
	 <link href="/2011/06/22/ievobio-day-2.html"/>
   <updated>2011-06-22T23:44:58+00:00</updated>
   <id>/06/22/ievobio-day-2</id>
   <content type="html">&lt;p&gt;Day 2 is every bit as packed as day 1, and then some do to the higher concentration of lightning talks. Other coverage of #ievobio is starting to find it’s way to the web:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cellinese.blogspot.com/2011/06/my-post-ievobio-meeting-emotional.html&quot;&gt;Nico Cellinese&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/06/ievobio-2011-synopsis.html?utm_source=twitterfeed&amp;amp;utm_medium=twitter&quot;&gt;Scott Chamberlain&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://soyouthinkyoucandigitize.wordpress.com/2011/06/30/a-confluence-of-drawers/&quot;&gt;Rob Guralnick&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Meanwhile, my scratchpad of notes from day 2, tweet-style.&lt;/p&gt;
&lt;h2 id=&quot;my-lightning-talk&quot;&gt;My Lightning Talk&lt;/h2&gt;
&lt;p&gt;Gave my lightning talk in this session, slides:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/r-interface-to-treebase&quot;&gt;R interface to TreeBASE&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lunch with Todd Vision, Joe Felsenstein, Vince Smith.  Interesting discussions about open source, code archiving, and other topics.&lt;/p&gt;
&lt;h2 id=&quot;birds-of-a-feather-sessions&quot;&gt;Birds of A Feather Sessions:&lt;/h2&gt;
&lt;p&gt;I attend:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Integrating TreeBASE, TOLWeb and EoL&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code Archiving on Dryad&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;See the collective &lt;a href=&quot;http://bit.ly/lfLCgG&quot;&gt;notes&lt;/a&gt; on BoF sessions.&lt;/p&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My Twitter Coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great summary w/ links to the software -&amp;gt; RT @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23iEvoBio&quot;&gt;iEvoBio&lt;/a&gt; 2011 Synopsis &lt;a href=&quot;http://bit.ly/j6dZ8N&quot; class=&quot;uri&quot;&gt;http://bit.ly/j6dZ8N&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83733644950257664&quot;&gt;3:10 AM Jun 23rd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; Definitely! –&amp;gt; RT @&lt;a href=&quot;http://twitter.com/ncellinese&quot;&gt;ncellinese&lt;/a&gt;: Big round of applause for amazing #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; organizing committee @&lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;hlapp&lt;/a&gt;@&lt;a href=&quot;http://twitter.com/robgural&quot;&gt;robgural&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; Mark Holder.&lt;a href=&quot;http://twitter.com/recology_/status/83720703022608387&quot;&gt;2:19 AM Jun 23rd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; BOF proposes TOL-o-matic, (like phylomatic) makes species trees from inputs, not tied to pubs, updatable, serves subtrees #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83651748425773056&quot;&gt;9:45 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Read about Vince Smith’s digitization of the Natural History Museum of London here &lt;a href=&quot;http://bit.ly/iPfgfU&quot; class=&quot;uri&quot;&gt;http://bit.ly/iPfgfU&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83623343324020736&quot;&gt;7:52 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt; Discusses @&lt;a href=&quot;http://twitter.com/datadryad&quot;&gt;datadryad&lt;/a&gt; Q about software archiving. Join discussion at BoF or online:&lt;a href=&quot;http://bit.ly/k7OhMb&quot; class=&quot;uri&quot;&gt;http://bit.ly/k7OhMb&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83622358358818816&quot;&gt;7:48 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/eightysteele&quot;&gt;eightysteele&lt;/a&gt; discusses Commplish w/ @&lt;a href=&quot;http://twitter.com/andrewxhill&quot;&gt;andrewxhill&lt;/a&gt;: a stackoverflow-style badge system for getting users to help curate databases #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83620804792815616&quot;&gt;7:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Visit RevBayes on sourceforge: &lt;a href=&quot;http://bit.ly/lyUEHy&quot; class=&quot;uri&quot;&gt;http://bit.ly/lyUEHy&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83619492516724736&quot;&gt;7:36 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sebastian says R.I.P. MrBayes; previews RevBayes: can a GUI driven tool help users make better choices on priors than defaults? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83618973891043328&quot;&gt;7:34 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Holder’s phycas tools , along with many others are at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;, are on github. Follow him there&lt;a href=&quot;http://bit.ly/mMvtXO&quot; class=&quot;uri&quot;&gt;http://bit.ly/mMvtXO&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23networking&quot;&gt;networking&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83618244166029314&quot;&gt;7:31 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ryan Scherle discusses handshakes between very different repositories, which he illustrates with this photo:&lt;a href=&quot;http://bit.ly/lE0ha1&quot; class=&quot;uri&quot;&gt;http://bit.ly/lE0ha1&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83616415172661248&quot;&gt;7:24 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/andrewxhill&quot;&gt;andrewxhill&lt;/a&gt; Hi, we miss you at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; this year&lt;img src=&quot;http://twitter.com/cboettig/status/83614570454843393&quot; alt=&quot;7:17 PM Jun 22nd&quot; /&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Leslie Ries shares a user perspective on databases, working with citizen science butterfly data #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83614271669415936&quot;&gt;7:16 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/eightysteele&quot;&gt;eightysteele&lt;/a&gt; discusses VertNET: FishNET, ORNIS, MaNIS, HerpNET join forces an integrate&lt;a href=&quot;http://bit.ly/iMGBct&quot; class=&quot;uri&quot;&gt;http://bit.ly/iMGBct&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83613808119119872&quot;&gt;7:14 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great lineup for the lightning talks&lt;a href=&quot;http://bit.ly/mIVuwb&quot; class=&quot;uri&quot;&gt;http://bit.ly/mIVuwb&lt;/a&gt; many of which will lead into BoF discussions at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83605220688527360&quot;&gt;6:40 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/dr_bik&quot;&gt;dr_bik&lt;/a&gt; says Computational methods developers should consider performance of tools under automation, missing data, and integration #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83579921410166784&quot;&gt;4:59 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neil Davies on Biocode: coins phrase “whole ecome sequencing” for all genomes in the ecosystem @&lt;a href=&quot;http://twitter.com/phylogenomics&quot;&gt;phylogenomics&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23badomics&quot;&gt;badomics&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83569297192005632&quot;&gt;4:17 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Birds of a Feather topics scan of paper idea list so far: &lt;a href=&quot;http://flic.kr/p/9VPZqP&quot; class=&quot;uri&quot;&gt;http://flic.kr/p/9VPZqP&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobioBoF&quot;&gt;ievobioBoF&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23yesweusepaper&quot;&gt;yesweusepaper&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83566123139870721&quot;&gt;4:04 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Here’s the #&lt;a href=&quot;http://search.twitter.com/search?q=%23iEvoBio&quot;&gt;iEvoBio&lt;/a&gt; tweet graph from Day 1, includes retweets and mentions, size of image is # followers:&lt;a href=&quot;http://yfrog.com/kf1iwp&quot; class=&quot;uri&quot;&gt;http://yfrog.com/kf1iwp&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83565356911820800&quot;&gt;4:01 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Shindel “data we know we don’t know, and then…” crowd giggles&lt;a href=&quot;http://twitter.com/cboettig/status/83561525515788288&quot;&gt;3:46 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/Dr_Bik&quot;&gt;Dr_Bik&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; Yay! in addition to data, #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; is also integrating twitter networks it seems.&lt;a href=&quot;http://twitter.com/Dr_Bik/status/83561280983678978&quot;&gt;3:45 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Shindel on taxanomic barcoding: If you could find sushi in OK, it’s about 20% mislabeled (anywhere in US) #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83560564089036801&quot;&gt;3:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt;&lt;/strong&gt; MT @&lt;a href=&quot;http://twitter.com/recology&quot;&gt;recology&lt;/a&gt;: 2nd that @&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt;: how to archive and license software in Dryad? &lt;a href=&quot;http://bit.ly/k7OhMb&quot; class=&quot;uri&quot;&gt;http://bit.ly/k7OhMb&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobioBoF&quot;&gt;ievobioBoF&lt;/a&gt;&lt;a href=&quot;http://twitter.com/tjvision/status/83558022101733376&quot;&gt;3:32 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Field: scientists say to motivate them they need tool to advance their own personal science then as by-product get data out there #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83547749722755072&quot;&gt;2:51 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/mjyoder&quot;&gt;mjyoder&lt;/a&gt;&lt;/strong&gt; Dawn- standards are good - but we need to start proving their usefulness by doing real science on the outcomes. #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/mjyoder/status/83545486841221120&quot;&gt;2:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dawn: The first thing we do with our students is get them up to speed on the lit. Now we must get them up to speed with the data #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83546289559703552&quot;&gt;2:46 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Field: “Many of you are familiar with the darwin core.” the rest of us can check out to catch up &lt;a href=&quot;http://bit.ly/lhevyP&quot; class=&quot;uri&quot;&gt;http://bit.ly/lhevyP&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83543334185992192&quot;&gt;2:34 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dawn Field on grass-roots standards #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; – “standards must be developed by the scientific community, not dictated from the top”&lt;a href=&quot;http://twitter.com/cboettig/status/83537341133754368&quot;&gt;2:10 PM Jun 22nd&lt;/a&gt; from&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Evolution Day 4 / #ievobio Day 1</title>
	 <link href="/2011/06/21/evolution-day-4-ievobio-day-1.html"/>
   <updated>2011-06-21T23:44:26+00:00</updated>
   <id>/06/21/evolution-day-4-ievobio-day-1</id>
   <content type="html">&lt;p&gt;Start of the ievobio conference, simultaneously the forth day of evolution. ievobio conference was very busy, luckily given the nature of the conference it is also largely well documented online. My notes are again archived primarily in tweet form below. My personal highlights of the day included the Keynote by Cladio Silva on Provenance – essentially supporting reproducible research workflows – and examples through his &lt;a href=&quot;http://www.vistrails.org/index.php/Main_Page&quot;&gt;vistrails software&lt;/a&gt;, and Mark Yoder’s demonstration of &lt;a href=&quot;http://mx.phenomix.org/&quot;&gt;mx&lt;/a&gt; at the software bazaar. Something like that might really get us past the era of spreadsheets in comparative methods. See the link to the full program and visit the &lt;a href=&quot;http://www.slideshare.net/event/ievobio11&quot;&gt;repository of slides&lt;/a&gt; from all the talks.&lt;/p&gt;
&lt;h2 id=&quot;program&quot;&gt;&lt;a href=&quot;http://ievobio.org/programschedule.html&quot;&gt;PROGRAM&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My twitter coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great discussions during the #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; software bazzar and after – coalesced in big circle on challenges of adoption &amp;amp; funding such projects&lt;a href=&quot;http://twitter.com/cboettig/status/83391459046338560&quot;&gt;4:30 AM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Keesey @&lt;a href=&quot;http://twitter.com/tmkeesey&quot;&gt;tmkeesey&lt;/a&gt; presents: &lt;a href=&quot;http://phylopic.org/&quot;&gt;http://phylopic.org&lt;/a&gt;find (open-licensed) organism silhouettes for your scientific diagrams #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83260237376798720&quot;&gt;7:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; and it looks amazing-&amp;gt; RT @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;: Aaron Steele kicks off lightning talks with an update on Map of LIfe&lt;a href=&quot;http://bit.ly/jDN7VG&quot; class=&quot;uri&quot;&gt;http://bit.ly/jDN7VG&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83255117457014784&quot;&gt;7:29 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Holder introduces lightning talks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;: Like regular 15 min talks, but they’ll speak three times as fast…&lt;a href=&quot;http://twitter.com/cboettig/status/83254169363955712&quot;&gt;7:25 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; trying to figure out which one of the challenge entries would best pass the test: could my PI figure out how to use this and why?&lt;a href=&quot;http://twitter.com/cboettig/status/83253697311817728&quot;&gt;7:23 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck says that BioSciCol would capture “trending data” twitter-style #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://bit.ly/mPV84s&quot; class=&quot;uri&quot;&gt;http://bit.ly/mPV84s&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83243622526496768&quot;&gt;6:43 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; now on to Matasci et. al. solving the taxanomic name problems: convert spelling errors, update names as the change, &amp;amp; other magic&lt;a href=&quot;http://twitter.com/cboettig/status/83218374087278593&quot;&gt;5:03 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck describes analyses that would run and update auomatically using unique ids. meta-analyses would never be the same #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83217915100409856&quot;&gt;5:01 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck’s vision for future (uuids, rdfa, aggregation, etc) sounds a bit like: make your biological data your tweeps #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83217721168363520&quot;&gt;5:00 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;hlapp&lt;/a&gt;&lt;/strong&gt; Should we give award for most acronyms per minute in talk? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/hlapp/status/83215623177515010&quot;&gt;4:52 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://twitter.com/#!/download/ipad&quot;&gt;Twitter for iPad&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; John Deck discusses collections that would alert researchers to when data relevant to them becomes available #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83214240487456768&quot;&gt;4:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; accessing EOL via their API in R&lt;a href=&quot;http://bit.ly/jLmBYI&quot; class=&quot;uri&quot;&gt;http://bit.ly/jLmBYI&lt;/a&gt; , code in development at github #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/recology_/status/83212709646184450&quot;&gt;4:40 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Are the networks @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; shows all integrated by APIs? Do these interface with @&lt;a href=&quot;http://twitter.com/dataONEorg&quot;&gt;dataONEorg&lt;/a&gt; ? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83212023852310529&quot;&gt;4:37 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cyndyparr&quot;&gt;cyndyparr&lt;/a&gt; describes major network hubs of biodiversity data: @&lt;a href=&quot;http://twitter.com/eol&quot;&gt;eol&lt;/a&gt;, ncbi, a few others. Still many isolated nodes to reach #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83211339031511040&quot;&gt;4:35 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; Updates us on the status of the biodiversity &lt;em&gt;data ecosystem&lt;/em&gt; a tour-de-force of cool projects and vision of what’s needed #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83209073859887104&quot;&gt;4:26 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; : too fast for smart phones, switching to laptop&lt;a href=&quot;http://twitter.com/cboettig/status/83207507870351362&quot;&gt;4:19 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; advances and challenges in grabbing trees from images also addressed in @&lt;a href=&quot;http://twitter.com/blJOg&quot;&gt;blJOg&lt;/a&gt; TreeRipper&lt;a href=&quot;http://bit.ly/jufyqI&quot; class=&quot;uri&quot;&gt;http://bit.ly/jufyqI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83207159004930048&quot;&gt;4:18 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Stolzfus on what makes reuse easy and hard: “Not a lot of research here.. these are just obvious!” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83206819694129152&quot;&gt;4:17 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Stolzfus #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; : “archiving an image of a phylogenetic tree is about as practical as an image of a coffee-mug”&lt;a href=&quot;http://twitter.com/cboettig/status/83205680932204544&quot;&gt;4:12 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Now at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Arlin Stolzfus: Publishing reusable phylogenetic trees: file formatls, archives, and tools (@&lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;omearabrian&lt;/a&gt; lab)&lt;a href=&quot;http://twitter.com/cboettig/status/83205077023731712&quot;&gt;4:10 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Piel discusses helping comparative methods like Pagel’s DISCRETE handle missing species by synthesizing “virtual trees” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83203913997762560&quot;&gt;4:05 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sourcecode for Estill’s code all up on github:&lt;a href=&quot;http://bit.ly/lNMFMX&quot; class=&quot;uri&quot;&gt;http://bit.ly/lNMFMX&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83199981024051201&quot;&gt;3:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt; I believe all slides from speakers at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; will be archived on slideshare :&lt;a href=&quot;http://slidesha.re/lR1MBl&quot; class=&quot;uri&quot;&gt;http://slidesha.re/lR1MBl&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; correct url?&lt;a href=&quot;http://twitter.com/cboettig/status/83199042565324800&quot;&gt;3:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Now at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; representing species trees in the cyberinfastructure, i.e. &lt;a href=&quot;http://bit.ly/mP8xgo&quot; class=&quot;uri&quot;&gt;http://bit.ly/mP8xgo&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83197473706872833&quot;&gt;3:39 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva’s visualizations have rendered me tweetless #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83188380418064384&quot;&gt;3:03 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva’s slide right now is way too awesome to summarize in a tweet #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83184814555004929&quot;&gt;2:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva: “Sharing of data is useful, but we need sharing of &lt;em&gt;data analysis&lt;/em&gt;” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83184105738612736&quot;&gt;2:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Indeed! beat me to the tweet @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;vistrails.org API: sounds like we should write an R wrapper for interfacing with vistrails #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83182148642807809&quot;&gt;2:39 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Vistrails looks excellent. Is the API a rest/xml/json implementation? &lt;a href=&quot;http://www.vistrails.com/&quot; class=&quot;uri&quot;&gt;http://www.vistrails.com/&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83181891502620673&quot;&gt;2:38 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Perhaps my slides are an example of Silva’s theme? Click graph to get code, version history, timestamp, tags: &lt;a href=&quot;http://bit.ly/lIK63F&quot; class=&quot;uri&quot;&gt;http://bit.ly/lIK63F&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83180115525242880&quot;&gt;2:30 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva “Provenance (process) is more important than results” - results are often wrong, what is useful is what you actually did #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83179253998428162&quot;&gt;2:27 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Silva: notion of an executable paper, interact with the data and analyses from the paper &lt;a href=&quot;http://bit.ly/jfgWQN&quot; class=&quot;uri&quot;&gt;http://bit.ly/jfgWQN&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83178107107946496&quot;&gt;2:23 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva shows scientific process in a circle, describes “executable papers.” Reminds me @&lt;a href=&quot;http://twitter.com/evomri&quot;&gt;evomri&lt;/a&gt; &amp;amp; @&lt;a href=&quot;http://twitter.com/cameronneylon&quot;&gt;cameronneylon&lt;/a&gt;’s docu the cycle #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83178476005371904&quot;&gt;2:24 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Claudio Silva describes today’s science process: publications reveal only the tip of the iceberg; the rest is lost (&amp;amp; not repro.) #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83177219693879296&quot;&gt;2:19 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; introduces #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; committee ending with “… and @&lt;a href=&quot;http://twitter.com/rdmpage&quot;&gt;rdmpage&lt;/a&gt; is our mascott”&lt;a href=&quot;http://twitter.com/cboettig/status/83174757247356928&quot;&gt;2:09 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; attendance is about half returning paticipants and half new. Lot smaller than the 300 registrations last year though…&lt;a href=&quot;http://twitter.com/cboettig/status/83171334422667264&quot;&gt;1:56 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; begins at #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; – A lot more laptops all around me, I must be in the right room.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Evolution Day 3</title>
	 <link href="/2011/06/20/evolution-day-3.html"/>
   <updated>2011-06-20T23:44:25+00:00</updated>
   <id>/06/20/evolution-day-3</id>
   <content type="html">&lt;h2 id=&quot;talks&quot;&gt;Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;David Babst: &lt;em&gt;Patterns of diversification on large species level supertree of extinct graptolites&lt;/em&gt; – Actually, more on methods for making such a supertree for extinct taxa than on diversification analysis, but excellent talk.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Gene Hunt: _Using fossils to test the link between speciation and phenotypic evolution – _another highlight of the talks, really looking at cladeogeneic vs anaogenic models of evolutionary change, modifying the approach of Folmer Bokma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Graham Slater: &lt;em&gt;Roots, rates, and fossil states:  A Bayesian approach for integrating fossil character information in comparative analyses. &lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lars Schmitz: &lt;em&gt;The effect of diel activity pattern on eye shape in reef fishes&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sam Price: &lt;em&gt;Reef habitats promote the evolution of morphological diversity in reef fishes&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liam Revell: &lt;em&gt;Phylogenetic Methods for Studying the phenotypic axis of adaptive radiation&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lunch – I practice my talk&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mike Sanderson: &lt;em&gt;Terraces in phylogenetic tree space&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt Davis: &lt;em&gt;Exploring the power and parameter estimation of BiSSE &lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tracy Heath: &lt;em&gt;Estimating lineage-specific substitution rates under a Dirchlet Process Prior&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marc Lajeunesse: &lt;em&gt;When to expect phylogenetic bias in meta-analyses&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Felipe Zapta: &lt;em&gt;a non-tree based method for species delimitation: Inferring gaps across a phylogeny.&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;My talk.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allen Rodrigo: &lt;em&gt;Coalescent entaglement: spooky relations from a distance&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Arlin Stoltzfus: &lt;em&gt;The causes of evolutionary transversion/transition bias&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jeremy Brown: &lt;em&gt;Phylogenetic inference of infectious disease sources&lt;/em&gt; – A simple idea based on parapatry, not guaranteed to be robust, but still, an incredibly insightful and well-presented talk.  See Jeremy’s recent PNAS paper (in tweets) for more background.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;asn-address&quot;&gt;ASN address&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ricklefs on &lt;em&gt;My life as a Naturalist&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My Twitter coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Slides from my talk now posted as promised &lt;a href=&quot;http://t.co/bH1rOAI&quot; class=&quot;uri&quot;&gt;http://t.co/bH1rOAI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83021885893394432&quot;&gt;4:02 AM Jun 21st&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Bit surprised no mention of outgoing ASN pres (Losos) work in Ricklefs discussion of taxon cycling&lt;a href=&quot;http://bit.ly/k2ngqU&quot; class=&quot;uri&quot;&gt;http://bit.ly/k2ngqU&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82952849516019712&quot;&gt;11:27 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs predicts it will take 10 more years before we (finally) move beyond Hubble’s neutral theory #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;, says all ideas run 20 yrs&lt;a href=&quot;http://twitter.com/cboettig/status/82945089223147522&quot;&gt;10:57 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs cites history of Island biogeography as an example of how observation and natural history play in our understanding #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82944317043384320&quot;&gt;10:54 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/NESCent&quot;&gt;NESCent&lt;/a&gt; come to the evolution filmfest TONIGHT &amp;amp; vote on your favorite films. 6:30 Boomer #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://t.co/07wKZiL&quot; class=&quot;uri&quot;&gt;http://t.co/07wKZiL&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82942682174984192&quot;&gt;10:47 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs in ASN adress asks “in the next-gen era, are we still naturalists?” Naturalist is broadly one who looks for sci exploration #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82941868467437568&quot;&gt;10:44 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Jeremy Brown solves real criminal cases with for causing infection using phylogeny, read the paper&lt;a href=&quot;http://bit.ly/iQ4sjC&quot; class=&quot;uri&quot;&gt;http://bit.ly/iQ4sjC&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82929896678100992&quot;&gt;9:56 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Why more transitions than transversions? Selection? Mutation? Arlin Stoltzuf #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; shows more synon. transversions, so may be mutational&lt;a href=&quot;http://twitter.com/cboettig/status/82925396315746304&quot;&gt;9:38 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Allen Rodrigo, director of @&lt;a href=&quot;http://twitter.com/NESCent&quot;&gt;NESCent&lt;/a&gt;, show “spooky relations” in coalescents. Conditional probabilities can be soo counterintuitive #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82921965601554432&quot;&gt;9:25 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Christine Parent applies Leibold et al’s&lt;a href=&quot;http://bit.ly/lTz0y3&quot; class=&quot;uri&quot;&gt;http://bit.ly/lTz0y3&lt;/a&gt; to disentangle enviro, phylogeny, and biogeography&lt;a href=&quot;http://twitter.com/cboettig/status/82854188232609795&quot;&gt;4:55 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Revell “also no trivial to average the posterior sample rates on the phylogeny. Fortunately I have a (R) function for that too.” #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82850718549151744&quot;&gt;4:42 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Revell’s software now available as an R package #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/mDPeNT&quot; class=&quot;uri&quot;&gt;http://bit.ly/mDPeNT&lt;/a&gt; Includes Bayesian version of Brownie w/ unknown change pts(!)&lt;a href=&quot;http://twitter.com/cboettig/status/82848908669222912&quot;&gt;4:34 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Liam Revell describes his progress on his development blog &lt;a href=&quot;http://phytools.blogspot.com/&quot;&gt;http://phytools.blogspot…&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82848289464127488&quot;&gt;4:32 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sam Price explores “do fishes living on reefs evolve faster?” Yes. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82846006156337152&quot;&gt;4:23 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Lars combines paleontology and phylogenetic methods to infer which dinosaurs were nocturnal #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;(see &lt;a href=&quot;http://bit.ly/fxAHl2&quot; class=&quot;uri&quot;&gt;http://bit.ly/fxAHl2&lt;/a&gt; for details)&lt;a href=&quot;http://twitter.com/cboettig/status/82842437214679042&quot;&gt;4:09 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Graham observes: so you probably don’t need fossils if your data evolved under brownian motion (which it didn’t) #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82825793083936768&quot;&gt;3:03 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Graham Slater explores how to add fossil data, when it changes phylogenetic comparative inferences – and when it doesn’t #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82822251094867969&quot;&gt;2:48 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Gene Hunt: evaluates punct. equib: long stasis well documented, but fewer studies of major changes at speciation events #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82811155667628034&quot;&gt;2:04 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; David Babst- a supertree phylogeny of fossil plaktic graptolites: “floating beehives” #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Alt method to randomly resolving polytomes&lt;a href=&quot;http://twitter.com/cboettig/status/82808254119428096&quot;&gt;1:53 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Julie, aka @&lt;a href=&quot;http://twitter.com/sabercatwoman&quot;&gt;sabercatwoman&lt;/a&gt; discusses evolution of pleistocene coyotes who had to compete with dire wolves and sabertoothes #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82804166891806722&quot;&gt;1:37 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/ASNAmNat&quot;&gt;ASNAmNat&lt;/a&gt;&lt;/strong&gt; Archiving code came up in the Meet the Eds @ #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Dryad is asking for feedback on this&lt;a href=&quot;http://t.co/z047MII&quot; class=&quot;uri&quot;&gt;http://t.co/z047MII&lt;/a&gt;&lt;a href=&quot;http://twitter.com/ASNAmNat/status/82722062636040192&quot;&gt;8:10 AM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;h2 id=&quot;talk-mentions&quot;&gt;Talk mentions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;K_H_F_H&lt;/a&gt;&lt;/strong&gt; ** &lt;strong&gt;@&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;** &lt;strong&gt;rmvq&lt;/strong&gt;**&lt;/a&gt;&lt;/strong&gt;** ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****C****a****r****l****,**** ****t****h****i****s**** ****w****a****s**** ****j****u****s****t**** ****a****s**** ****g****o****o****d**** ****a****s ********y****o****u****r**** ****t****a****l****k**** ****a****t**** ****B****o****d****e****g****a**** ****B****a****y****,**** ****a****l****t****h****o****u****g****h**** ****I**** ****m****i****s****s****e****d**** ****t****h****e**** ****“****d****r****u****n****k****e****n********w****a****l****k****”**** ****d****e****m****o****n****s****t****r****a****t****i****o****n****&lt;a href=&quot;http://twitter.com/K_H_F_H/status/82920692508655616&quot;&gt;9:20 PM Jun 20th&lt;/a&gt; from web&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;k8lh&lt;/a&gt;&lt;/strong&gt; ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****P****u****t****t****i****n****g**** ****y****o****u****r**** ****s****l****i****d****e****s**** ****u****p**** ****o****n****l****i****n****e****,**** ****w****i****t****h**** ****c****o****d****e********a****v****a****i****l****a****b****l****e**** ****w****i****t****h**** ****a**** ****t****h****r****u****-****c****l****i****c****k****,**** ****i****s**** ****p****h****e****n****o****m****e****n****a****l****!**** ****@****&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;****K****&lt;em&gt;****H****&lt;/em&gt;****F****_****H****&lt;/a&gt;**** ****w****i****l****l********d****e****f**** ****b****e**** ****c****h****e****c****k****i****n****g**** ****l****a****t****e****r****!**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/k8lh/status/82919306144387072&quot;&gt;9:14 PM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;rmvq&lt;/a&gt;&lt;/strong&gt; ****W****o****w****,**** ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****t****o****o****k**** ****t****h****e**** ****“****g****o****o****d**** ****s****c****i****e****n****c****e**** ****i****s**** ****l****i****k****e ********s****t****o****r****y****t****e****l****l****i****n****g****”**** ****t****o**** ****t****h****e**** ****l****e****t****t****e****r****!**** ****G****r****8**** ****t****a****l****k**** ****o****n**** ****u****n****i****f****y****i****n****g**** ****m****o****d****e****l****s**** ****o****f**** ****t****r****a****i****t ********e****v****o****l****u****t****i****o****n**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/rmvq/status/82917460768079873&quot;&gt;9:07 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://twitter.com/#!/download/ipad&quot;&gt;Twitter for iPad&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;k8lh&lt;/a&gt;&lt;/strong&gt; ****H****e****y**** ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****!**** ****M****y**** ****d****a****t****a****‘****s**** ****t****o****t****a****l****l****y**** ****a**** ****h****o****b****b****i****t****.**** ****I****t****’****s**** ****e****v****e****n********h****a****i****r****y****.****&lt;a href=&quot;http://twitter.com/k8lh/status/82917248053944320&quot;&gt;9:06 PM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/kzelnio&quot;&gt;kzelnio&lt;/a&gt;&lt;/strong&gt; ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****;****)**** ****R****T**** ****@****&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;****k****8****l****h****&lt;/a&gt;****:**** ****I**** ****l****o****v****e**** ****B****o****e****t****t****i****g****e****r****’****s**** ****t****r****e****e**** ****o****f ********e****v****o****l****u****t****i****o****n****a****r****y**** ****m****o****d****e****l****s****!**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/kzelnio/status/82916413597171712&quot;&gt;9:03 PM Jun 20th&lt;/a&gt; from&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Slides from my talk at Evolution 2011</title>
	 <link href="/2011/06/20/slides-from-my-talk-at-evolution-2011.html"/>
   <updated>2011-06-20T20:59:59+00:00</updated>
   <id>/06/20/slides-from-my-talk-at-evolution-2011</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/a-general-model-of-continuous-character-evolution&quot;&gt;A general model of continuous character evolution&lt;/a&gt;&lt;/strong&gt; [iframe http://www.slideshare.net/slideshow/embed_code/8371419 425 355]&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As highlighted in the last slide (following acknowledgments), clicking on the results graphs will take you to the image repository, which records when the result was generated in my workstream, and provides a link to the script, software package and data to replicate. Code is parallel, examples shown took between 2 and 12 hours on a 16-core cpu.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Evolution Day 2</title>
	 <link href="/2011/06/19/evolution-day-2.html"/>
   <updated>2011-06-19T23:44:20+00:00</updated>
   <id>/06/19/evolution-day-2</id>
   <content type="html">&lt;p&gt;Second day of the conference. Many of the talks I most want to see are coming up Monday and Tuesday, and I have a bit more to do to prepare my own talk, so I take it a bit light on sessions. Highlight of the day was definitely the discussion with Mark McPeek and the other journal editors during and following the “Happy hour with the editors” session, which was perhaps the best event of the conference, despite a rather unimpressive attendance. Apparently this is an annual tradition I missed last year, certainly hope not to miss it again. Hope to flush out my reflections from those discussions sometime, meanwhile, just a few notes to myself below.&lt;/p&gt;
&lt;p&gt;Haven’t kept up with the paper notes, so using my own twitter archive to capture the essentials I wanted to remember or share from the talks I saw. A bit of a cop-out but makes for quick collective note-taking.&lt;/p&gt;
&lt;h2 id=&quot;talks&quot;&gt;Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stamatakis, Alexandros.  &lt;em&gt;What’s new in RaxML?&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crosby, Ralph: &lt;em&gt;Fast Evolutionary Tree Distance computation using quartets&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Linder, Randal: &lt;em&gt;SaTe-II, faster/more accurate simultaneous alignment and phylogenetic inference&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Zwickl, Derek: &lt;em&gt;A simple instertion-deletion mixture model for phylogenetic inference&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lunch with Dan Rabosky, Graham Slater and others.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Chris Martin: &lt;em&gt;Beyond Ecological Opportunity: adaptive radiation and the origins of novel ecological niches&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt McGee: &lt;em&gt;Functional morphology and kinematics of feeding in stickleback: implications for ecological speciation&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;happy-hour-with-the-editors&quot;&gt;Happy Hour with The editors&lt;/h2&gt;
&lt;p&gt;(Am Nat, Evolution, JEB:)&lt;/p&gt;
&lt;p&gt;Archiving code. double-blind review? who owns your review? Big names rejected more often from big journals. No one successfully guesses their reviewers.  Rejections are usually for failures of communication, not failures of scientific process.&lt;/p&gt;
&lt;p&gt;Dinner with Liam Revell &amp;amp; Sam Price&lt;/p&gt;
&lt;p&gt;My twitter coverage&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;rmvq&lt;/a&gt;&lt;/strong&gt; Discussion with editors: who owns “copyrights” for review dialogues? Can author post reviews on blog? No one knows for sure. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/rmvq/status/82573450471940096&quot;&gt;10:20 PM Jun 19th&lt;/a&gt; retweeted by cboettig&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/NerdyChristie&quot;&gt;NerdyChristie&lt;/a&gt;&lt;/strong&gt; Can sexual dimorphism be a source of variation for adaptive radiation? Yes, says Matthew McGee. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/NerdyChristie/status/82526909363265537&quot;&gt;7:15 PM Jun 19th&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Check out Chris’s heatmap of pupfish jaw evolution: #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/lfJ0Mn&quot; class=&quot;uri&quot;&gt;http://bit.ly/lfJ0Mn&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82522109401763841&quot;&gt;6:56 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Chris Martin: not talking about those seed-eating finches, but &lt;em&gt;niche novelty&lt;/em&gt;: bloodsucking vampire finch, tool using finch, … #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82520612345626625&quot;&gt;6:50 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Chris Martin explores the third axis of adaptive radiations &amp;amp; opens with photos of Darwin’s finches tatoos #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82520073851502592&quot;&gt;6:48 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/lukejharmon&quot;&gt;lukejharmon&lt;/a&gt;: de Koning: “with great data comes great responsibility.” A great motto for the genomic age. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82501568250920960&quot;&gt;5:34 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/JennyMcGPhD&quot;&gt;JennyMcGPhD&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; shuttles to dorms till 10:30p. They can extend till 11pm for tweetup if we request&lt;a href=&quot;http://twitter.com/cboettig/status/82501194257412096&quot;&gt;5:33 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; tweet-up 9pm at Embassy hotel bar (following poster-session)?&lt;a href=&quot;http://twitter.com/cboettig/status/82486161074954240&quot;&gt;4:33 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pro Tip: Randal Linder (SATe-II) mentions he has reformatted his slides to contend w/ the small projector screens #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82479704858312704&quot;&gt;4:07 PM Jun 19th&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Whoever scheduled room OK A hasn’t heard of the “Felsenstein effect” &lt;a href=&quot;http://bit.ly/kJ3WiM&quot; class=&quot;uri&quot;&gt;http://bit.ly/kJ3WiM&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; @ 11:45 #&lt;a href=&quot;http://search.twitter.com/search?q=%23preparetobecrushed&quot;&gt;preparetobecrushed&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82478039090479104&quot;&gt;4:01 PM Jun 19th&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Evolution Conference Day 1</title>
	 <link href="/2011/06/18/evolution-conference-day-1.html"/>
   <updated>2011-06-18T21:34:01+00:00</updated>
   <id>/06/18/evolution-conference-day-1</id>
   <content type="html">&lt;h2 id=&quot;morning-sessions&quot;&gt;Morning Sessions&lt;/h2&gt;
&lt;h3 id=&quot;ssb-symposium-830---noon&quot;&gt;SSB Symposium 8:30 - noon:&lt;/h3&gt;
&lt;h4 id=&quot;unified-approaches-for-understanding-patterns-of-character-evolution-and-diversification&quot;&gt;Unified Approaches for Understanding Patterns of Character Evolution and Diversification&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Stacey Smith (U. of Nebraska-Lincoln) and Boris Igic (U.of Illinois-Chicago) - “Introduction to models of character state-dependent diversification”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Introduces the BiSSE model.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3041/5846584016_047413deb4_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Richard Fitzjohn (U. of British Columbia) - “Stochastic mapping incorporating differential diversification”&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5303/5846583940_998025ba25_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;BiSSE comparison to traditional discrete-trait transition rate which ignores the correlation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Folmer Bokma (Umeå University) - “Estimating speciation and extinction with incomplete phylogenies”&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3008/5846029951_2424c3127b_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Emma Goldberg (University of Illinois-Chicago) - “Modes of speciation and character change from phylogenetic trees”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Peter Wagner (Smithsonian Institution) - “Using stratigraphic compatibility to reveal general relationships between character combinations and diversification”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;P. David Polly (Indiana U.) - “Morphological clocks: why phenotype is a poor predictor of time since common ancestry”&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;afternoon-talks-various-sessions&quot;&gt;Afternoon Talks (various sessions)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dan Rabosky – Ecological diversification and niche evolution in the world’s most species-rich lizard community.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5078/5846596456_edfe4ce7e5_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Cecile Ane: What power do comparative methods have to detect shifts in trait evolution and can we consistently estimate their parameters?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excellent talk, shows: more data doesn’t improve estimate of ancestral states as &lt;span class=&quot;math&quot;&gt;\(1\sqrt n\)&lt;/span&gt;, but does for estimates of &lt;span class=&quot;math&quot;&gt;\(\sigma\)&lt;/span&gt; in Brownian motion.  Shows failure of AIC and chi-square approximation in model choice, and derives a correction for BIC.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dean Adams: A phylogenetic evolution rate for shape and other multi-dimensional traits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ben Redelings: Representing Rogue Taxa with Majority Consensus Tree&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Missed this one (missed the schedule change!) but sounds promising.  Instead saw another excellent talk:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Carl Simpson: Reef coral diversification inferences from the molecular and fossil records&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Illustrates how challenging these inferences are without a timeseries fossil record of the diversification.  Decreases in overall species abundances are particularly challenging.&lt;/p&gt;
&lt;h2 id=&quot;ssb-presidential-address&quot;&gt;SSB Presidential Address&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Keith Crandall: The next generation of systematic biology&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Apparently the phrase “Next Generation”, or at least Next-Gen, is officially synonymous with 454 (star trek watch out).  1 run gets you 1000 taxa x 12 loci 100X coverage with a 454 machine. Wow. But $8000 per run,&lt;/p&gt;
&lt;p&gt;Picnic&lt;/p&gt;
&lt;p&gt;Debrief day with colleagues,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;met Scott Powell: cool ant diversification (soldiers with large heads to block nest holes mad in trees by beetles).  Interesting trait-dependent diversification possibilities.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mike Whitlock- Mostly discussion about data archiving, code archiving, and journal policies.  Happy to say hi and congratulate him for his leadership in this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Felsenstein- Priceless stories of the early days of phylogenetics that couldn’t be put in his textbook history.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;my-tweet-coverage-just-for-fun&quot;&gt;My Tweet coverage, just for fun&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Happy to get a chance to meet &amp;amp; thank Mike Whitlock for his leadership on data archiving and chat about future of code archiving &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hearing the fascinating and conflict-wrought history of early phylogenetic inference at &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; picnic from Joe Felsenstein&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crandall: good to study species that cabbies study (taxi driver pts him to this discovery:&lt;a href=&quot;http://bit.ly/92uTqk&quot;&gt;http://news.nationalgeographic.com/news…&lt;/a&gt;) &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; &lt;a href=&quot;http://search.twitter.com/search?q=%23yespeoplecare&quot;&gt;#yespeoplecare&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1 run gets you 1000 taxa x 12 loci 100X coverage with a 454 machine. Wow. But $8000 per run, so don’t let the students get too fast &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crandall: Systematist’s dilemma: more genes or more taxa? Next-Gen is to do both with targeted sequencing&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; SSB pres address&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;K_H_F_H&lt;/a&gt;: LOVE &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; I am in phy. methods I and it is so crowded there are rows of people sitting in the floor &lt;a href=&quot;http://search.twitter.com/search?q=%23phylogeneticsareawesome&quot;&gt;#phylogeneticsareawesome&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl Simpson uses coral fossil record to test our ability to estimate species diversification rate - prob to have only + div rates! &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/BoraZ&quot;&gt;BoraZ&lt;/a&gt;: Lots of cool people tweeting from &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; - if they end up having a tweetup at the bar, I’ll be doubly jealous.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dean Adams: for multidimensional traits (like shape) we can model diversification with average componentwise brownian rate. &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cecile Ane says - more data doesn’t always buy you more precision. p.s. this means AIC/BIC LR test gonna suck. &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky shows “phlyogenetic anti-signal” in Aust. lizards - closely related species have greatest differebces in habitat &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/lukejharmon&quot;&gt;lukejharmon&lt;/a&gt;: Everyone should present statistical results like Emma Goldberg &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Emma Goldberg addresses when traits determining diversification change at speciation only - infer punctuated equib in PuncSSE &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Folmer Bolker shows brilliant entropy-based fit to speciation compared to birth-death models &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; refs pub:&lt;a href=&quot;http://bit.ly/kVVVnp&quot;&gt;http://iopscience.iop.org/1367-26…&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rich FitzJohn describes BiSSE, beautiful but “don’t try this with less than 100 species” &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking forward to hearing about the latest methods in character evolution and diversification in SSB Sym in rm OK. E &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/98prcnt_primate&quot;&gt;98prcnt_primate&lt;/a&gt;: Well if @&lt;a href=&quot;http://twitter.com/JBYoder&quot;&gt;JBYoder&lt;/a&gt; is switching to &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;, I guess us mortals have not choice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check out the upcoming talks from Wainwright lab at &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; &lt;a href=&quot;http://t.co/BDeYpOG&quot;&gt;https://wainwrightlab.wordpress.com/2011…&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: more labrid & parrotfish wrightscape examples</title>
	 <link href="/2011/06/17/friday-more-labrid-parrotfish-wrightscape-examples.html"/>
   <updated>2011-06-17T15:16:32+00:00</updated>
   <id>/06/17/friday-more-labrid-parrotfish-wrightscape-examples</id>
   <content type="html">&lt;h2 id=&quot;runs-from-yesterday&quot;&gt;Runs from yesterday:&lt;/h2&gt;
&lt;p&gt;MLE comparison of full labrid pharyngeal innovation (all parrotfish), alpha-v-sigma: &lt;img src=&quot;http://farm3.staticflickr.com/2552/5841932378_a0d0db354d_o.png&quot; /&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5269/5841932492_6b82594000_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5067/5841932260_a39578679e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Unfortunately, the all-variable mcmc over labrid tree was &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5840779085&quot;&gt;unsuccessful&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pure-brownie vs pure diversification ends up with the surprisingly opposite conclusion from the sigmas-alphas on parrotfish close ratio:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5318/5840808653_2763f5c181_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Clearly a convergence problem but with which model? (see parameter distributions adjacent; following in photostream archive).&lt;/p&gt;
&lt;p&gt;Luckily this is not the case in the full labrid (size-corrected, protrusion, pharyngeal innovation) model set:&lt;/p&gt;
&lt;p&gt;sigma model with alpha fixed at 1e-12, vs variable sigma, free, global alpha: &lt;img src=&quot;http://farm3.staticflickr.com/2464/5842102715_f597833fe9_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5067/5841932260_a39578679e_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Likelihoods well-behaved, indicating the importance of more data to navigate this ridge. letting alpha vary improves the fit, but not over the two-alphas model.&lt;/p&gt;
&lt;p&gt;Unfortunately it seems even on the full labrid tree, the protrusion trait doesn’t have large enough differences to discriminate between the 5 parameter models; a clear indication of lack of power for this ridge. (Might be nice to compare the 5 parameter to their four parameter kin above)&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3228/5842718351_c601022b2b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;launched-today&quot;&gt;Launched today:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;labrid tree mcmc on prot with just alpha variable.  (eleven n10) (3:44p)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish prot.y simple: alpha v sigma (n1), alpha v brownie.  (zero n10) (3:44p)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wrightscape labrid/parrotfish results; Evolution pres</title>
	 <link href="/2011/06/16/wrightscape-labridparrotfish-results-evolution-pres.html"/>
   <updated>2011-06-16T22:14:58+00:00</updated>
   <id>/06/16/wrightscape-labridparrotfish-results-evolution-pres</id>
   <content type="html">&lt;h2 id=&quot;analysis&quot;&gt;Analysis&lt;/h2&gt;
&lt;h3 id=&quot;summarizing-recently-completed-runs&quot;&gt;Summarizing recently completed runs:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Reviewing last night’s runs.  Some mcmcs complete:&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;labrid-prot.y-alpha&quot;&gt;Labrid prot.y alpha&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3011/5839272436_8b1fa13fdd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;and some crashed mcmc’s on Zero launched Tuesday night. (gape.y, close, open don’t seem to want to run)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the sigma-theta Vs alpha-theta on parrotfish (size-corrected) protrusion (over intramandibular innovation), which looks indistinguishable:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;sigma-theta-vs-alpha-theta-parrotfish-prot.y&quot;&gt;sigma-theta vs alpha-theta, parrotfish prot.y&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3643/5838783582_5163ed9340_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5320/5838230713_6d0a28c2b5_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2527/5838781212_b5899fba56_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;alpha v sigma also indistinguishable on this data, see yesterday.&lt;/p&gt;
&lt;h4 id=&quot;closing-alpha-vs-sigma-parrotfish-intramandibular-200-reps&quot;&gt;Closing, alpha vs sigma, parrotfish (intramandibular, 200 reps)&lt;/h4&gt;
&lt;h5 id=&quot;alpha&quot;&gt;Alpha&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5269/5840194504_85847a578c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;sigma&quot;&gt;Sigma&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3310/5839645873_d9eec0d8bd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;comparison&quot;&gt;Comparison&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2767/5840194082_1c2b941997_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Would like nicer with more replicates, but clearly distinguishable, as were yesterday’s when theta could also vary.  Note: Green is intramdibular, blue is other.  If trait can’t vary across phylogeny, then there’s only a green distribution for both.&lt;/p&gt;
&lt;h3 id=&quot;runs-launched-today&quot;&gt;Runs launched today&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Would really like a full labrid tree, Pharyngeal innovation, alpha-v-sigma MLE.  Running on zero at nice 0 (10:59am).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an alpha-sigma mcmc of labrid tree would also be nice. Trying on eleven (nice 10) now. (~11:15a)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would be nice to compare directly against Brownie/pure diversification.  running on parrotfish close ratio at (nice 1) on one (2:48pm).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would also be nice on labrids protrusion.  running on zero, nice 5 (2:55pm)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code Updates&lt;/h2&gt;
&lt;p&gt;Added plotting facility for MLE bootstrap distributions.  Needs to be added to the calls for the MLE examples.&lt;/p&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add tree for the examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Distribution walkthrough&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;distinguish between MCMC and bootstraps clearly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Describe software package availability&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Motivate better the need for other models&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;checking-in-on-warningsignals&quot;&gt;Checking in on Warningsignals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;caco3 run was terminated, deut run never restarted after lapply failed.  running deut_analysis.R now (n19) on zero (3:00pm).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Filed TreeBASE &lt;a href=&quot;https://sourceforge.net/tracker/?func=detail&amp;amp;aid=3317415&amp;amp;group_id=248804&amp;amp;atid=1126676&quot;&gt;bug&lt;/a&gt; in logicals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Excellent set of slides and commentary by Rod Page on the state of &lt;a href=&quot;http://www.slideshare.net/rdmpage/phylogeny-vizbi-2011&quot;&gt;phylogeny visualization&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday MCMC and MLEs for wrightscape</title>
	 <link href="/2011/06/15/wednesday-mcmc-and-mles-for-wrightscape.html"/>
   <updated>2011-06-15T22:36:07+00:00</updated>
   <id>/06/15/wednesday-mcmc-and-mles-for-wrightscape</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wrote plotting function for wrightscape MCMC analysis&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;added support to write MCMC to a file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;exploring divergent MCMCs.  more checks on NaNs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;trying MLE initiated MCMC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revising talk for evolution&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tweaks to socialR reporting – include error message, exit with status=1, fewer time sigfigs; see gitlog.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;max-likelihoods-bootstraps&quot;&gt;Max likelihoods &amp;amp; bootstraps&lt;/h2&gt;
&lt;h3 id=&quot;parrotfish-protrusion-size-corrected-400-reps&quot;&gt;Parrotfish protrusion (size corrected, 400 reps)&lt;/h3&gt;
&lt;p&gt;If thetas are different and not allowed to vary, the alpha model will obviously do worse than the sigma model, even if it is correct.&lt;/p&gt;
&lt;h5 id=&quot;alpha&quot;&gt;Alpha&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5142/5835746025_850538f03c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;sigma&quot;&gt;Sigma&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5302/5835747179_0af35db2a9_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;alpha-vs-sigma&quot;&gt;Alpha vs Sigma&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2515/5835744831_fe47ba11fc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;parrotfish-closing-lever-ratio-400-reps&quot;&gt;Parrotfish Closing Lever Ratio (400 reps)&lt;/h3&gt;
&lt;h5 id=&quot;sigma-theta&quot;&gt;sigma-theta&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5274/5835165136_aa9b08f95b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;alpha-theta&quot;&gt;alpha-theta&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2546/5835164312_8208fba174_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h5 id=&quot;alpha-theta-vs-sigma-theta&quot;&gt;alpha-theta vs sigma-theta:&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5038/5835163592_db36ffc457_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;all-labrids-size-corrected-protrusion-400-reps&quot;&gt;All Labrids, (size corrected) Protrusion, (400 reps)&lt;/h3&gt;
&lt;h5 id=&quot;alpha-1&quot;&gt;alpha&lt;/h5&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2454/5837934440_16e015f0fa_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;need-now-running&quot;&gt;Need (now running):&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;all labrids, prot.y alpha v sigma (one, n12)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;all labrids prot.y alpha-theta v sigma-theta (running on zero)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish closing ratio alpha v sigma  (one, n18)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish prot.y alpha-theta vs sigma-theta (one, n19)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday - Evolution/wrightscape talk & sundry</title>
	 <link href="/2011/06/14/tuesday-evolutionwrightscape-talk-sundry.html"/>
   <updated>2011-06-14T23:29:48+00:00</updated>
   <id>/06/14/tuesday-evolutionwrightscape-talk-sundry</id>
   <content type="html">&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;p&gt;For today’s analyses run history (with result/code links): see &lt;a href=&quot;http://twitter.com/#!/search/tweeting_cpu&quot;&gt;tweeting_cpu&lt;/a&gt; account or its &lt;a href=&quot;http://topsy.com/s?type=tweet&amp;amp;mintime=1308034800&amp;amp;maxtime=1308121200&amp;amp;q=from%3Atweeting_cpu&quot;&gt;search history&lt;/a&gt; (from Topsy)&lt;/p&gt;
&lt;h2 id=&quot;analysissummary&quot;&gt;Analysis/Summary&lt;/h2&gt;
&lt;p&gt;MCMC over parrotfish tree on protrusion doesn’t converge when alpha and sigma are both free to vary.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3296/5834498302_5c64b8e047_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;MLE approach, (size-corrected) protrusion (12hr run)&lt;/p&gt;
&lt;p&gt;Vary both theta and sigma:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5274/5835165136_aa9b08f95b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Vary alpha and theta:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2546/5835164312_8208fba174_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;alpha-theta wins over theta-sigma:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5038/5835163592_db36ffc457_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;git ids/urls git codes must be obtained at start of run, together with commit, or link will point to the wrong code!   Fixed.&lt;/p&gt;
&lt;h2 id=&quot;evolution-talk&quot;&gt;Evolution Talk&lt;/h2&gt;
&lt;p&gt;Adding examples, finishing up slides for practice talk for Evolution.&lt;/p&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished introduction to warning signals edits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review roc curves for increased sampling&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wainwright-lab-meeting&quot;&gt;Wainwright lab meeting&lt;/h2&gt;
&lt;p&gt;Practice talks: Chris M, Matt, myself.  Great feedback, now to rewrite talk.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.evolutionmeeting.org/engine/search/index.php?func=session&amp;amp;session=075&quot;&gt;My Session Info&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.evolutionmeeting.org/engine/search/index.php?func=program&amp;amp;program=0#results&quot;&gt;Evolution 2011 Conference Complete Program&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ievobio: visualization tools, largely from last year’s challenge entries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://synthesis.eol.org/media/treemap/#HOME&quot;&gt;Visualize EOL,&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jsphylosvg.com/&quot;&gt;PhyloSVG&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phylometrics.com/&quot;&gt;phylometrics&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;power-in-phylogenies-manuscript&quot;&gt;Power in Phylogenies manuscript&lt;/h2&gt;
&lt;p&gt;submitted!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>EM Algorithm</title>
	 <link href="/2011/06/13/em-algorithm-2.html"/>
   <updated>2011-06-13T22:39:32+00:00</updated>
   <id>/06/13/em-algorithm-2</id>
   <content type="html">&lt;p&gt;Yaniv ran us through our second session on EM algorithms.  We implemented a simple case described in &lt;a href=&quot;http://www.stat.uiowa.edu/~kcowles/s166_2007/chang166.pdf&quot;&gt;this tutorial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[gist id=1028113]&lt;/p&gt;
&lt;p&gt;Code doesn’t reflect the abstraction of the algorithm into a proper Expectation step and Maximization step.  We attempted this generalization:&lt;/p&gt;
&lt;p&gt;[gist id=1028122]&lt;/p&gt;
&lt;p&gt;Missed something in framing this correctly, since the maximization step includes a function that doesn’t depend on s[1].  Any ideas?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday -</title>
	 <link href="/2011/06/13/monday-7.html"/>
   <updated>2011-06-13T13:06:51+00:00</updated>
   <id>/06/13/monday-7</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Algorithms group meeting&lt;/li&gt;
&lt;li&gt;Evolution presentation&lt;/li&gt;
&lt;li&gt;warningsignals runs complete and troubleshooting&lt;/li&gt;
&lt;li&gt;finalizing power in phylogenies manuscript cover letter, supplement, final check through, etc.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
	 <link href="/2011/06/12/sunday-3.html"/>
   <updated>2011-06-12T23:03:33+00:00</updated>
   <id>/06/12/sunday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;SocialR updates: print runtime, handle NULL mentions, and truncate messages to avoid over-length errors.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rmendeley repackage in response to user issue.  Updated issues list.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;warningsignals: &lt;/em&gt;&lt;/strong&gt;Separate demo scripts for each data set, running analysis now&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reversed nboot and cpu values, way to create very annoying error.  Back up and running all demo scripts now.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/06/10/friday-6.html"/>
   <updated>2011-06-10T17:21:03+00:00</updated>
   <id>/06/10/friday-6</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finish updates to socialR and wrote post.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reply to Richard on DataONE workflow internship&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;really should meet &lt;a href=&quot;https://sites.google.com/site/ludaesch/&quot;&gt;Bertram&lt;/a&gt;, re: workflow, dataONE, open science, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wrote an avereps fn to replace limma dependency.  hmmf.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;setup analysis.R to run complete analysis sets.  still testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;consider returning myCall information on most standard functions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review model implementations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;model convergence error handling.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;better handling than remove_uncoverged on mc plots.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;uncoupled mcmc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;make sure we can do non-timeseries objects. violates autocor, oh well, can have option to process.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;consider adding runtime to socialR reporting. – DONE, could use more testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Workflows that Work: making it "easy enough"</title>
	 <link href="/2011/06/10/workflows-that-work-making-it-easy-enough.html"/>
   <updated>2011-06-10T13:31:07+00:00</updated>
   <id>/06/10/workflows-that-work-making-it-easy-enough</id>
   <content type="html">&lt;p&gt;I thought I had already fixed this problem. I thought I already had a way to recover the code and parameter values of figures saved in my image log. Grab the SHA hash from the comment, go to the relevant repository on github, search the commit history for the commit, find the version of that file that was current at that time of commit (which could be in an earlier version if nothing had changed…) and so forth… Instead, I would catch myself re-running the code with parameters I knew (I’d scribble somewhere), just so I could be sure. And these are not fast codes to re-run. Sure, it was &lt;em&gt;possible&lt;/em&gt;. It just wasn’t &lt;em&gt;easy enough&lt;/em&gt;. So I took a few hours to rewrite my socialR package to handle this properly. Goodbye SHA hash and search, hello direct links.&lt;/p&gt;
&lt;h2 id=&quot;linked-reproducible-scripts&quot;&gt;Linked reproducible scripts&lt;/h2&gt;
&lt;p&gt;I run a script and it produces some graphical output, like this:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5103/5819249612_7ac010a792_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Clicking on the image takes you to its place in the flickr photostream.  It has been automatically tagged, and the comment includes a direct link to a version-stable copy of the sourcecode that created it.  From the code page, we get a lot more information than just the source.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3530/5819272546_291d289b4c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We can see the package that it depends on, and grab all the dependencies by using git to pull this SHA commit hash.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can view the commit history of this particular file (click history).  Clicking then on any item shows a marked up diff of the file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If logged in to github, I can add line notes and comments to the diff pages, just as I can add comments in flickr.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Full suite of other abilities of both flickr and github, comments.  For instance, I can actually edit and commit changes to the code directly on github, or use flickr’s built-in photo editor.  Tag, search, and social functions also available.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2526/5819272524_2fed292477_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The links to the images and code can also be sent to me from my computer’s twitter account:&lt;/p&gt;
&lt;p&gt;[blackbirdpie url=“http://twitter.com/#!/tweeting_cpu/status/79278116543012864”]&lt;/p&gt;
&lt;p&gt;Viewing the tweet in the browser will actually show the image with the tweet, otherwise the links can quickly show me the figures or code. A similar tweet can be sent on the case of an error (if in batch mode only, the machine knows not to tweet if I’m &lt;em&gt;right here&lt;/em&gt;),  giving a timestamped link to the code and the name of the machine on which the run occurred.  A mention can get my attention and a unique hash tags help quickly check for other output by the same machine.&lt;/p&gt;
&lt;p&gt;http://twitter.com/#!/tweeting_cpu/status/79278121827827713&lt;/p&gt;
&lt;h2 id=&quot;adding-reporting-to-the-r-scripts&quot;&gt;Adding Reporting to the R Scripts&lt;/h2&gt;
&lt;p&gt;A bit more overhead is required in the code than simply loading the package and calling the report function (currently called “upload”).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We need to specify the script name.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We also must specify the commits manually, (not necessary if everything is committed before each batch run … but I’m not that perfect).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We must define a bit of information about the repository structure, though it will guess for my standard use cases.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then we can add optional information like tags, turn on the error reporting, etc.  An example script with these features looks like:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[gist id=1019567]&lt;/p&gt;
&lt;h3 id=&quot;possible-concerns&quot;&gt;Possible concerns&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Commits only the current script.  This assures the version number corresponds to a commit to this actual file, though links will work correctly regardless.  (Do all files exist as url at the end of all commits? – Yes.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Possible errors: installed version is older than the other files committed.  Would ideally run R CMD INSTALL and git commit -a before running any scripts, but oh well.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>mcmc and bootstrapped likelihood runs on parrotfish tree</title>
	 <link href="/2011/06/09/mcmc-and-bootstrapped-likelihood-runs-on-parrotfish-tree.html"/>
   <updated>2011-06-09T16:48:42+00:00</updated>
   <id>/06/09/mcmc-and-bootstrapped-likelihood-runs-on-parrotfish-tree</id>
   <content type="html">&lt;h2 id=&quot;thursday-overview&quot;&gt;Thursday Overview&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Alan Meeting&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still running scripts, see below&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pmc vignette&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Got Duncan’s ROAuth utilities for RMendeley, still need to test.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Testing Scott’s rplos functions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Send Alan the paragraph for edits.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;computation&quot;&gt;Computation&lt;/h2&gt;
&lt;h4 id=&quot;running-on-one&quot;&gt;Running on one&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n 15: sim_general_mcmc.R   MCMC of general model with 8 x 1e6 reps.  alpha diverged. DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n14 Retry above with 8 x 1e6 and with less general model: sigma, theta indep only. WAITING&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n 18: parrotfish_gape.R: alpha,theta indep, vs sigma, theta indep on lever closing ratio (not gape, actually) data.  whoops, ran alpha twice instead.  DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n18 Rerun with 800 boot reps.  on “close” lever ratio: SUCCESS&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5222/5815759965_0cd67baa47_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2012/5815760235_9a712a2713_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2173/5816327756_4742c4c72c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n16 simulated release: as above on sim (alpha,theta indep, vs sigma, theta global on sim data).  Parallel Error.  DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n16 Retry. SUCCESS&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that this is actually less clear fit to (underlying) alpha model than in the true data. Also, theta is global (differing theta runs faced difficulties, not sure why). &lt;img src=&quot;http://farm6.staticflickr.com/5231/5815700214_a606a42554_o.png&quot; /&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3033/5815132713_821c101d0c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2752/5815700830_60c588749b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The two sigma peaks aren’t visible due to y-axis scaling, which will have to be fixed (one is around 0, the other around 5).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n17 gape.y mcmc_demo.R with sigma, theta indep, 1e6 x 8 DEAD (hits bad hastings ratio)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n19 gape.y mcmc_demo.R with alpha, theta indep, 1e6 x 8 DEAD (hits bad hastings ratio)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;auto-generated-gallery-of-todays-runs&quot;&gt;Auto-generated gallery of today’s runs&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-06-08 22:00:00” max_upload_date=“2011-06-09 23:00:00”]&lt;/p&gt;
&lt;h2 id=&quot;code-tidbits&quot;&gt;Code tidbits&lt;/h2&gt;
&lt;p&gt;Would be nice to force me to write the comment about the script at runtime, rather than in the script itself (where I might forget to update it on a run). As long as any parameters are not written in by hand, the latter is okay. Tried adding prompt on batch mode, unsuccessfully:&lt;/p&gt;
&lt;p&gt;Read in command line arguments at batch mode: ((Adapted from &lt;a href=&quot;http://yangfeng.wordpress.com/2009/09/03/including-arguments-in-r-cmd-batch-mode/&quot;&gt;here&lt;/a&gt;))&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
$ &lt;span class=&quot;kw&quot;&gt;R&lt;/span&gt; CMD BATCH --no-save --no-restore &lt;span class=&quot;st&quot;&gt;&amp;#39;--args a=1 b=c(2,5,6)&amp;#39;&lt;/span&gt; test.R test.out &lt;span class=&quot;kw&quot;&gt;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each argument must have no spaces, doesn’t seem to be able to pass text strings.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
##First read in the arguments listed at the command line
args=(&lt;span class=&quot;kw&quot;&gt;commandArgs&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;))

##args is now a list of character vectors
## First check to see if arguments are passed.
## Then cycle through each element of the list and evaluate the expressions.
if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(args)==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;No arguments supplied.&amp;quot;&lt;/span&gt;)
    ##supply default values
    a =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
    b =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
}else{
    for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(args)){
         &lt;span class=&quot;kw&quot;&gt;eval&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;args[[i]]))
    }
}
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(a*&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(b*&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Always forget how to do block commenting in VIM: ((from &lt;a href=&quot;http://hurley.wordpress.com/2007/06/13/vim-tip-comment-out-multiple-lines/&quot;&gt;here&lt;/a&gt;)) Easiest to just select in visual mode (v) and then do :s/&lt;sup&gt;/&lt;/sup&gt;#/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: Simulated model fit analysis on wrightscape, parrotfish tree</title>
	 <link href="/2011/06/08/wednesday-simulated-model-fit-analysis-on-wrightscape-parrotfish-tree.html"/>
   <updated>2011-06-08T13:03:15+00:00</updated>
   <id>/06/08/wednesday-simulated-model-fit-analysis-on-wrightscape-parrotfish-tree</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Reviewed last night’s simulations, see yesterday’s post.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;simulated-data-testing&quot;&gt;Simulated data testing:&lt;/h2&gt;
&lt;p&gt;Fitting the general model well on the parrotfish tree even with clear simulated data seems hard.  Simulating with alpha(intramandibulars) = .01, and others = 20, and fitting general model and the alpha-only independent model (release of constraint model).  The release model MLE recovers reasonable values: alpha(intra) = 1.7, alpha(others) = 21.8, while the general model fit is clearly struggling even with SANN.&lt;/p&gt;
&lt;p&gt;[table id=3 /]&lt;/p&gt;
&lt;p&gt;May help to try seeding with optima of the sub-models.  This is expressed in the bootstraps of course, where the release model produces rather clear distributions (all with 80 reps):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5064/5812844434_0a7d0074dc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;though the general model is much more confused:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5236/5812283293_0f3c0c7aa7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Repeating with more replicates, but should try the remaining submodels.  This obviously shows up in the model comparison by bootstrapped likelihood ratio:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5266/5812703160_233cd3dbdf_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note how crucial it is we did the test distribution.  Without it, we’d think this a rather clear rejection of the variable alphas model in place of the general model.&lt;/p&gt;
&lt;h2 id=&quot;mcmcs&quot;&gt;MCMCs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MCMCs on these models.  Having difficulty with undefined Hastings ratios, probably on out-of-bound proposals, though not sure why those aren’t being caught.  Good to know the MLE runs with the same likelihood function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MCMC errors are occurring in MCMCMC, dropping the heated chains function for the moment works fine.  Some difficulty in recombining chain intervals in the coupling, will need a close look.  FIXME.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running long MCMCs on alpha (on zero, n8) and general (on one, n15) models.  Combines 16 chains (minus burnin), of 1e5 reps.  Simulated_mcmc.R example and sim_general_mcmc.R examples.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2499/5813212345_e3149ff42e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Ooh, much faster when not merging multiple chains.  let’s run 16 x 1e6.&lt;/p&gt;
&lt;h2 id=&quot;max-likelihood-bootstraps&quot;&gt;Max Likelihood + bootstraps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Piecewise initialized simulated annealing from the submodels: Works!  Also note: the aggressive SANN is still needed to get convergence:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gen_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;smart_multiType&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;sim_trait, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;labrid$tree,
+                   &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular,&lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  3.02538925492894e-07&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  0.0585819705289946&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  0.00166254126803767&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  2.90960629757019&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  1.23973641541187&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  1.84059077604827&amp;quot;&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getParameters.multiOU&lt;/span&gt;(gen_fit))
 alpha1       alpha2       theta1       theta2       sigma1       sigma2
 &lt;span class=&quot;fl&quot;&gt;0.756620314&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;3.758072410&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;13.732765801&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;4.853751270&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;0.006160961&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;3.913957909&lt;/span&gt;
 Xo
 &lt;span class=&quot;fl&quot;&gt;4.667250491&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sann_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;smart_multiType&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;sim_trait, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;labrid$tree,
+                   &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular,&lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;control=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;80000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;))
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  0.271749815040882&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  20.4096202543866&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  0.0037342888296498&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  5.5349835595542&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  4.81905476727201&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  4.58842972148977&amp;quot;&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getParameters.multiOU&lt;/span&gt;(sann_fit))
 alpha1     alpha2     theta1     theta2     sigma1     sigma2         Xo
 &lt;span class=&quot;fl&quot;&gt;0.2609878&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;21.9790836&lt;/span&gt; -&lt;span class=&quot;fl&quot;&gt;5.5837586&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;4.6213975&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;17.9955025&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;9.6907227&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;7.3360959&lt;/span&gt;
&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should probably compare likelihoods of all models as well to check convergence.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm, likelihood of sann_fit isn’t actually better than the very far off combo of nelder-mead?  Change SANN starting temp?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Seems to be lack of power.  Seeding from a theta-only estimate doesn’t help at all in this case, as chooses wildly different theta.  meanwhile, sigma model is doing slightly better anyway:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3286/5812817201_389b5ca428_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Each model fit creates reasonably tight bootstraps around its MLE estimates:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5813385160_7afdf7f7ea_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2142/5813563660_f306740ef3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(plotted on different axes due the large difference in y max).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fixing “fixed” parameter style/ brownie.  has no alpha value stored, so can’t simulate.  FIXED.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Try on larger (labrid? simulated?) tree, will need a reasonable painting defined as well.  Seems to be a convergence problem, but more power may help tame the ridges.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;database-projects&quot;&gt;Database projects&lt;/h2&gt;
&lt;h3 id=&quot;treebase&quot;&gt;TreeBASE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;iEvoBio talk accepted!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Johan Nylander’s advice: try readNexus() from phylobase package.  Unfortunately no go so far.  Can’t handle urls so download the file (needs wget interface).  See today’s update on&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues/3&quot;&gt;issue tracker&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rplos&quot;&gt;RPLoS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wrote an R function implementing &lt;a href=&quot;http://labs.crossref.org/site/quick_and_dirty_api_guide.html&quot;&gt;CrossRef API&lt;/a&gt; for use in &lt;a href=&quot;https://github.com/SChamberlain/rplos&quot;&gt;rplos&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Oooh, PLoS and Mendeley have combined forces in the &lt;a href=&quot;http://www.mendeley.com/blog/developer-resources/plos-joins-mendeley-as-co-sponsor-of-the-binary-battle/&quot;&gt;competition&lt;/a&gt; to use their APIs.  Wonder if they’ll be very responsive to feature requests on the API itself…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Parrotfish/wrightscape runs and code modification</title>
	 <link href="/2011/06/07/tuesday-parrotfishwrightscape-runs-and-code-modification.html"/>
   <updated>2011-06-07T23:47:09+00:00</updated>
   <id>/06/07/tuesday-parrotfishwrightscape-runs-and-code-modification</id>
   <content type="html">&lt;h2 id=&quot;runs-mon-midnight&quot;&gt;Runs: Mon midnight:&lt;/h2&gt;
&lt;p&gt;parrotfish.R with updated SANN parameters and corrected output parameter labeling (always {Xo, alpha, sigma, theta} ordering), implemented on zero, nice 19. General model (“wright”) still not outperforming others, so still un-converged.&lt;/p&gt;
&lt;p&gt;[flickr]5808279169/[/flickr]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MCMC runs of gape.y and close on one, at nice 19 and 18 1e5 reps. (Alex running matlab nice 10).  protrusion.y at nice 11, 1e6 reps.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open at nice 18 on zero, 1e6 reps.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;runs-tues-morning&quot;&gt;Runs: Tues Morning&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;8am: parrotfish.R 19 on one done, rest running.  added gape.y at 5e4 on zero at n18.  done.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open, close on zero, 1e5, 5e4. done.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;11am: open on zero, n17, 1e6 gen, and close on zero, n19, 1e6 gen.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;summary-results&quot;&gt;Summary Results&lt;/h2&gt;
&lt;p&gt;(Click on image for parameter details, hashtag to code in git).&lt;/p&gt;
&lt;h4 id=&quot;open-lever-arm-1e6-gens&quot;&gt;Open Lever arm, 1e6 gens&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2129/5811887743_ca8d58b5eb_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;general_mcmc&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; labrid[open], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; labrid, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;MaxTime =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1e+06&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;indep =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Despite the 1e6 gen probably far from stationary still: &lt;img src=&quot;http://farm3.staticflickr.com/2243/5811889155_0100789cc7_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Compare to:&lt;/p&gt;
&lt;h4 id=&quot;opening-lever-arm-1e5-gen&quot;&gt;Opening lever arm, 1e5 gen&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2006/5808419551_b08a514672_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;general_mcmc(data = labrid[open], tree = labrid, regimes = intramandibular, alpha = 0.1, sigma = 0.1, MaxTime = 1e+05, indep = 100)&lt;/p&gt;
&lt;h4 id=&quot;size-corrected-gape-5e5-gen&quot;&gt;Size-corrected gape, 5e5 gen&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2134/5810610763_90a42c7db7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;closing-lever-ratio-1e5-gen&quot;&gt;Closing lever ratio, 1e5 gen&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2274/5809256418_7fff175e7d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;All runs today: [flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-06-07 00:00:00” max_upload_date=“2011-06-08 9:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;afternoon-code-updates&quot;&gt;Afternoon: Code Updates&lt;/h2&gt;
&lt;p&gt;Rewrote the model with closures and generics.  Allows model to be specified by identifying which parameters are global, which are local (and if alpha is fixed).  Other combinations (global sigma, indep alpha and theta) may also be interesting. Keeps code completely functionalized, with single model (multiTypeOU) for maximum likelihood fit of any model, and single type to MCMCMC any model (phylo_mcmc, probably needs a better name).&lt;/p&gt;
&lt;h4 id=&quot;in-progress-to-do&quot;&gt;In Progress / To Do&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Testing convergence and power against simulated datasets.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Error handling for the simulation method–why does this sometimes give NAs?  Eee gads output mean can be variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unit test cases for all functions!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove deprecated separate function calls for wright, brownie, etc, and update the code examples that use them (i.e. loop_over_models_traits_regimes.R and all the parrotfish examples)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;practice-presentation&quot;&gt;Practice Presentation&lt;/h2&gt;
&lt;p&gt;Lab meeting was moved to earlier in the day, which I missed.  Hopefully will reschedule.  See notes on practice presentation.&lt;/p&gt;
&lt;h2 id=&quot;databases-projects&quot;&gt;Databases projects&lt;/h2&gt;
&lt;h3 id=&quot;plos&quot;&gt;PLOS:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Tested out functions Scott has so far in the PLOS API, sent feedback.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some test runs of queries, troubleshooting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See details on the project &lt;a href=&quot;https://github.com/SChamberlain/plosjournals/issues&quot;&gt;issues tracker page&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Parrotfish in wrightscape</title>
	 <link href="/2011/06/06/parrotfish-in-wrightscape.html"/>
   <updated>2011-06-06T17:54:23+00:00</updated>
   <id>/06/06/parrotfish-in-wrightscape</id>
   <content type="html">&lt;h2 id=&quot;bootstrapping-option&quot;&gt;Bootstrapping option&lt;/h2&gt;
&lt;p&gt;Needs a method to pass the optional optim arguments to the update function, such that update uses the same algorithm as the initial fit. Required being a little clever:&lt;/p&gt;
&lt;p&gt;[gist id=“1010999”]&lt;/p&gt;
&lt;p&gt;Done. but perhaps we won’t always want to bootstrap under this? I suppose it is good practice but slow!  Shoot, now I need a lot of really large computers really soon.&lt;/p&gt;
&lt;p&gt;Excellent suggestion for better ways to do this from statscicomp list.  match.call looks very promising as it avoids making a copy, but risks being evaluated in the wrong environment, which my solution above avoids.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# Using match.call()&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#--------------------&lt;/span&gt;
f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y, ... ) {
 myCall =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;match.call&lt;/span&gt;()
 &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;myCall =&lt;/span&gt; myCall, &lt;span class=&quot;dt&quot;&gt;ans =&lt;/span&gt; y +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(...))
&amp;lt;div&amp;gt;}
a =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(a$myCall)&amp;lt;&lt;span class=&quot;er&quot;&gt;/&lt;/span&gt;div&amp;gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] &lt;span class=&quot;co&quot;&gt;# the function&lt;/span&gt;
f
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]] &lt;span class=&quot;co&quot;&gt;# represents the first argument, y&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Now I want to change this second value (representing y) to a 2&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall
 &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;eval&lt;/span&gt;(a$myCall)
$myCall
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
$ans
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;2.199471&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Using closures&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#---------------&lt;/span&gt;
set_up_f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(...) {
 fFn =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y) y +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(...)
 }
f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;set_up_f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# 1.199471&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# 2.199471&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Note: parallelization function can use pre-initialized parallelization, but should warn that it is using this setup and report how many processors are being used vs requested.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;General against Brownie, General against Ouch:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm4.staticflickr.com/3233/5806032744_3b0f33d372_o.png&quot; /&gt;   &lt;img src=&quot;http://farm4.staticflickr.com/3411/5805647153_c89329c204_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;rerunning nice 17 the long SANN to do model comparison of likelihoods before attempting bootstrapping.&lt;/p&gt;
&lt;h2 id=&quot;mcmcmc-option&quot;&gt;MCMCMC option&lt;/h2&gt;
&lt;p&gt;Opening example&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5120/5806537994_52946ec16a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Trait is untransformed gape; gape.x.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mixing of this model (1e5 generations), more transparent is hotter:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3054/5806558482_ef9fab2631_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;gape.y running 1e6 generations, nice 18&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open (opening lever ratio running 1e4 gens, nice 16)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3046/5806049549_5f19a7f98b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3371/5806613814_526d29cb28_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;rerunning 1e5 gens, nice 14&lt;/p&gt;
&lt;h2 id=&quot;other-stuff&quot;&gt;Other stuff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Algorithms group meeting on EM today, to be continued.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on evolution presentation, see draft notes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some work on RR workflow tools, see draft notes until posted.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Registered for CSGF conference and HPC workshop&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Julie’s questions on likelihood of SIR-type model simulation (in email)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Power in phylogenies manuscript finalize!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assemble MCMC and bootstrapping results, write remaining Evolution practice talk&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hastings paper&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday -- warning signals manuscript (mostly)</title>
	 <link href="/2011/06/05/sunday-warning-signals-manuscript-mostly.html"/>
   <updated>2011-06-05T16:20:26+00:00</updated>
   <id>/06/05/sunday-warning-signals-manuscript-mostly</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updates to Scott’s rspringer package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grabbed remaining datasets from Dakos et al., added to package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reading (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009) a bit more closely&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing and revisions on warning signals manuscript.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Biggs R, Carpenter S and Brock W (2009). “Turning Back From The Brink: Detecting an Impending Regime Shift in Time to Avert it.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811729106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811729106&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday: git with latexdiff, TreeBASE and PMC package updates, bounds on lambda</title>
	 <link href="/2011/06/04/saturday-git-with-latexdiff-treebase-and-pmc-package-updates-bounds-on-lambda.html"/>
   <updated>2011-06-04T21:27:30+00:00</updated>
   <id>/06/04/saturday-git-with-latexdiff-treebase-and-pmc-package-updates-bounds-on-lambda</id>
   <content type="html">&lt;h2 id=&quot;bounds-on-lambda&quot;&gt;bounds on lambda:&lt;/h2&gt;
&lt;p&gt;Updated the pmc wrappers for fit_continuous to pass bounds on lambda to the bootstrapping Monte Carlo functions.  Settled on passing all options explicitly after quite a bit of effort. Looking for way to pass a function all of it’s arguments as a named arguments in a list; statscicomp list suggested do.call() function; quite brilliant.&lt;/p&gt;
&lt;p&gt;Considering user workflow for wrappers.  Conceptually, makes sense for user to run the standard package fit routines first, and then pass the results to pmc.  Added support to pass the fit, rather than refit, to create fitContinuous object of the pmc package.&lt;/p&gt;
&lt;p&gt;Revised method for wrapping PMC capability around existing functions (given a fit method and a simulation method).  A bit cumbersome still, as requires a couple user-defined functions, but at least faster for me to write wrappers, if not likely simple enough for most users to write their own wrappers.  Construction is explained in the in-code documentation of pmc_model.R, but easily illustrated with some simple examples (also in pmc_ex.R)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# use the pmc_model to define a function that fits under &amp;quot;pureBirth&amp;quot; and simulates under &amp;quot;sim.bd.taxa&amp;quot;&lt;/span&gt;
pureBirth_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fit_input){
 &lt;span class=&quot;kw&quot;&gt;pmc_model&lt;/span&gt;(pureBirth, sim.bd.taxa,
 &lt;span class=&quot;dt&quot;&gt;fit_input =&lt;/span&gt; fit_input,
 &lt;span class=&quot;dt&quot;&gt;data_name =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;,
 function(m) &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(m$fit_input$x), &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
 &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;m$fit_results$r1, &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;frac =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
 &lt;span class=&quot;dt&quot;&gt;complete =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;stochsampling =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;),
 function(x) &lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]),
 function(fit_results) fit_results$LH )
 }

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pmc)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(geospiza)
fit_input =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(geospiza$geospiza.tree))
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pureBirth_fit&lt;/span&gt;(fit_input)
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(m)
m2&amp;lt;-&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(m,x)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;loglik&lt;/span&gt;(m2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that then simulate, update, and loglik methods and work.   getParameters() returns all results of the fit method, which should be fixed (will create way too many copies of the data).&lt;/p&gt;
&lt;p&gt;Started writing these for several of the common fit methods, discovered many of them do not have corresponding “simulate” methods available.  Also found many features of these packages that drive me a bit crazy. Not that I don’t do this out of laziness, hope to better before I release my packages:&lt;/p&gt;
&lt;h3 id=&quot;my-list-of-common-faux-pas-in-packages&quot;&gt;my list of common faux pas in packages:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Don’t pollute the namespace. Don’t export functions in NAMESPACE not intended for use. Use IMPORTS instead of DEPENDS if your package requires other packages. Not to call anything out, but for instance, laser just exports all functions with exportPattern(“&lt;a href=&quot;#fn1&quot; class=&quot;footnoteRef&quot; id=&quot;fnref1&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;+”, and then adds “Internal” to the documentation of these functions. If they are internal, don’t export them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When returning a fit object, return all the function inputs as well (model used, data, etc). Ideally as an object with an assigned type and methods associated with it as well. laser, geiger, and others often return very simple list objects without this information.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Keep all function options of the utilities you use available to the user. The most common example here is that bothers me endlessly is the optim method, used by almost all of the packages, which for some reason all prefer the bounded box method and don’t allow the user to alter this. Hitting these bounds leads to a fair fraction of the confusion on the r-sig-phylo list regarding the behavior of one of these functions, and is usually completely unnecessary.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;likelihood based methods should always include methods to simulate under the process modeled. (medusa, many of the laser fits, etc don’t have this capacity).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write as a separate function the likelihood method passed to optim. This makes it easy to extend to other methods.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ooh, things we’d never do in phylogenetics: daily testing of software (&lt;a href=&quot;http://trac.buildbot.net/&quot;&gt;buildbot&lt;/a&gt;, &lt;a href=&quot;http://code.google.com/p/googletest/&quot;&gt;googletest&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;git-and-latexdiff&quot;&gt;git and latexdiff:&lt;/h2&gt;
&lt;p&gt;Spent way too long working out how to checkout the current commit and the previous commit of a tex file for a latex-diff.  checkout without specifying a branch means you end up with detached head, on a  “no-banch”, which I couldn’t seem to merge back to master.  Checking out a copy while specifying a branch avoids this.  (revert might work too?)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mkdir&lt;/span&gt; tmp
&lt;span class=&quot;kw&quot;&gt;cp&lt;/span&gt; file.tex tmp/ &lt;span class=&quot;co&quot;&gt;#keep a copy to diff against&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout -b test master~1 file.tex &lt;span class=&quot;co&quot;&gt;# checkout onto a separate branch&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;latexdiff&lt;/span&gt; file.tex tmp/file.tex &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; diff.tex &lt;span class=&quot;co&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;pdflatex&lt;/span&gt; diff.tex &lt;span class=&quot;co&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout master &lt;span class=&quot;co&quot;&gt;# switch back to master&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;git-branch&lt;/span&gt; -D test &lt;span class=&quot;co&quot;&gt;# remove the test branch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Initialize an empty repository on webserver (note we need –bare if we want to start things off by pushing to this).&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;on&lt;/span&gt; the server: git init --bare .&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then give it a name and push the master branch to the server:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; remote add dreamhost cboettig@server:/path/to/dir/
&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; push -u dreamhost master&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;treebase-rr-test-case&quot;&gt;TreeBASE RR test case?&lt;/h2&gt;
&lt;p&gt;Exploring reproducible research with TreeBASE on the Evolution paper that just appeared (Derryberry &lt;em&gt;et. al.&lt;/em&gt; 2011).  Character data is supposed to be morphobase.org, but don’t see it.  Maybe it hasn’t posted yet?&lt;/p&gt;
&lt;p&gt;Step one: See article in Google Reader reporting a beautiful phylogeny.&lt;/p&gt;
&lt;p&gt;Step two: grab tree into R and run analyses:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(treebase)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Derryberry&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;) -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(a[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(a[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A beautiful time-calibrated tree of 297 taxa.&lt;/p&gt;
&lt;p&gt;Step 3: read paper, repeating all of the author’s analyses as we go.&lt;/p&gt;
&lt;p&gt;Looking at testing the authors conclusions based on laser and medusa against treepar run, but haven’t navigated treepar’s rather verbose, unformatted output yet.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derryberry E, Claramunt S, Derryberry G, Chesser R, Cracraft J, Aleixo A, Pérez-Emán J, Remsen Jr. J and Brumfield R (2011). “Lineage Diversification And Morphological Evolution in A Large-Scale Continental Radiation: The Neotropical Ovenbirds And Woodcreepers (Aves: Furnariidae).” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot;&gt;&lt;p&gt;[:alpha:]&lt;a href=&quot;#fnref1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/06/03/friday-5.html"/>
   <updated>2011-06-03T17:52:31+00:00</updated>
   <id>/06/03/friday-5</id>
   <content type="html">&lt;h2 id=&quot;a-days-agenda&quot;&gt;A day’s agenda&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Scott’s got us going on a&lt;a href=&quot;https://github.com/SChamberlain/plosjournals&quot;&gt;R package&lt;/a&gt; for&lt;a href=&quot;http://api.plos.org/&quot;&gt;PLoS API&lt;/a&gt;, released Tuesday. Checked over the package and did some basic reorganization to put it in R package form.&lt;/li&gt;
&lt;li&gt;lots of feedback on my &lt;a href=&quot;http://ff.im/EIkgt&quot;&gt;FF question&lt;/a&gt; on pw vs private for delayed-disclosure entries.&lt;/li&gt;
&lt;li&gt;warning signals manuscript package, figures, writing 9-11a&lt;/li&gt;
&lt;li&gt;Going through Peter’s revisions 11-1p&lt;/li&gt;
&lt;li&gt;Meeting with Peter &amp;amp; Graham 1-2p&lt;/li&gt;
&lt;li&gt;Meeting with Mikaela, Betta for GTC 2-4&lt;/li&gt;
&lt;li&gt;PDG on Brian’s Autoparts paper 4-5:30&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Colored git diff’s etc (from &lt;a href=&quot;http://progit.org/book/ch7-1.html&quot;&gt;progit.org&lt;/a&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;`git config --global color.ui true`&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading:&lt;/h2&gt;
&lt;p&gt;Mostly education stuff:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Excellent &lt;a href=&quot;http://www.newyorker.com/arts/critics/atlarge/2011/06/06/110606crat_atlarge_menand?currentPage=all&quot;&gt;New Yorker piece&lt;/a&gt; on the value of a college education.&lt;/li&gt;
&lt;li&gt;Kandace sent this wonderful piece in Science, in which 7 HHMI fellows outline 7 initiatives for changing the balance of research and teaching (Anderson &lt;em&gt;et. al.&lt;/em&gt; 2011):&lt;/li&gt;
&lt;/ul&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Educate faculty about research on learning&lt;/li&gt;
&lt;li&gt;Create awards/named professorships supporting outstanding teachers&lt;/li&gt;
&lt;li&gt;Require excellence in teaching for promotion&lt;/li&gt;
&lt;li&gt;Create teaching discussion groups (of colleagues)&lt;/li&gt;
&lt;li&gt;Create cross-disciplinary programs at college-level learning&lt;/li&gt;
&lt;li&gt;Provide ongoing  support for effective science teaching (i.e. NSF grants)&lt;/li&gt;
&lt;li&gt;Engage chairs, deans, presidents&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Better still is this nice lecture response to the paper, addressing (1).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.physics.indiana.edu/~hake&quot;&gt;Should the Culture of University Science Education Be Changed?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Anderson W, Banerjee U, Drennan C, Elgin S, Epstein I, Handelsman J, Hatfull G, Losick R, O’Dowd D, Olivera B, Strobel S, Walker G and Warner I (2011). “Changing The Culture of Science Education at Research Universities.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1198280&quot;&gt;http://dx.doi.org/10.1126/science.1198280&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: Warning Signals</title>
	 <link href="/2011/06/02/thursday-warning-signals.html"/>
   <updated>2011-06-02T21:31:39+00:00</updated>
   <id>/06/02/thursday-warning-signals</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;p&gt;Reviewing my edits.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Writing writing writing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;updating graphs and package&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Yet another volley in the kin-selection group-selection debate (debacle?)(Marshall, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This looks excellent, will have to find time for a closer read: (Davies &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jonah’s Science paper, the subject of his Merton-Love seminar, (Piovia-Scott &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Marshall J (2011). “Group Selection And Kin Selection: Formally Equivalent Approaches.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.008&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.04.008&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Davies T, Smith G, Bellstedt D, Boatwright J, Bytebier B, Cowling R, Forest F, Harmon L, Muasya A, Schrire B, Steenkamp Y, van der Bank M, Savolainen V and Kingsolver J (2011). “Extinction Risk And Diversification Are Linked in A Plant Biodiversity Hotspot.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000620&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1000620&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Piovia-Scott J, Spiller D and Schoener T (2011). “Effects of Experimental Seaweed Deposition on Lizard And Ant Predation in an Island Food Web.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200282&quot;&gt;http://dx.doi.org/10.1126/science.1200282&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals Literature: when stats are and aren't attempted</title>
	 <link href="/2011/06/01/warning-signals-literature-when-stats-are-and-arent-attempted.html"/>
   <updated>2011-06-01T15:10:56+00:00</updated>
   <id>/06/01/warning-signals-literature-when-stats-are-and-arent-attempted</id>
   <content type="html">&lt;p&gt;In preparing manuscript on warning signals, reviewing the literature on when statistical validation of the warning signal is included, and if so, what kind are done. There’s certainly no consensus in the approach, with the majority of papers not even attempting a method (and those that do not finding significance). Scheffer’s key review (Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2009) calls for the need to measure statistical significance of warning signals,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Therefore, it would be useful to build a set of reliable statistical procedures to test whether an increase in autocorrelation, for example, is significant.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;doesn’t report statistical significance on any of the examples presented.  This is certainly true of many of the most cited papers in the field:&lt;/p&gt;
&lt;h4 id=&quot;most-warning-signals-literature-ignores-the-question-of-significance&quot;&gt;most warning signals literature ignores the question of significance:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carpenter’s paper “introducing” variance as a warning statistic (Carpenter &amp;amp; Brock, 2006) (model only) ((uses an annual window rather than sliding window))&lt;/li&gt;
&lt;li&gt;van Nes et al. Am Nat paper (van Nes &amp;amp; Scheffer, 2007), introducing CSD as a warning signal ((though citing earlier introduction to concept in Rietkerk et al. 1996; Gandhi et al. 1998 (Gandhi &lt;em&gt;et. al.&lt;/em&gt; 1998))) (model only)&lt;/li&gt;
&lt;li&gt;Guttal’s spatial skew/spatial variance (Guttal &amp;amp; Jayaprakash, 2008): (model only)&lt;/li&gt;
&lt;li&gt;Carpenter’s recent ecosystem experiment compares visually to a control, but no statistical significance test: (Carpenter &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Drake &amp;amp; Griffen (Drake &amp;amp; Griffen, 2010), No attempt to quantify the probability, hinges on visual comparison to control.  ((Actually use a variety of proxies, just no formal quantification of the probability this would be observed by chance.  On the individual time series (appendix): “any increase or local maximum in the statistic” is assumed a significant increase. Text defines exceeding the running average by 2 sigma as significant increase – asymptotically any data set becomes significant.))&lt;/li&gt;
&lt;li&gt;Subsequent theoretical work (Brock &amp;amp; Carpenter, 2010), (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009), (&lt;span class=&quot;showtooltip&quot; title=&quot;Carpenter S and Brock W (2010). Early Warnings of Regime Shifts in
Spatial Dynamics Using The Discrete Fourier Transform. _Ecosphere_,
*1*. ISSN 2150-8925,  http://dx.doi.org/10.1890/ES10-00016.1.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1890/ES10-00016.1&quot;&gt;Carpenter &amp;amp; Brock, 2010&lt;/a&gt;&lt;/span&gt;) doesn’t address this either.&lt;/li&gt;
&lt;li&gt;Observational system increases variance (fish stocks) (Hsieh &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;examples-attempting-statistical-significance-estimates&quot;&gt;Examples attempting statistical significance estimates&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Guttal &amp;amp; Jayaprakash introduce a new summary stat (skew, happily added to the pantheon) (Guttal &amp;amp; Jayaprakash, 2008).  A wonderful paper, does include real data (Sahara desertification), as well as model, and does statistical significance testing with real null and even finds it – not significant!  Uses a moving average window.  Data from Sandusky bay, Lake Erie, see the &lt;a href=&quot;http://www.heidelberg.edu/academiclife/distinctive/ncwqr/data/data&quot;&gt;SanduskyData&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos et al. PNAS paper (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) and Dakos et. al. spatial correlation paper (Gandhi &lt;em&gt;et. al.&lt;/em&gt; 1998) are one of few examples with statistical significance using Kendall’s correlation test, and at least in the appendix comparing it to a reasonable AR(1) null (under which the observed values of the statistic assume almost all values nearly uniformly and half of the examples loose statistical significance).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Litzow et al.   [cite source=“pubmed”]18767612[/cite] uses method STARS from (&lt;span class=&quot;showtooltip&quot; title=&quot;Rodionov S (2004). A Sequential Algorithm For Testing Climate Regime
Shifts. _Geophysical Research Letters_, *31*. ISSN 0094-8276, 
http://dx.doi.org/10.1029/2004GL019448.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1029/2004GL019448&quot;&gt;Rodionov, 2004&lt;/a&gt;&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Kéfi &lt;em&gt;et. al.&lt;/em&gt; 2007) statistically significant deviation from power law in patch-size (sum of squares reduction test), but is not a generic warning signal.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;other-commentary&quot;&gt;Other commentary&lt;/h4&gt;
&lt;p&gt;Examples cited (1 of 3) by Scheffer (Scheffer, 2010) as example of “smart data-processing technique” : only one attempts statistical significance test.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uses detail-specific bifurcation model (genie modeling system). (Lenton &lt;em&gt;et. al.&lt;/em&gt; 2009), no test of significance&lt;/li&gt;
&lt;li&gt;Dakos, (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) Kendall’s $ $&lt;/li&gt;
&lt;li&gt;Carpenter 2006, but no measure of statistical significance  (Carpenter &amp;amp; Brock, 2006).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Only models, no significance tests:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bailey’s model based approach, (Bailey, 2010) cellular automata simulation with CSD, some hints at significance levels from replicate simulations, but no reported statistics.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So where does this leave us &amp;amp; does it matter?&lt;/p&gt;
&lt;p&gt;Best examples are Dakos 2008, partic appendix, and Guttal Eco Let 2008.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Bascompte J, Brock W, Brovkin V, Carpenter S, Dakos V, Held H, van Nes E, Rietkerk M and Sugihara G (2009). “Early-Warning Signals For Critical Transitions.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature08227&quot;&gt;http://dx.doi.org/10.1038/nature08227&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S and Brock W (2006). “Rising Variance: A Leading Indicator of Ecological Transition.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00877.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00877.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;van Nes E and Scheffer M (2007). “Slow Recovery From Perturbations as A Generic Indicator of A Nearby Catastrophic Shift.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;169&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/516845&quot;&gt;http://dx.doi.org/10.1086/516845&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Gandhi A, Levin S and Orszag S (1998). ““Critical Slowing Down” in Time-to-Extinction: an Example of Critical Phenomena in Ecology.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;192&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.1998.0660&quot;&gt;http://dx.doi.org/10.1006/jtbi.1998.0660&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guttal V and Jayaprakash C (2008). “Spatial Variance And Spatial Skewness: Leading Indicators of Regime Shifts in Spatial Ecological Systems.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-008-0033-1&quot;&gt;http://dx.doi.org/10.1007/s12080-008-0033-1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S, Cole J, Pace M, Batt R, Brock W, Cline T, Coloso J, Hodgson J, Kitchell J, Seekell D, Smith L and Weidel B (2011). “Early Warnings of Regime Shifts: A Whole-Ecosystem Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1203672&quot;&gt;http://dx.doi.org/10.1126/science.1203672&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brock W and Carpenter S (2010). “Interacting Regime Shifts in Ecosystems: Implication For Early Warnings.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;80&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/09-1824.1&quot;&gt;http://dx.doi.org/10.1890/09-1824.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Biggs R, Carpenter S and Brock W (2009). “Turning Back From The Brink: Detecting an Impending Regime Shift in Time to Avert it.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811729106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811729106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hsieh C, Reiss C, Hunter J, Beddington J, May R and Sugihara G (2006). “Fishing Elevates Variability in The Abundance of Exploited Species.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;443&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05232&quot;&gt;http://dx.doi.org/10.1038/nature05232&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guttal V and Jayaprakash C (2008). “Changing Skewness: an Early Warning Signal of Regime Shifts in Ecosystems.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01160.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01160.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kéfi S, Rietkerk M, Alados C, Pueyo Y, Papanastasis V, ElAich A and de Ruiter P (2007). “Spatial Vegetation Patterns And Imminent Desertification in Mediterranean Arid Ecosystems.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;449&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06111&quot;&gt;http://dx.doi.org/10.1038/nature06111&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M (2010). “Complex Systems: Foreseeing Tipping Points.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/467411a&quot;&gt;http://dx.doi.org/10.1038/467411a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lenton T, Myerscough R, Marsh R, Livina V, Price A and Cox S (2009). “Using Genie to Study A Tipping Point in The Climate System.” &lt;em&gt;Philosophical Transactions of The Royal Society A: Mathematical, Physical And Engineering Sciences&lt;/em&gt;, &lt;strong&gt;367&lt;/strong&gt;. ISSN 1364-503X, &lt;a href=&quot;http://dx.doi.org/10.1098/rsta.2008.0171&quot;&gt;http://dx.doi.org/10.1098/rsta.2008.0171&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bailey R (2010). “Spatial And Temporal Signatures of Fragility And Threshold Proximity in Modelled Semi-Arid Vegetation.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2010.1750&quot;&gt;http://dx.doi.org/10.1098/rspb.2010.1750&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;S. R. Carpenter, W. A. Brock, (2010) Early Warnings of Regime Shifts in Spatial Dynamics Using The Discrete Fourier Transform. &lt;em&gt;Ecosphere&lt;/em&gt; &lt;strong&gt;1&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/ES10-00016.1&quot;&gt;10.1890/ES10-00016.1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sergei N. Rodionov, (2004) A Sequential Algorithm For Testing Climate Regime Shifts. &lt;em&gt;Geophysical Research Letters&lt;/em&gt; &lt;strong&gt;31&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2004GL019448&quot;&gt;10.1029/2004GL019448&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: PMC, confidence intervals; screen code-tricks</title>
	 <link href="/2011/05/31/tuesday-5.html"/>
   <updated>2011-05-31T14:38:59+00:00</updated>
   <id>/05/31/tuesday-5</id>
   <content type="html">&lt;h2 id=&quot;pmc&quot;&gt;PMC&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Final read through of manuscript from me and Peter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at confidence intervals in fitContinuous?  Package used to use the hessian from optim, but it was later removed due to errors.  I added this back manually and attempt a few estimates.  Given the Hessian (likelihood surface curvature) this is approximated by&lt;/p&gt;
&lt;p&gt;sqrt(diag(solve(out$hessian)))&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pmc/blob/64a9da6ee949cc04349580ed9e750296841af59a/demos/conf_interval_ex.R&quot;&gt;conf_interval_ex.R&lt;/a&gt;.  i.e for Geospiza tree is:&lt;/p&gt;
&lt;p&gt;[1] SE sigma: +/ 0.6763731 SE lambda: +/- 1.0338531 [2] boot lambda: (9.9e-08, 1) [3] boot beta: (0.0072 0.0591)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More crazy on large tree:  the bootstrap estimates are nice and narrow, while the Hessian estimate for lambda is ridiculous:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SE sigma: +/- 0.05773465  SE lambda: +/- 73.05777456
boot lambda: (0.452340436725362, 0.694239348471331)
boot beta: (0.143594988736606, 0.214849236562022)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;added revolution-r packages to zero, parallelizes fitContinuous on my machine, but interestingly crashes it on zero when run on the large tree.  Hmm…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;database-packages&quot;&gt;database packages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scott’s updates to dryad.  Scott’s comment’s on workflow added to wiki.  Need to check over and test.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fixes from Emmanuel to read.nexus.data in the ape package, testing in TreeBASE package.   Basic examples that return the alignments now implemented.   A few issues remain: need to track the metadata (but can’t tag this onto the list), and lots of character matrices don’t meet read.nexus.data’s requirements.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discussion with Dave on his work.  Let a stochastic model parameter (binomial probability) evolve or not evolve on a tree.  Partition the uncertainty.  Considering some rather strange/arbitrary models.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-tricks&quot;&gt;Code tricks&lt;/h2&gt;
&lt;p&gt;Copy-paste in screen mode, very useful on remote machine:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Ctrl+a [&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;starts copy mode.  Navigate with vi-keys (arrows, etc), Hit spacebar to begin copy selection, spacebar again to end.  Paste with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Ctrl+a ]

&amp;lt;span style=&amp;quot;font-family: constantia, &amp;#39;hoefler text&amp;#39;, &amp;#39;palatino linotype&amp;#39;, serif; font-size: 16px; line-height: 24px; white-space: normal;&amp;quot;&amp;gt;Note that git can of course always pull directly from the server, rather than pushing through github.     i.e. &amp;lt;/span&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;git remote add zero cboettig@ten.ucdavis.edu:/home/cboettig/Computing/RMendeley&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git pull zero master&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perhaps worth configuring to share access to individual manuscript files.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/05/30/monday-6.html"/>
   <updated>2011-05-30T23:44:54+00:00</updated>
   <id>/05/30/monday-6</id>
   <content type="html">&lt;h2 id=&quot;power-in-phylogenies-paper-pmc&quot;&gt;Power in Phylogenies  Paper (PMC)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working through / incorporated Graham’s edits&lt;/li&gt;
&lt;li&gt;Added confidence intervals discussion&lt;/li&gt;
&lt;li&gt;tweaks to associated pmc package&lt;/li&gt;
&lt;li&gt;Exploring confidence intervals (and lack thereof) in literature on comparative methods.  Pagel (1999) (Pagel, 1999) includes them, but few other papers do.  He does not include any discussion about how these are calculated.&lt;/li&gt;
&lt;li&gt;Seems Sweave makes sense for the recreate-figures code from the cached data-files, but perhaps not for the entire analysis code-base (in demos/).  A pity it isn’t easy to get syntax-highlighting output.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also working on clean-up and reorganization of directory structure.&lt;/p&gt;
&lt;p&gt;Aside: installed jetpack plugin, breaks flickr-gallery plugin unless video inclusion short-codes are disabled.  Removing jetpack brakes the API key for wp-stats, cannot seem to fix this, (says wrong API key, doesn’t match the install of wp-stats), so have gone back to jetpack.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pagel M (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;401&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/44766&quot;&gt;http://dx.doi.org/10.1038/44766&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
	 <link href="/2011/05/29/sunday-2.html"/>
   <updated>2011-05-29T23:24:59+00:00</updated>
   <id>/05/29/sunday-2</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Completed phylogenetic power manuscript updates based on Peter’s comments.  Graham will read Monday.&lt;/li&gt;
&lt;li&gt;Took a whack at updating the treebase package with a method for grabbing nexus character matrices.  See&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues/3&quot;&gt;github issues log&lt;/a&gt;, querying Emmanuel on this one.&lt;/li&gt;
&lt;li&gt;Local directory management / cleanup&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;prepare-annual-progress-report-for-committee&quot;&gt;Prepare annual progress report for committee&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Phylogenetics Power manuscript. Nearly there.  (SICB presentation)&lt;/li&gt;
&lt;li&gt;Warning signals manuscript resubmission. (Presenting at ESA)&lt;/li&gt;
&lt;li&gt;Generalized comparative method/release of constraint – method done, time to write.  (Presenting at Evolution.)&lt;/li&gt;
&lt;li&gt;TreeBASE manuscript.  (Presenting at iEvoBio.)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;recent-progress-summary-for-duncan&quot;&gt;Recent progress summary for Duncan&lt;/h3&gt;
&lt;h4 id=&quot;rmendeley&quot;&gt;RMendeley:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Public API done,&lt;/li&gt;
&lt;li&gt;I’ve learned to create windows binaries, and it’s now being tested by some of the Mendeley team (W. Gunn).&lt;/li&gt;
&lt;li&gt;Need an authentication example to do the user-specific API&lt;/li&gt;
&lt;li&gt;Have some requests up on the Mendeley development list and the developer wiki for some modifications to API (i.e. search stats should return paper uuids)&lt;/li&gt;
&lt;li&gt;Considering entering in the competition?  Not to win but could be fun, and would get some free Amazon time.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;treebase&quot;&gt;TreeBASE:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;API implementation is done for the phylogenies.&lt;/li&gt;
&lt;li&gt;Example explorations &lt;a href=&quot;http://www.carlboettiger.info/archives/1702&quot;&gt;up in notebook&lt;/a&gt;:&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;Issues&lt;/a&gt; list on github&lt;/li&gt;
&lt;li&gt;Waiting for treeBASE developers to add Dryad IDs to pull dryad data out as well.  Meanwhile, working on a work-around using the Dryad database&lt;/li&gt;
&lt;li&gt;Presenting as a lightning talk at iEvoBio conference&lt;/li&gt;
&lt;li&gt;Considering combining with Dryad and Mendeley and entering into the &lt;a href=&quot;http://ievobio.org/challenge.html&quot;&gt;data integration challenge&lt;/a&gt; at iEvoBio conference.  Thoughts?&lt;/li&gt;
&lt;li&gt;Starting short manuscript, could try bioinformatics or BMC bioinformatics, could certainly go in&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;dryad&quot;&gt;Dryad:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Basic data-pulling interface implemented.&lt;/li&gt;
&lt;li&gt;Scott Chamberlain, Graduate Student at Rice. now helping with development of the package.&lt;/li&gt;
&lt;li&gt;Scott has added the metadata search capacity.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;socialr&quot;&gt;socialR:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;gitR, etc.  Need to update this to use native R functions instead of the command-line utilities for flickr, twitter, git.&lt;/li&gt;
&lt;li&gt;I need to figure out explicit semantics we discussed, and then figure out how to save/log work.  Will try and write this out carefully.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are lots of reasons this uses flickR for images over an S3 repository (though maybe good reasons to do both).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flickr API is already built and already familiar to a large userbase,&lt;/li&gt;
&lt;li&gt;Flickr has a database structure, making it easy to tag, search, browse by date, etc&lt;/li&gt;
&lt;li&gt;Flickr API is widely implemented – easy to get simulation results in real time on my phone, add results to wordpress realtime using plugin with search criteria, etc.&lt;/li&gt;
&lt;li&gt;Flickr is a social web app, with notions of privacy, sharing, licensing, searching&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;from-friday&quot;&gt;From Friday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Edits to pmc package&lt;/li&gt;
&lt;li&gt;begun package vignette in Sweave to illustrate how results are produced.&lt;/li&gt;
&lt;li&gt;would be nice if sweave had syntax highlighting, see the&lt;a href=&quot;http://stackoverflow.com/questions/4808052/sweave-syntax-highlighting-in-output&quot;&gt;stackoverflow&lt;/a&gt; on this.  Can’t seem to get minted.sty working, won’t recognize my install of pygmatize.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;a-minimal-summary-of-progress-this-week&quot;&gt;A minimal summary of Progress this week&lt;/h2&gt;
&lt;p&gt;ROC Curves.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Site configuration: file sharing notes</title>
	 <link href="/2011/05/28/site-configuration-file-sharing-notes.html"/>
   <updated>2011-05-28T23:22:02+00:00</updated>
   <id>/05/28/site-configuration-file-sharing-notes</id>
   <content type="html">&lt;p&gt;Easiest way to share files is ssh onto the carlboettiger.info server,  change into the directory carlboettiger.info/ and create a new directory there – i.e. share/.  This behaves as a regular static webpage directory that will list the files provided.&lt;/p&gt;
&lt;p&gt;Secure access can be created by going to the goodies –&amp;gt;htaccess/WebDav page and selecting the option to make a directory or subdirectory secure, and then specifying the passwords, etc.  Have created the subdirectory http://carlboettiger.info/share/secure as an example of this.  See &lt;a href=&quot;http://wiki.dreamhost.com/Htaccess&quot;&gt;DreamHost wiki entry for Htaccess.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://wiki.dreamhost.com/FTP&quot;&gt;Dreamhost FTP&lt;/a&gt; access requires an FTP user account.  Anonymous FTP can be set up at an additional cost but is not generally advised.  This may be a good way to allow users to upload large content to me.  At the moment I don’t seem to have the root access to allow me to directly copy files from the guest ftp to my own user directory.&lt;/p&gt;
&lt;p&gt;Looks like can make a page &lt;a href=&quot;http://wiki.dreamhost.com/index.php/WebDAV&quot;&gt;WebDAV&lt;/a&gt; enabled, an http protocol.  Not sure that this will be very useful.  Currently sample webdav page doesn’t even display in browser.&lt;/p&gt;
&lt;h2 id=&quot;git-on-server&quot;&gt;Git on server&lt;/h2&gt;
&lt;p&gt;Configure a root (user carlroot) account for dreamhost &lt;a href=&quot;https://panel.dreamhost.com/index.cgi?tree=vserver.adminusers&amp;amp;&quot;&gt;through the panel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Git &lt;a href=&quot;http://wiki.dreamhost.com/Git&quot;&gt;dreamhost wiki&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For instance, this works:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;log in to server, go to carlboettiger.info/git&lt;/li&gt;
&lt;li&gt;pull a public repo (read-only), i.e.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git clone git://github.com/cboettig/dryad.git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git update-server-info&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in that directory.  Then anyone can clone using:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone http://carlboettiger.info/git/dryad/.git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but cannot push changes back.  Can clone with ssh too.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Matt Potts: Conserving Diversity in Tropical Landscapes</title>
	 <link href="/2011/05/27/matt-potts-conserving-diversity-in-tropical-landscapes.html"/>
   <updated>2011-05-27T21:27:20+00:00</updated>
   <id>/05/27/matt-potts-conserving-diversity-in-tropical-landscapes</id>
   <content type="html">&lt;p&gt;My notes from Matt’s seminar: Theory and field work addressing getting beyond binary decision making.  Malaysia.  Tropical forest becoming oil palm, rice, rubber, tea.&lt;/p&gt;
&lt;h3 id=&quot;reserve-selection-vs-landscape-reserve-design&quot;&gt;Reserve Selection vs Landscape Reserve Design&lt;/h3&gt;
&lt;h3 id=&quot;optimality-of-specialized-vs-uniform-forest-management&quot;&gt;Optimality of Specialized vs Uniform Forest Management&lt;/h3&gt;
&lt;p&gt;Uniform (sustainable forest management) vs very protected areas, ignore what’s done outside.  More intensive disturbance.&lt;/p&gt;
&lt;p&gt;An important ecological nonlinearity: What’s the most ubiquitous spatial pattern? Aggregated, random, uniform?  (50 hectares is .5 km by km, or 120 English acres, tag every tree taller than 1.3m &lt;a href=&quot;http://www.ctfs.si.edu/&quot;&gt;CTFS&lt;/a&gt;, very nice spatial data).  [Also an &lt;a href=&quot;http://rss.acs.unt.edu/Rdoc/library/CTFS/html/00Index.html&quot;&gt;R package&lt;/a&gt;, though removed from cran]&lt;/p&gt;
&lt;p&gt;((Aggregated? What about Jansen Connell? ))&lt;/p&gt;
&lt;p&gt;For a fixed reserve area A, find the number of reserves (of size a) that maximizes the number m of species in the reserve: given that species are aggregated. (assume abundance distribution – log-normal from Hubble (lots of rare species).  Neg Binomial model for aggregations.  (Assume a minimum viable population, ~100 individuals).&lt;/p&gt;
&lt;p&gt;Sanity check cases: under random model, regardless of A, one large reserve is optimal.  Very aggregated, one large reserve is never optimal. Treats a two-step problem: economics tell you total area A, step 2: decide how to partition that.  (Springborn Question: when should you be doing step 1 conditional on step 2?)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Conclusion&lt;/em&gt;: as biodiversity is more valuable, fewer larger reserves is better.&lt;/p&gt;
&lt;p&gt;Field study on VJR areas, no pattern on biodiversity.  hmm.&lt;/p&gt;
&lt;p&gt;(comments on phylogeny &amp;amp; biodiversity?)&lt;/p&gt;
&lt;p&gt;(indicator species diversity of impact.)&lt;/p&gt;
&lt;h3 id=&quot;biodiversity-conservation-challenges-under-redd&quot;&gt;Biodiversity Conservation challenges under REDD+&lt;/h3&gt;
&lt;p&gt;Key-issues:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Additionality: No money to do what you already planned&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Baseline: Additional compared to what&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Leakage: Will this mean more logging elsewhere?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Non-permanence&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Measurement&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Monitoring&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Temporal &amp;amp; Spatial Scales of management: Biodiversity outside the timescale of typical lumber or carbon concerns. How about just RED?  Stack the biodiversity aspect, don’t bundle it?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday Meetings: Duncan; Alan</title>
	 <link href="/2011/05/26/thursday-6.html"/>
   <updated>2011-05-26T23:53:05+00:00</updated>
   <id>/05/26/thursday-6</id>
   <content type="html">&lt;h2 id=&quot;duncan-meeting&quot;&gt;Duncan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ROAuth/RCurl question.  Mendeley is OAuth 1, github is OAuth 2 (simpler).  Both are implemented in pure R in another package, may be good.  OAuth 1 constructs complicated http urls with secret, and token, and random key, need to escape chars, etc.  OAuth 2 is https, just uses token.&lt;/li&gt;
&lt;li&gt;Authentication options: Jeff’s ROAuth/Duncan’s mod, other OAuth package.&lt;/li&gt;
&lt;li&gt;RMendeley– windows binary, competition?&lt;/li&gt;
&lt;li&gt;socialR – discussed strategy to get a figure with matching code and data.  Tracing, codeDepends, defining syntax.&lt;/li&gt;
&lt;li&gt;TreeBASE – iEvoBio lightning talk, data integration competition?  integrate 3 sources: TreeBASE, Dryad, Mendeley?  Github share scripts?&lt;/li&gt;
&lt;li&gt;Dryad: Scott on board.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finding requisite sampling density.&lt;/li&gt;
&lt;li&gt;Switching to ROC curves?  Yup.  Include graphic illustrating how they are computed.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2446/5762718170_60466b90dd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Rephrasing critique of what’s done: quantifying it’s performance vs understanding it’s performance (move latter to appendix).&lt;/li&gt;
&lt;li&gt;Data/lit.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;coding-and-writing&quot;&gt;Coding and writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working on updating manuscript figures&lt;/li&gt;
&lt;li&gt;MCMCMC routine on wrightscape example still manages to throw errors sometimes, not clear why.  more debugging.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Always takes me a moment to remember how to grab a deleted or changed file from an earlier commit to the repository, thought I better write it down.  Now tracking these useful bits under code-tricks (maybe should keep them as gists too?  If only gists could have tag structure, etc)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;git&lt;/span&gt; checkout 81e8a9fac4a862ca097ae2ef693fbfe33a0970c5 roc_curve_ex.R&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Reuse of phylogenetic info: Looking at &lt;a href=&quot;https://www.nescent.org/sites/evoio/MIAPA&quot;&gt;MIAPA&lt;/a&gt; project (Leebens-Mack &lt;em&gt;et. al.&lt;/em&gt; 2006), &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=5444&quot;&gt;NSF ABI&lt;/a&gt;.  Wonder if the TreeBASE project (maybe with Dryad+Mendeley interfaces) can be turned into a&lt;a href=&quot;http://ievobio.org/challenge.html&quot;&gt;iEvoBio challenge entry&lt;/a&gt; (deadline June 13!)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Leebens-Mack J, Vision T, Brenner E, Bowers J, Cannon S, Clement M, Cunningham C, DePamphilis C, DeSalle R, Doyle J, Eisen J, Gu X, Harshman J, Jansen R, Kellogg E, Koonin E, Mishler B, Philippe H, Pires J, Qiu Y, Rhee S, Sjölander K, Soltis D, Soltis P, Stevenson D, Wall K, Warnow T and Zmasek C (2006). “Taking The First Steps Towards A Standard For Reporting on Phylogenies: Minimum Information About A Phylogenetic Analysis (Miapa).” &lt;em&gt;Omics: A Journal of Integrative Biology&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1536-2310, &lt;a href=&quot;http://dx.doi.org/10.1089/omi.2006.10.231&quot;&gt;http://dx.doi.org/10.1089/omi.2006.10.231&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/05/25/wednesday-5.html"/>
   <updated>2011-05-25T17:25:06+00:00</updated>
   <id>/05/25/wednesday-5</id>
   <content type="html">&lt;h2 id=&quot;r-packages&quot;&gt;R packages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Trying to build Windows binaries for R packages using &lt;a href=&quot;http://win-builder.r-project.org/&quot;&gt;win-builder&lt;/a&gt; service.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First have to get R CMD check working.  Check runs in –vanilla mode so have to tell it where libraries are.  Created the file ~/.R/check.Renviron containing the line: R_LIBS=“/home/cboettig/R/packages” seems to do the trick.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Successfully built windows binaries for RMendeley package (pre-release, still in development). &lt;a href=&quot;https://github.com/downloads/cboettig/RMendeley/RMendeley_0.1-1.zip&quot;&gt;Download&lt;/a&gt; the binaries from github.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt successfully installed &lt;a href=&quot;http://developer.nvidia.com/cuda-toolkit-40&quot;&gt;CUDA&lt;/a&gt; on zero (2.6, looks like we might want 3.0 or 4.0 – if only they could organize their site better…).  Now, do we pay for an academic license of &lt;a href=&quot;http://www.culatools.com/&quot;&gt;CULA&lt;/a&gt; tools and start playing with &lt;a href=&quot;http://brainarray.mbni.med.umich.edu/brainarray/rgpgpu/&quot;&gt;gputools&lt;/a&gt;?  A few more specialized GPU R packages are on the &lt;a href=&quot;http://cran.r-project.org/web/views/HighPerformanceComputing.html&quot;&gt;HPC taskview&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Troubleshooting MCMC – resolved some minor issues from last night’s run.  Seems to be up and running now (on zero, pid 14301, nice 5), we’ll see if we get successful output…&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3432/5760676232_8b926d033e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Re-running with smaller step increments on m (1/20th of value), see if the posterior is smaller). Running with four chains, still 1e5 steps, nice 18.&lt;br /&gt;Running with four chains, 1e6 steps, nice 19.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Running longer versions of sampling effect (have enough replicates to get smooth distributions), on zero, nice 19&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can represent these as &lt;a href=&quot;http://en.wikipedia.org/wiki/Receiver_operating_characteristic&quot;&gt;ROC Curves&lt;/a&gt;, showing the result of 20, 50, 100, and 200 data points.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5187/5760099339_9c535e11ce_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;For deteriorating example in &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5755642208&quot;&gt;this dataset&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Working on manuscript edits, 4:30p - ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;teaching&quot;&gt;Teaching&lt;/h2&gt;
&lt;p&gt;Teaching second half of phylogenetics comparative methods tutorial in R in core today.  Using my &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Boettiger%29_2011&quot;&gt;Bodega curriculum&lt;/a&gt;, covered up through model choice.  3p-4:30p.&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ooh: Stack &lt;em&gt;et. al.&lt;/em&gt; 2011&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Losos’s address from Evolution last year, out in Am Nat.   (Losos, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cass pulled out this gem from Bruce Alberts: (Alberts, 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Daniel says peer review should be public (Mietchen, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wow, once again Jeremy really writes about some great stuff on Oikos blog. Just a read &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/05/24/ignorance-is-bliss-sometimes/&quot;&gt;a piece after my own heart&lt;/a&gt; on the meaning of “random” in ecology. I think I need to cut back, I might be addicted.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;p&gt;Things I haven’t gotten to today. Should add these to their github repositories issues trackers.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dryad R package – search metadata. Scott is taking a whack at this one.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase support for downloading character matrices. Should be quick. one day&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase writeup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SocialR – integrate Rflickr, twitteR, begin github api, improved tracking of relevant code and data&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Losos J (2011). “Seeing The Forest For The Trees: The Limitations of Phylogenies in Comparative Biology.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;177&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/660020&quot;&gt;http://dx.doi.org/10.1086/660020&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alberts B (2005). “A Wakeup Call For Science Faculty.” &lt;em&gt;Cell&lt;/em&gt;, &lt;strong&gt;123&lt;/strong&gt;. ISSN 00928674, &lt;a href=&quot;http://dx.doi.org/10.1016/j.cell.2005.11.014&quot;&gt;http://dx.doi.org/10.1016/j.cell.2005.11.014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mietchen D (2011). “Peer Reviews: Make Them Public.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473452b&quot;&gt;http://dx.doi.org/10.1038/473452b&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rbrownie: an R Package For Testing Hypotheses About Rates of Evolutionary Change, J. Conrad Stack, Luke J. Harmon, Brian O’Meara, (2011) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00112.x&quot;&gt;10.1111/j.2041-210X.2011.00112.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
	 <link href="/2011/05/24/tuesday-4.html"/>
   <updated>2011-05-24T23:09:15+00:00</updated>
   <id>/05/24/tuesday-4</id>
   <content type="html">&lt;h2 id=&quot;warning-signals-package&quot;&gt;Warning signals package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewing &lt;a href=&quot;http://www.carlboettiger.info/archives/1169&quot;&gt;Numerical challenges&lt;/a&gt; for faster analysis on warningsignals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;created a quick &lt;a href=&quot;https://github.com/cboettig/mcmcTools&quot;&gt;mcmcTools&lt;/a&gt; package so different packages can use my custom routines.  Will have to explore some of the standard packages eventually, though most seem somewhat specialized (the Bayesian task-view is epic).  &lt;a href=&quot;http://cran.r-project.org/web/packages/bayesm/index.html&quot;&gt;bayesm&lt;/a&gt; looks promising, and LearnBayes package that accompanies Jim Albert’s book (Albert, unknown) might be worth a closer look.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrote mcmc script for &lt;a href=&quot;https://github.com/cboettig/warningsignals&quot;&gt;warningsignals&lt;/a&gt;, much more debugging to handle out-of-bounds conditions then expected.  Also switched to call parameters by position instead of name in linear_bifur_models.  Debugging is slow with slow codes!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;illustrating how increasing the sampling rate increases power to determine necessary monitoring scheme:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-05-24 10:40:00” max_upload_date=“2011-05-24 16:15:00”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Need to start writing more informative commit messages and committing more logically connected blocks with git.  Will perhaps go hand-in-hand with getting better with &lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=2975&quot;&gt;fugitive plugin&lt;/a&gt; for git commands in vim, for which &lt;a href=&quot;http://vimcasts.org/episodes/fugitive-vim---a-complement-to-command-line-git/&quot;&gt;vimcasts has a nice tutorial&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;meetingstalks&quot;&gt;Meetings/Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Matt @ Wainwright lab meeting 2-4p&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Morgan’s exit seminar. 4-5p&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Albert J (unknown). “Bayesian Computation With R.” &lt;em&gt;Unknown&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: some code-tricks, Algorithms group planning</title>
	 <link href="/2011/05/23/monday-5.html"/>
   <updated>2011-05-23T23:00:18+00:00</updated>
   <id>/05/23/monday-5</id>
   <content type="html">&lt;h2 id=&quot;teary&quot;&gt;Teary&lt;/h2&gt;
&lt;p&gt;Some discussion on combining Greek letters with variables in R.  Previously have solved this with substitute() command,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;4.5&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;substitute&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Kendall &amp;quot;&lt;/span&gt;, tau ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;val), &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;val =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;])))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but Peter has a more elegant solution that can be vectorized:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;interaction&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; == &amp;quot;&lt;/span&gt;),function(x)&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;x))
&lt;span class=&quot;co&quot;&gt;#for instance&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;legend&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;topright&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;legend=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;interaction&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; == &amp;quot;&lt;/span&gt;),function(x)&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;x)),&lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Better yet, &lt;code&gt;bquote&lt;/code&gt; has a mechanism to evaluate an argument vs express the argument as a symbol, see gist id=1108159.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Having other people to help code is great, we’re considering the teary list-serve as a potential source for R help now.&lt;/li&gt;
&lt;li&gt;Also very interesting discussion around the NCEAS model, it’s impact, and the role of ecoinformatics. Check out &lt;a href=&quot;http://ice.ucdavis.edu/&quot;&gt;UC Davis’s ICE lab&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Update comments/suggestions about Rblogging and CiTO, posted to Dave Munger. (not actually during teary)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;algorithms-group&quot;&gt;Algorithms group&lt;/h2&gt;
&lt;p&gt;Our group is gaining interest among others, so we spend most of today thinking about our goals and possible changes to the format that could address this while preserving our monkey-style approach of low preparation, liberal doses of mistakes, and actually hacking out working examples of trivial problems together. We also started reviewing the set up for the EM problem, which we’ll consider when Yaniv returns the week after next. Next week we’ll detour into Amazon EC2 tutorial instead.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nick has some great notes on the future of the session, which hopefully will be posted on the OWW page eventually. Meanwhile:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The Algorithm Discussion Group began as a handful of students who met informally to implement toy models of various algorithms in R. Every week, ADG members gather in the Schreiber lab to discuss an algorithm, create code to run a sample problem, and interpret the results. Over the course of the last two months, we’ve covered ABC and (MC)^3, and plan to cover EM and HMM in the near future. While we talk about reading papers beforehand and coming to meetings prepared, it often devolves into shouting instructions at the computer monkey.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Several students have expressed interest in joining our group over the last two months. Unfortunately, our current format would be suboptimal and unwieldy for groups with more than five or six members. We are instituting a few changes to open the group to new members and have three involvement options for interested students.&lt;/p&gt;
&lt;p&gt;Sign up for the mailing list with Alisa (&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h=&#39;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#46;&amp;#x65;&amp;#100;&amp;#x75;&#39;;a=&#39;&amp;#64;&#39;;n=&#39;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&#39;;e=n+a+h;
document.write(&#39;&lt;a h&#39;+&#39;ref&#39;+&#39;=&quot;ma&#39;+&#39;ilto&#39;+&#39;:&#39;+e+&#39;&quot; clas&#39;+&#39;s=&quot;em&#39; + &#39;ail&quot;&gt;&#39;+e+&#39;&lt;\/&#39;+&#39;a&#39;+&#39;&gt;&#39;);
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x65;&amp;#100;&amp;#x75;&lt;/noscript&gt;). We envision this as a way for students to talk about algorithms, mathematics, statistics, and coding. Most importantly, it’s going to be a safe environment to ask questions and not worry about sounding goofy.&lt;/p&gt;
&lt;p&gt;Attend formal Algorithm Discussion Group meetings. Meetings will occur approximately monthly and be announced on the ADG mailing list. One student will lead the meetings and provide reading material and code prior to the event. The meetings will be interactive and accessible for students with beginning coding and rusty mathematical skills.&lt;/p&gt;
&lt;p&gt;The third option is to pitch algorithm meeting ideas to the organizing committee. Interested students can suggest algorithms with general applicability to Pop Bio student research and have the option of implementing the algorithm in R with the organizing committee and presenting it at the monthly meeting. Currently, the organizing committee is Alisa, Carl, Dave, Nick, and Yaniv, but we envision members rotating in and out as commitments change and students leave Davis.&lt;/p&gt;
&lt;p&gt;Anyway, reply to Alisa (&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h=&#39;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#46;&amp;#x65;&amp;#100;&amp;#x75;&#39;;a=&#39;&amp;#64;&#39;;n=&#39;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&#39;;e=n+a+h;
document.write(&#39;&lt;a h&#39;+&#39;ref&#39;+&#39;=&quot;ma&#39;+&#39;ilto&#39;+&#39;:&#39;+e+&#39;&quot; clas&#39;+&#39;s=&quot;em&#39; + &#39;ail&quot;&gt;&#39;+e+&#39;&lt;\/&#39;+&#39;a&#39;+&#39;&gt;&#39;);
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x65;&amp;#100;&amp;#x75;&lt;/noscript&gt;) if you’re interested in participating further. This will be the last email to the CPB-student list and all future emails will be to the ADG list.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;updates to &lt;a href=&quot;http://www.carlboettiger.info/archives/1736&quot;&gt;MCMC&lt;/a&gt; (with examples), and Dave pointed this &lt;a href=&quot;http://cscs.umich.edu/~crshalizi/weblog/606.html&quot;&gt;intriguing example&lt;/a&gt; of bad behavior in MCMC convergence out.  Seems to be a rather different problem than I get from the priors, as it is rather contrived with a bimodal distribution to stump the particular centered prior, but oh well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;p&gt;Only a bit of real research today.  Updates to warningsignals, see git log.&lt;/p&gt;
&lt;h2 id=&quot;discussion-for-gtc&quot;&gt;Discussion for GTC&lt;/h2&gt;
&lt;p&gt;Great discussion about better alternatives to the cookbook lab report: 1. Moskovitz, C. &amp;amp; Kellogg, D. &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200353&quot;&gt;Science education. Inquiry-based writing in the laboratory course&lt;/a&gt;. Science (New York, N.Y.) 332, 919-20(2011).&lt;/p&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Asai, D.J.&lt;a href=&quot;http://dx.doi.org/10.1126/science.1207680&quot;&gt;Measuring student development&lt;/a&gt;. Science (New York, N.Y.) 332, 895(2011).  Particularly interesting in that a big player is taking accurate assessment the effectiveness of educational impact seriously; something other funders (i.e. NSF broader impacts) have not done, and also in its reference to this &lt;a href=&quot;http://nces.ed.gov/pubsearch/pubsinfo.asp?pubid=2000601&quot;&gt;excellent study&lt;/a&gt; characterizing gender and race/ethnicity differences in staying in the sciences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Deslauriers, L., Schelew, E. &amp;amp; Wieman, C.&lt;a href=&quot;http://dx.doi.org/10.1126/science.1201783&quot;&gt;Improved Learning in a Large-Enrollment Physics Class&lt;/a&gt;. Science 332, 862-864(2011), also discussed in this &lt;a href=&quot;http://www.nytimes.com/2011/05/13/science/13teach.html?_r=2&quot;&gt;NY Times piece&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also looked into some work by Scott Freeman. Scott also sent the preprint for #2, which isn’t out yet, hence why I couldn’t find it.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Freeman, S. &amp;amp; Parks, J.W. How accurate is peer grading? CBE life sciences education 9, 482-8(2010).&lt;/li&gt;
&lt;li&gt;Freeman, S., Haak, D. &amp;amp; Wenderoth, M.P. Increased Course Structure Improves Performance in Introductory Biology. Education (2011).doi:10.1187/cbe.10-08-0105&lt;/li&gt;
&lt;li&gt;Entry and Persistence of Women and Minorities in College Science and Engineering Education Entry and Persistence of Women and Minorities in College Science and Engineering Education. Educational Research (2000).&lt;/li&gt;
&lt;li&gt;Freeman, S. et al. Prescribed Active Learning Increases Performance in Introductory Biology. Education 6, 132-139(2007).&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
	 <link href="/2011/05/22/sunday.html"/>
   <updated>2011-05-22T21:33:41+00:00</updated>
   <id>/05/22/sunday</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.biomath.ilstu.edu/beer/&quot;&gt;International Symposium on Biomathematics and Ecology: Education and Research&lt;/a&gt; – This looks excellent, wonder if I can make it.  Besides, it’s in Portland and the acronym is promising.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.foodwebs.org/&quot;&gt;Pacific Ecoinformatics and Computational Ecology Lab&lt;/a&gt; - Based in Berkeley, looks rather intriguing, hard to tell how active this is as a group.&lt;/li&gt;
&lt;li&gt;Ecoinformatics? So it does exist? Paraphrasing Jeremy Fox, has it done anything?  A rather nice review in ARES: (Jones &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;li&gt;HHMI to take measuring achievement of education programs seriously in its next round of $60M in grants to primarily undergrad institutions.  (Asai, 2011).&lt;/li&gt;
&lt;li&gt;Integrating writing into science courses makes it into the Education Forum of this week’s issue.  (Moskovitz &amp;amp; Kellogg, 2011)&lt;/li&gt;
&lt;li&gt;Great post over at Oikos blog on NCEAS, prompted me to &lt;a href=&quot;http://www.carlboettiger.info/archives/1788&quot;&gt;some writing&lt;/a&gt;. Too much fun.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.dataone.org/content/dataone-users-group&quot;&gt;DataONE users group&lt;/a&gt; reads like a who’s who in data archiving in ecology and evolution.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;programming&quot;&gt;Programming&lt;/h2&gt;
&lt;h3 id=&quot;rmendeley&quot;&gt;Rmendeley&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fixed my difficulties with search queries in RMendeley by discipline.  The documentation read that the argument was “discipline-id”.  While you do give the id-number (i.e., “6” for computer science, see categories() for a list of id numbers), the API argument should just read “discipline.” Looks like the &lt;a href=&quot;https://sites.google.com/site/mendeleyapi/home/concepts#discipline_id&quot;&gt;documentation has been updated&lt;/a&gt;, and I’ve learned how to log in to edit the wiki (sign in is at the bottom of the page).&lt;/li&gt;
&lt;li&gt;This should just about complete the public API.  A few testing things still to do: Searches with spaces should be entered as %20, and DOI forward-slashes may need to be escaped, but haven’t figured out how to do so.  Another question posted to the Dev-list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dryad&quot;&gt;Dryad&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Can OAI_MPH can search/query by any of the metadata tags by specifying the tag by the metadata prefix?  Doesn’t seem like it, maybe I’m missing something.  Once again a question for the dev-list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;blog-updates&quot;&gt;Blog updates&lt;/h2&gt;
&lt;p&gt;Okay, so as I say, this is a lab notebook, not a blog.  Except when it’s a blog.  In that spirit, I’ve decided to register with a few relevant blog networks, to share my more bloggified notebook entries with their relevant audiences – namely, entries about the literature, and entries about R.&lt;/p&gt;
&lt;p&gt;Finally registered for &lt;a href=&quot;http://researchblogging.org/news/?p=88&quot;&gt;ResearchBlogging.org&lt;/a&gt;.  I love this idea, but I think they could include a few recommendations.&lt;/p&gt;
&lt;p&gt;In the past I’ve hesitated from registering because I’ve wondered what exactly &lt;a href=&quot;http://researchblogging.org/news/?p=88&quot;&gt;their standards&lt;/a&gt;were, and what the&lt;a href=&quot;http://www.researchblogging.org/static/index/page/register&quot;&gt;approval process&lt;/a&gt;looked like.  I’ve finally found them, but they could be placed somewhere more obvious and look a bit more formal?  Primarily as this information might be of interest to those looking to read blogs but not register.  Their automatic citation thing is great – but I’d like to use my own automatic citation thing (kcite).  I wish either one supported CiTO.&lt;/p&gt;
&lt;p&gt;There’s no obvious statistics associated with Research Blogging (number of blogs, breakdown by discipline), or a way to search for blog entries on a specific paper (by, say, title or DOI), which seems like it should be simple given that users all add the little RB citation script to their page.&lt;/p&gt;
&lt;p&gt;I’ll have to figure out which posts I would actually tag as research blogging.  I cite articles in most of my posts, but many would not quite fit the research-blogging paradigm.  We’ll see how my approval goes and where I go from there.&lt;/p&gt;
&lt;h3 id=&quot;r-bloggers&quot;&gt;R-Bloggers&lt;/h3&gt;
&lt;p&gt;Pushed my &lt;a href=&quot;http://www.carlboettiger.info/archives/tag/r/feed/rss&quot;&gt;R tag&lt;/a&gt; as an RSS to &lt;a href=&quot;http://www.r-bloggers.com/&quot;&gt;R-bloggers&lt;/a&gt;.  Includes two posts so far.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Jones M, Schildhauer M, Reichman O and Bowers S (2006). “The New Bioinformatics: Integrating Ecological Data From The Gene to The Biosphere.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.ecolsys.37.091305.110031&quot;&gt;http://dx.doi.org/10.1146/annurev.ecolsys.37.091305.110031&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Asai D (2011). “Measuring Student Development.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1207680&quot;&gt;http://dx.doi.org/10.1126/science.1207680&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Moskovitz C and Kellogg D (2011). “Inquiry-Based Writing in The Laboratory Course.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200353&quot;&gt;http://dx.doi.org/10.1126/science.1200353&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>End of NCEAS & the legacy of synthetic data</title>
	 <link href="/2011/05/22/end-of-nceas-the-legacy-of-synthetic-data.html"/>
   <updated>2011-05-22T15:40:43+00:00</updated>
   <id>/05/22/end-of-nceas-the-legacy-of-synthetic-data</id>
   <content type="html">&lt;p&gt;The upcoming termination of NSF funding for &lt;a href=&quot;http://www.nceas.ucsb.edu/&quot;&gt;NCEAS&lt;/a&gt; has recently been receiving a bit of attention, including this nice piece in &lt;em&gt;Science&lt;/em&gt; (Stokstad, 2011).  I was particularly intrigued by &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/05/20/its-the-end-of-nceas-as-we-know-it-and-i-feel-fine/&quot;&gt;Oikos’s treatment of this&lt;/a&gt;, in which Oikos editor Jeremy Fox writes,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;that’s probably NCEAS’ biggest legacy-the sense that the answers to all, or at least many, of our questions are already out there, in existing data that just needs to be pulled together&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;and then argues that this may have gone to far,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As the saying goes, if all you have is a hammer, everything looks like a nail. Similarly, if all you have is the data you’ve currently got, every question looks like one that can be answered with those data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think this is an important point to raise, but it misses the mark.  I don’t think anyone meant we should never collect new data.  I think the issue is rather that we never look back at the data we collect, as Jeremy very aptly acknowledges:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The sort of datasets I (and everyone I know) work with can be handled easily on an ordinary laptop with ordinary software like Excel and R. […] we’re getting along just fine without any ecoinformatics or high performance computing resources.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As he says, if all you have is a hammer, everything looks like a nail. This is &lt;em&gt;exactly&lt;/em&gt; why efforts such as NCEAS are so important. Darwin didn’t need a laptop with Excel and R, he got along just fine.  So why is everyone using fancy laptops?&lt;/p&gt;
&lt;p&gt;I don’t think we’re at any risk of all new data collection ceasing and everyone pouring over the same tired old few studies.  Rather we’re in an era of being flooded with data, from GenBank to NCEAS to the thousands of individual studies becoming papers in our ever-expanding journals.  We will always need new data, and we’ll always collect it, even though it is hard work and expensive, as Jeremy says.&lt;/p&gt;
&lt;p&gt;Do we check that our questions cannot be answered by combining existing data before we set off to get more?  Do we design our collection in a way that others can maximally reuse the data to answer other questions, or combine it with other existing data to answer the kinds of questions that a small, short-term, or system-specific dataset cannot? Do we recognize the contributions of excellent, careful data collection the way we do those brilliantly clever insights backed by the most tenuous available evidence?  Do we have the tools to do this?&lt;/p&gt;
&lt;p&gt;Jeremy has argued that many centers have attempted to mimic NCEAS, and it is worth reflecting on exactly what is successful.  Another of NSF’s short-term initiative centers, NESCent, (National Evolutionary Synthesis Center) holds an equally synthetic charge which was excellently enunciated by it’s own independent post-docs in an article called Linking Big,  (Sidlauskas &lt;em&gt;et. al.&lt;/em&gt; 2009), emerging in the aftermath of an NSF program review that critiqued the center early on for being insufficiently synthetic. NESCent will soon face similar challenges to NCEAS, figuring out how to continue its mission and value on a model that goes beyond 5-year program grants.&lt;/p&gt;
&lt;p&gt;Their recent piece in &lt;em&gt;Nature&lt;/em&gt; (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2011) emphasizes the importance of funding data-archiving infastructure, which, at a cost of $400,000 annually may generate much more research for the dollar than the current NSF funding average of over $25,000 per paper ((or the 3.7 million budget of NCEAS, though admittedly was charged with a much greater scope)).&lt;/p&gt;
&lt;p&gt;As NCEAS authors Reichman, Jones &amp;amp; Schildhauer eloquently state, (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ecology is a synthetic discipline benefiting from open access to data from the earth, life, and social sciences. Technological challenges exist, however, due to the dispersed and heterogeneous nature of these data. Standardization of methods and development of robust metadata can increase data access but are not sufficient. Reproducibility of analyses is also important, and executable workflows are addressing this issue by capturing data provenance. Sociological challenges, including inadequate rewards for sharing data, must also be resolved. The establishment of well-curated, federated data repositories will provide a means to preserve data while promoting attribution and acknowledgement of its use.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Reichman, Jones &amp;amp; Schildhauer are putting their money on federated repositories such as &lt;a href=&quot;https://www.dataone.org/&quot;&gt;DataONE&lt;/a&gt; to address these challenges, which may be a key as well as economical solution.  But will such programs be funded more continuously than the synthesis centers that have jump-started them?  What role will future centers play in helping us address those challenges?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stokstad E (2011). “Pioneering Center Ponders Future as Nsf Pulls Out.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.332.6032.905&quot;&gt;http://dx.doi.org/10.1126/science.332.6032.905&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sidlauskas B, Ganapathy G, Hazkani-Covo E, Jenkins K, Lapp H, McCall L, Price S, Scherle R, Spaeth P and Kidd D (2009). “Linking Big: The Continuing Promise of Evolutionary Synthesis.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00892.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00892.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Piwowar H, Vision T and Whitlock M (2011). “Data Archiving is A Good Investment.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473285a&quot;&gt;http://dx.doi.org/10.1038/473285a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms group: MCMCMC</title>
	 <link href="/2011/05/19/algorithms-group-mcmcmc.html"/>
   <updated>2011-05-19T12:52:34+00:00</updated>
   <id>/05/19/algorithms-group-mcmcmc</id>
   <content type="html">&lt;p&gt;Discussed &lt;span class=&quot;math&quot;&gt;\(\text{MC}^3\)&lt;/span&gt;, the &lt;a href=&quot;http://en.wikipedia.org/wiki/Bayesian_inference_in_phylogeny#Metropolis-coupled_MCMC_.28Geyer.29&quot;&gt;Metropolis coupled Markov Chain Monte Carlo&lt;/a&gt;, in Monday’s algorithms group meeting, just getting around to posting code.  The MrBayes paper is a good reference for this (Altekar &lt;em&gt;et. al.&lt;/em&gt; 2004).  Our&lt;a href=&quot;https://gist.github.com/956311&quot;&gt;practice example&lt;/a&gt; needed some debugging. I re-wrote a general purpose mcmcmc function in R to illustrate the algorithm, below.  Recall that it modifies our original MCMC in two ways.  The normal proposal step gets weighted by temperature, allowing heated chains to step downhill more often.  We draw a uniform (0,1) random number and accept the move R is larger than it, where:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ R = \min\left[ 1, \left( \frac{f(X|\theta^{\prime})}{f(X|\theta)} \times \frac{f(\theta^{\prime})}{f(\theta)} \right)^{\beta_i} \times \frac{q(\theta)}{q(\theta^{\prime})} \right] \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \beta_i = \frac{1}{1+\Delta T \times (i-1)} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;for priors $ f() $, likelihood $ f(X|) $, proposed parameters $ ^{} $, and proposal density $ q() $&lt;/p&gt;
&lt;p&gt;In this mode chains evolve along independently.  We occasionally propose a swap between chains, where the Hastings ratio takes on the specific form:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[R = \min \left[1, \left( \frac{f(\theta_k|X)}{f(\theta_j|X)} \right)^{\beta_j} \left( \frac{f(\theta_j|X)}{f(\theta_k|X)}\right)^{\beta_k} \right]\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that for the posterior $ f(| X) $ we use $ f(X|) f() $, just as in the single chain case, which is true modulo the normalization $ f(X) $.&lt;/p&gt;
&lt;p&gt;[gist id=981399]&lt;/p&gt;
&lt;p&gt;Note this code doesn’t run anything, we have to specify temperature ratios $ _i $, the likelihood function, and the prior, and then it can give us back chains.  Here’s a trivial example based on our Gaussian process:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
## Observed Data
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)

loglik &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
  ## The likelihood function
  &lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(X, &lt;span class=&quot;dt&quot;&gt;mean=&lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;) )
}
prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#  dnorm(pars[1], 0, 1000, log=TRUE)+&lt;/span&gt;
 &lt;span class=&quot;co&quot;&gt;# dnorm(pars[2], 0, 1000, log=TRUE)&lt;/span&gt;
}

&lt;span class=&quot;co&quot;&gt;# chains can have different or matching starting conditions, will mix anyway&lt;/span&gt;
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))

chains &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mcmcmc_fn&lt;/span&gt;(pars, loglik, prior, &lt;span class=&quot;dt&quot;&gt;MaxTime=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;indep=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;stepsizes=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;02&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Works rather well: &lt;img src=&quot;http://farm4.staticflickr.com/3642/5752281143_ea460ec9a2_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;With different prior:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
  &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dexp&lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The run converges on an erroneous sigma value:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5023/5752308597_18ec63132b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Longer runs don’t seem to fix this, but increasing the number of sample points in the data (from 20 to say, to 200) does.&lt;/p&gt;
&lt;p&gt;Plotting code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;layout&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;matrix&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;nrow=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)))
&lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;cex.lab=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cex.axis=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(chains[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;l&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;),
 &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mixing chains&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;ylab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;log prob density&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;lines&lt;/span&gt;(chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;legend&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;bottomright&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;normal&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;heated&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;cex=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;density&lt;/span&gt;((chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])), &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mu&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#curve(dnorm(x, 0, 1000), add=TRUE, lty=2)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;density&lt;/span&gt;((chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;])), &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#curve(dexp(x, 10), add=TRUE, lty=2)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Altekar G, Dwarkadas S, Huelsenbeck J and Ronquist F (2004). “Parallel Metropolis Coupled Markov Chain Monte Carlo For Bayesian Phylogenetic Inference.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;20&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btg427&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btg427&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/05/19/thursday-5.html"/>
   <updated>2011-05-19T10:52:22+00:00</updated>
   <id>/05/19/thursday-5</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Finish and post core notes from yesterday.&lt;/li&gt;
&lt;li&gt;Debugging locale problem in phylo packages = success.  Emmanuel has already patched drop.fossils() in the ape package, will see if Gieger and TreeSim try to handle locale issue directly too.  Problem in comparisons:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Sys.setlocale&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;locale =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# default locale using UTF8&lt;/span&gt;
 &lt;span class=&quot;co&quot;&gt;# message deleted&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &amp;quot;-1&amp;quot;&lt;/span&gt; &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
 [&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Sys.setlocale&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;locale =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;C&amp;quot;&lt;/span&gt;)
 &lt;span class=&quot;co&quot;&gt;# message deleted&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &amp;quot;-1&amp;quot;&lt;/span&gt; &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
 [&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Posted MCMCMC notes from algorithms.&lt;/li&gt;
&lt;li&gt;Hastings Meeting 10-10:30&lt;/li&gt;
&lt;li&gt;Wainwright lab meeting 2-3p: Chris discusses Cameroon Cichlids and evidence for sympatric speciation. Also can measure age/stress/fitness by rings on fish scales. wow.&lt;/li&gt;
&lt;li&gt;Hastings lab meeting 3-4p: Matt discusses transition to policy from science. Sandy Liebhold joins us for the chat.&lt;/li&gt;
&lt;li&gt;Catch up on reading. Get better at citing reading in notebook for reference.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;todays-reading&quot;&gt;Today’s reading&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Heather’s column in_ Nature_ (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2011), and more details and longer full-text on &lt;a href=&quot;http://researchremix.wordpress.com/2011/05/19/nature-letter/&quot;&gt;her blog&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;MCMCMC reference, Geyer, C.J. &lt;a href=&quot;http://www.jstor.org/stable/2246094&quot;&gt;Practical markov chain monte carlo&lt;/a&gt;. Statistical Science 7, 473-483(1992).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Piwowar H, Vision T and Whitlock M (2011). “Data Archiving is A Good Investment.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473285a&quot;&gt;http://dx.doi.org/10.1038/473285a&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Birth-death Tutorial for PBG Core</title>
	 <link href="/2011/05/18/birth-death-tutorial-for-pbg-core.html"/>
   <updated>2011-05-18T23:55:05+00:00</updated>
   <id>/05/18/birth-death-tutorial-for-pbg-core</id>
   <content type="html">&lt;p&gt;Ran a introductory tutorial on birth-death models for phylogenetic trees in R today for Peter Wainwright’s section of the Pop Bio Core sequence. Notes below, in a manner that may suggest I was better organized than reality might attest. Luckily the firsties are brilliant…&lt;/p&gt;
&lt;h2 id=&quot;getting-started&quot;&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;Code is shown section by section with results in the following examples.  If you prefer, you can download my full &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/51ba0cbd07171de5c257b46c677b5c6fa8f61faa/ucd_core/branching_models.R&quot;&gt;code file here&lt;/a&gt;, but you will have to comment out my flickr plotting utilities before it will run.  Here we go:&lt;/p&gt;
&lt;p&gt;Install and load the packages “TreeSim” and “laser”.  Will require a recent version of R for TreeSim to install correctly. We also write two simple custom functions to make our life easier, one to get the age of a tree, one to solve r= b-d and a= b/d for b and d.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeSim&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;laser&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(TreeSim); &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)

## tree age
treeage &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
  if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(tree, &lt;span class=&quot;st&quot;&gt;&amp;quot;phylo&amp;quot;&lt;/span&gt;)){
    tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ape2ouch&lt;/span&gt;(tree, &lt;span class=&quot;dt&quot;&gt;scale=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
    time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(tree@times)
  } else {
    time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
  }
  time
}

&lt;span class=&quot;co&quot;&gt;# r is diversification rate, b-d, and a is d/b&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# we&amp;#39;d rather have in terms of b and d&lt;/span&gt;
swp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(r, a){
  b =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;r/(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;-a)
  d =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;r*a/(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;-a)
  &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(b,d)
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;simulating-birth-death-trees&quot;&gt;Simulating Birth-Death Trees&lt;/h2&gt;
&lt;p&gt;We’ll start with the TreeSim function sim.bd.age to create birth-death trees.  These examples illustrate the diversity of possible outcomes that result from the &lt;em&gt;identical model&lt;/em&gt;.  They also highlight subtleties in defining a model – such as, “was that the age from the origin, or the mrca?”  Our first tree: ((yeah, so this tutorial isn’t that introductory – check the help file on sim.bd.age if you’ve forgotten what the arguments to the function are. We assume knowledge of R b.c. students have used it all year now.))&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# so we all get the same result&lt;/span&gt;
tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;F)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tree[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])  )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We get age=1.907982. Less than the age 2 we asked for, as Tomomi had pointed out. This means the founder species took about 0.1 time steps before the first speciation event. We expect the waiting times to be exponentially distributed. This is easy to confirm:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# so we all get the same result&lt;/span&gt;
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;num=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;F)
  times &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, function(tr){
    &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tr)
  })
  times &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;times[times!=&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;co&quot;&gt;# trees that never branch don&amp;#39;t contribute&lt;/span&gt;
## Plot Results
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(times, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)
&lt;span class=&quot;kw&quot;&gt;curve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;dexp&lt;/span&gt;(x, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T) &lt;span class=&quot;co&quot;&gt;# theory&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2577/5736177996_9c94cb2561_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;As we mentioned, setting the age equal to the most recent common ancestor (mrca) means the tree does have the age specified. We wondered if this held true when the tree had extinction, since it is possible the first branching event could end up with no descendants on one branch. In that case it isn’t the mrca of extant taxa, and it gets pruned, such that the total length of the tree is still the age given. ((So if we show the complete tree (complete=TRUE) with extinct taxa, is such a taxon floating or lost?)) This example tests this a bunch of times:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  ## This tree is exactly the age we asked for:
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;T)
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(  &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;( tree[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] )  )

  ## This tree isn&amp;#39;t always the age we asked for, or is it:
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;fl&quot;&gt;4.9&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;T)
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(  &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, function(tr) &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tr))   )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, onto visualizing differences in simulation outcomes. The most obvious is the variety in tip counts, as seen in this 6 taxon example:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;mfrow=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))
  for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(trees[[i]])
 &lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5185/5735651931_350bb0bc1b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Do trees that branch early tend to be the ones with more species?&lt;/p&gt;
&lt;p&gt;Notice these trees tend to have many more species than if we were to have mrca=FALSE, because they are older. Conditioning on MRCA age also means that we don’t see empty trees, like we do when we specify age since origin:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2758/5734461229_bd856c083d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Recall we expect: &lt;span class=&quot;math&quot;&gt;\[ e^{\lambda t} \approx 54 \]&lt;/span&gt; tips on average., and in the case of MRCA=true:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
   tips &amp;lt;- sapply(trees,
                  function(x){
                    if(!is(x, &amp;quot;phylo&amp;quot;))
                      ans &amp;lt;- 0  ## If the object isn&amp;#39;t a tree, it&amp;#39;s `cause all extinct
                   else
                     ans &amp;lt;- x$Nnode+1 ## num tip taxa = 1+internal nodes                    ans}) &amp;gt; ## R OUTPUT
&amp;gt; tips
[1] 49 53 70 40 71 64
&amp;gt; exp(4) ## expectation
[1] 54.59815
&amp;gt; mean(tips)  ## observed over 6 replicates
[1] 57.83333
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Running more replicates we can see the long tail of the Poisson. &lt;img src=&quot;http://farm3.staticflickr.com/2513/5735206162_73753568d8_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;conditioning-on-number-of-taxa&quot;&gt;Conditioning on number of taxa&lt;/h3&gt;
&lt;p&gt;Often we are not interested in all possible trees (X), but only the subset that have the observed number (N) of taxa.  This results from conditioning on N:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P(X) = P(X|N)P(N) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Generating our trees with this command instead accomplishes that.  For a great discussion of these issues see the TreeSim paper (Stadler, 2011)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
trees&amp;lt;-  &lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2794/5736723143_fe543c61b1_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2&gt;
Fitting Models
&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
### Let&amp;#39;s take a closer look at estimating parameters from trees now.   ###
## Start with a simple tree
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
&lt;span class=&quot;co&quot;&gt;# fit a birth death model&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# gives confidence levels that assume normality&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;birthdeath&lt;/span&gt;(tree)
## laser&amp;#39;s way of estimating a model
  model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
## estimate a yule model
  yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
&lt;span class=&quot;co&quot;&gt;# which one is better&lt;/span&gt;
  model$aic -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;yule$aic&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;bootstrapping-models&quot;&gt;Bootstrapping Models&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# simulate a tree, fit a birth-death model, pull out the b and d parameters&lt;/span&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                else
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
              })
  ## err, fix formatting if sapply failed to give me a matrix!
  if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(bd_dist, &lt;span class=&quot;st&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;))
    bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(bd_dist),
      function(i) &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(bd_dist[[i]][&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],bd_dist[[i]][&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]))
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(bd_dist)&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3218/5736235990_81f961bf72_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;This didn’t condition on reality of N species being observed. We can repeat with sim.bd.taxa&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                else
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
              })&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3276/5735704383_02c969ccb8_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;How about David’s question on bootstrapping the likelihood?  How about when the birth-death model is inappropriate to the data?  Here we will tranform the tree to create a topology very different than any we’ve seen, where branching starts off rapidly and then seems to stop:&lt;/p&gt;
&lt;p&gt;Birth-death trees are quite twiggy, this seems like a rather unlikely tree for a birth-death process. &lt;img src=&quot;http://farm6.staticflickr.com/5182/5736268982_d689ba66cb_o.png&quot; /&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]

  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lambdaTree&lt;/span&gt;(tree, .&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) ## TRANSFORM THE TREE
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)){
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                  lh &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;fit$LH
                }
                else {
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                  lh &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                }
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], lh)
              })
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(bd_dist)

  ## give us a wee peek at some summary data
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(bd_dist))
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(bd_dist, &lt;span class=&quot;dt&quot;&gt;na.rm=&lt;/span&gt;T))

  &lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;bddist.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;480&lt;/span&gt;*&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;mfrow=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;))
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$r, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$a, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;lik&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$LH, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2424/5735722223_e54c61c352_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;However, the bootstrap of likelihood (rightmost histogram) does not register as such a bad fit.  Testing model adequacy requires a richer approach.  The bootstrapping estimates our uncertainty under the assumption that our model is reasonable.&lt;/p&gt;
&lt;h2 id=&quot;a-footnote-on-strange-behavior-in-treesim&quot;&gt;A footnote on strange behavior in TreeSim&lt;/h2&gt;
&lt;p&gt;Some computers (my laptop) geiger’s prune.extinct.taxa or Tanja’s option to return a only extant taxa (complete=FALSE) end up dropping all tips always.  This bug (after some effort and help from mailing lists yesterday) is caused by having: Sys.setlocale(locale=“en_US.UTF-8”)  and can be fixed by using Sys.setlocale(locale=“C”)  &lt;a href=&quot;http://permalink.gmane.org/gmane.comp.lang.r.phylo/1358&quot;&gt;see mailing list threads&lt;/a&gt;…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Parrotfish results, MCMCMC testing, APIs</title>
	 <link href="/2011/05/17/tuesday-3.html"/>
   <updated>2011-05-17T22:55:59+00:00</updated>
   <id>/05/17/tuesday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished review for TE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shared post on TreeBASE API&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviewed Scott’s updates to dryad R API, adjusted formatting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListIdentifiers&quot;&gt;documentation for the OAI-MPH queries&lt;/a&gt;, don’t seem to be as rich as Phylo-ws queries.  This is why treeBASE metadata searches tend to download the full metadata set into R and query that.  Looks like we’ll need to take a similar approach to Dryad, as it doesn’t seem like there’s a way to query the API by author name at all?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;run of Parrotfish example with intensive simulated annealing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5731178948_cc29283d31_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Working on MCMCMC implementation and testing, see (Altekar &lt;em&gt;et. al.&lt;/em&gt; 2004)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Today results summary:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-17 00:00:00” max_upload_date=“2011-05-18 06:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Altekar G, Dwarkadas S, Huelsenbeck J and Ronquist F (2004). “Parallel Metropolis Coupled Markov Chain Monte Carlo For Bayesian Phylogenetic Inference.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;20&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btg427&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btg427&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>TreeBASE in R: a first tutorial</title>
	 <link href="/2011/05/16/treebase-in-r-a-first-tutorial.html"/>
   <updated>2011-05-16T19:46:54+00:00</updated>
   <id>/05/16/treebase-in-r-a-first-tutorial</id>
   <content type="html">&lt;p&gt;My TreeBASE R package is essentially functional now.  Here’s a quick tutorial on the kinds of things it can do.  Grab the &lt;a href=&quot;https://github.com/cboettig/treeBASE/archives/master&quot;&gt;treebase package here&lt;/a&gt;, install and load the library into R.&lt;/p&gt;
&lt;p&gt;TreeBASE provides two APIs to query the database, one which searches by the metadata associated with different publications (called &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;OAI-PMH&lt;/a&gt;), and another which queries the phylogenies directly (called &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;Phylo-ws&lt;/a&gt;).  They have somewhat redundant functions, but for our purposes the second one returns the actual data, while the first returns metadata.  A few examples will best illustrate how this all works.  We start with some queries of the metadata directly without downloading any trees.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Trees can be downloaded with search_treebase(), using a variety of search conditions provided by Phylo-ws API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metadata can be searched by date using search_metadata.  Just Download all metadata for finer queries.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metadata for a study can be grabbed using the study id.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A few examples will better illustrate how this all works.&lt;/p&gt;
&lt;h2 id=&quot;metadata-queries&quot;&gt;Metadata queries&lt;/h2&gt;
&lt;p&gt;How has TreeBASE grown since it’s inception?  Let’s grab the metadata for all entries and histogram by publication year:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;)
dates &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x$date))
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(dates, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeBase growth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2676/5711820192_95ab0fc731_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;What journals have submitted the most studies to treebase?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

journals &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) x$publisher)
J &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tail&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;as.factor&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;unlist&lt;/span&gt;(journals)))),&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
b &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;barplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(J))
&lt;span class=&quot;kw&quot;&gt;text&lt;/span&gt;(b, &lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(J), &lt;span class=&quot;dt&quot;&gt;srt=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;70&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;pos=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xpd=&lt;/span&gt;T)
&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5125/5728023288_1737290073_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;How many have been submitted from &lt;em&gt;Nature&lt;/em&gt;? &lt;em&gt;Science&lt;/em&gt;?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

nature &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Nature&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
science &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Science$&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)

&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(nature)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;11&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(science)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which studies were those?  Can I have those trees please?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;( all[nature] )

nature_trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Other details associated with the study are certainly also available.  Since we downloaded all metadata we have this stored already.  Any tree downloaded stores the TreeBASE study id in $S.id, ((and the unique tree id in $Tr.id)) which we can use to look up the metadata again.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(nature_trees[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]) &lt;span class=&quot;co&quot;&gt;#plot first tree in the first study in the set&lt;/span&gt;

all[nature][&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;co&quot;&gt;# Pull metadata from complete list&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;# Or look up again using the study id:&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(nature_trees[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;importing-phylogenies&quot;&gt;Importing Phylogenies&lt;/h2&gt;
&lt;p&gt;We can query for phylogenies directly on an array of search criteria, such as study authors, taxa included, number of taxa, number of characters in the trait matrix, etc, as illustrated by the following examples.  A few queries that aren’t built into the API (i.e. does the tree have branch lengths) are accomplished by filtering after downloading the tree, which is slower.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

## We&amp;#39;ll often use max_trees in the example so that they run quickly,
&lt;span class=&quot;co&quot;&gt;# notice the quotes for species.&lt;/span&gt;
dolphins &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Delphinus&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
## can do exact matches
humans &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Homo sapiens&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;exact_match=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# all trees with 5 taxa&lt;/span&gt;
five &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;ntax&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# These are different, a tree id isn&amp;#39;t a Study id.  we report both&lt;/span&gt;
studies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;)
tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.tree&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeID&amp;quot;&lt;/span&gt; =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$Tr.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;StudyID&amp;quot;&lt;/span&gt; =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$S.id)
&lt;span class=&quot;co&quot;&gt;# Only results wiht branch lengths&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Has to grab all the trees first, then toss out ones without branch_lengths&lt;/span&gt;
Near &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Near&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(Near)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These queries can be combined with metadata searches&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

#### Metadata examples ###
&lt;span class=&quot;co&quot;&gt;# Use the OAI-PMH api to check out the metadata from the study in which tree is published:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(Near[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)
&lt;span class=&quot;co&quot;&gt;# or manualy give a sudy id&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;combining-metadata-and-phylogeny-queries&quot;&gt;Combining metadata and phylogeny queries&lt;/h2&gt;
&lt;p&gt;Metadata queries can optionally return only those studies added to TreeBASE before or after a given date:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# Use that to get all trees &amp;quot;published&amp;quot; after 2010&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# publication date is only a year&lt;/span&gt;
post2010 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(dates, function(x) &lt;span class=&quot;dv&quot;&gt;2010&lt;/span&gt; &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x))
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;( all[post2010] )
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;co&quot;&gt;# Grab the trees entered since 2011: (some studies will have multiple trees)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#can compare dates with as.Date(&amp;quot;2001-01-01&amp;quot;, &amp;quot;%y-%m-%d) &amp;lt; as.Date ...&lt;/span&gt;
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2011-05-05&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;from&amp;quot;&lt;/span&gt;)
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;(m)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;a-simple-meta-analysis&quot;&gt;A simple meta-analysis&lt;/h2&gt;
&lt;p&gt;Of course, this capacity is most powerful not to merely get some summary statistics of the database, but repeat analyses of given studies or perform meta-analyses.  Most comparative phylogenetics methods require ultrametric trees.&lt;/p&gt;
&lt;p&gt;We can assemble a simple pipeline to perform the meta-analysis across all existing studies of whether phylogenies tend to fit a pure-birth or a birth-death model more frequently:&lt;/p&gt;
&lt;p&gt;As a proof-of-principle, we can create a pipeline that will estimate chronograms for all trees containing branchlengths in treebase.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

timetree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
check.na &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tree$edge.length))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(check.na, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;) |&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;check.na)
&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;
else
&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;chronoMPL&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;multi2di&lt;/span&gt;(tree)) )
}
drop_errors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(trees){
## apply to a list of trees created with timetree to drop errors
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, is.null)]
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, function(x) &lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))]
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;dropped&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(trees)-&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tt), &lt;span class=&quot;st&quot;&gt;&amp;quot;trees&amp;quot;&lt;/span&gt;))
tt

}

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
pick_branching_model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
 m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
 m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
 &lt;span class=&quot;kw&quot;&gt;as.logical&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(m2$aic &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m1$aic))
}

&lt;span class=&quot;co&quot;&gt;# Return all treebase trees that have branch lengths&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# This has to download every tree in treebase, so not superfast...&lt;/span&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Consensus&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type.tree&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop_errors&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, timetree))
is_yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, pick_branching_model)
&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(is_yule)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;replicating-individual-studies&quot;&gt;Replicating individual studies&lt;/h2&gt;
&lt;p&gt;Replicating individual studies is a bit more challenging, mostly do to the quality of available data.  For instance, here is a nice recent study (Rowe &lt;em&gt;et. al.&lt;/em&gt; 2011) that has nicely time calibrated chronograms (from BEAST, Figure 4) and species trees (using BEST, Figure 3), but it seems only the&lt;a href=&quot;http://purl.org/phylo/treebase/dev/phylows/study/find?query=tb.identifier.study=10869&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;Mr. Bayes tree in Figure 2 is given in TreeBASE.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Further, replicating the study would require other data than the phylogenetic tree.  In the future we might hope that this data would appear on Dryad.  Dryad’s web-based search frustratingly does not seem to allow a simple query by doi or treebase id, and a query by title returns a long list of &lt;a href=&quot;http://datadryad.org/discover?&amp;amp;query=Recent+and+Rapid+Speciation+with+Limited+Morphological+Disparity+in+the+Genus+Rattus.&amp;amp;fq=dc.title%3ARecent+and+Rapid+Speciation+with+Limited+Morphological+Disparity+in+the+Genus+Rattus.&amp;amp;filtertype=*&amp;amp;filter=&amp;amp;rpp=10&amp;amp;sort_by=score&amp;amp;order=DESC&amp;amp;location=l2&quot;&gt;things that aren’t this paper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The Mendeley API (through my &lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;RMendeley&lt;/a&gt; package) does a bit better at pulling out some metadata, but not much.  Querying by the doi we can’t find the paper, but the pmid works:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RMendeley)

&lt;span class=&quot;kw&quot;&gt;details&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;21239388&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;pmid&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://datadryad.org/handle/10255/dryad.1705&quot;&gt;Some Dryad papers&lt;/a&gt;have phylogenies, and the data deposition includes the BEAST xml files necessary to reproduce the phylogenies, but not, it seems, the phylogenies themselves.  It would be great to have some good examples of papers with data up on both TreeBASE and Dryad. Further, a pipeline that could regenerate the trees from the alignments might be interesting.&lt;/p&gt;
&lt;p&gt;RaXML for inferring branch lengths: A quick solution for trees that have only topologies would be to infer branch lengths conditional on the topology from the character matrix.  TreeBASE does not include this with the nexus file containing the tree, and would require a separate query to pull the character matrix.  This is handled in the read.nexus.data command.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rowe K, Aplin K, Baverstock P and Moritz C (2011). “Recent And Rapid Speciation With Limited Morphological Disparity in The Genus Rattus.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq092&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq092&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>MathJax the smart way: Child Themes</title>
	 <link href="/2011/05/16/mathjax-the-smart-way-child-themes.html"/>
   <updated>2011-05-16T12:54:05+00:00</updated>
   <id>/05/16/mathjax-the-smart-way-child-themes</id>
   <content type="html">&lt;p&gt;Adding mathjax by modifying the header.php file in my wordpress theme, &lt;a href=&quot;http://www.mathjax.org/docs/1.1/platforms/wordpress.html&quot;&gt;as recommended by MathJax website&lt;/a&gt;, isn’t stable to upgrades of the theme, which simply replace the header.php file with a fresh version.  The “correct” way to do this is using &lt;a href=&quot;http://codex.wordpress.org/Child_Themes&quot;&gt;child themes,&lt;/a&gt; which are pretty simple, even though this got me writing my first php functions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Create a directory in wp-content/themes with the desired name of the new theme.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a file style.css as follows:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode css&quot;&gt;&lt;code class=&quot;sourceCode css&quot;&gt;

&lt;span class=&quot;co&quot;&gt;/*&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Theme Name: carlboettiger&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Theme URI: http://carlboettiger.info&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Description: A customization (child theme) of The Erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Version: 2.7.7-1&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Author URI: http://carlboettiger.info&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Template: the-erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Tags: white, dark, one-column, fixed-width, theme-options, editor-style, translation-ready, custom-menu&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;License: GPL v2&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;*/&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;@import&lt;/span&gt; url(&lt;span class=&quot;st&quot;&gt;&amp;quot;../the-erudite/style.css&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The stuff in the C-style comments is functional.  The only required lines are theme name and template.  template tells the style file to copy everything from the template theme (which will be updated whenever the template is updated).  The &lt;span class=&quot;citation&quot; data-cites=&quot;import&quot;&gt;@import&lt;/span&gt; command imports the style file of the template theme.  Any changes to the style can be specified in CSS below. We won’t be changing anything on the style sheet.&lt;/p&gt;
&lt;p&gt;What we want to do is change the header.  We do this the clever way using action hooks. I used &lt;a href=&quot;http://themeshaper.com/2009/05/25/action-hooks-wordpress-child-themes/&quot;&gt;this great reference&lt;/a&gt; to get a handle on them, and the &lt;a href=&quot;http://codex.wordpress.org/Child_Themes&quot;&gt;Wordpress child themes guide&lt;/a&gt; to see how functions.php works.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a second file in the theme called functions.php:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;/*&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;This file is part of carlboettiger child theme to The Erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;This uses action hooks to add the mathjax code extending the theme&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;*/&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; mathjax_cdn&lt;span class=&quot;ot&quot;&gt;()&lt;/span&gt; {
 &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
 &amp;lt;script type=&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;
 src=&lt;span class=&quot;st&quot;&gt;&amp;quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&amp;quot;&lt;/span&gt;&amp;gt;
 &amp;lt;/script&amp;gt;
 &amp;lt;&lt;span class=&quot;ot&quot;&gt;?&lt;/span&gt;php
}
add_action&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;wp_head&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;mathjax_cdn&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This creates a function that inserts the HTML code for MathJax into the header. Note that we create a php function, break out of php to use the HTML code, and then return to php to close the function.  The add_action uses action hooks to insert our function into the header, specified where wp_head appears (check it out in header.php).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Activate the theme carlboettiger from the dashboard and we’re good to go.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: Fun with databases continued</title>
	 <link href="/2011/05/12/thursday-fun-with-databases-continued.html"/>
   <updated>2011-05-12T20:32:26+00:00</updated>
   <id>/05/12/thursday-fun-with-databases-continued</id>
   <content type="html">&lt;h2 id=&quot;dryad&quot;&gt;Dryad&lt;/h2&gt;
&lt;p&gt;Hilmar pointed out the documentation for machine access to Dryad files&lt;a href=&quot;https://www.nescent.org/wg_dryad/Data_Access&quot;&gt;on the wiki&lt;/a&gt;, much nicer than guessing from the XML. (Good thing too, since it’s a bit more complicated than I thought). Wiki describes four steps:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Get the dryad short-identifier for the datafile&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;look up the METS reference using that identifier&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parse the XML returned by METS to find the bitstream url&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Query the bitstream url and presto!  Data on demand.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In R:&lt;/p&gt;
&lt;p&gt;[gist id=969706]&lt;/p&gt;
&lt;p&gt;Will have to return to this for a more complete implementation of the API once TreeBASE includes the Dryad ids.  TreeBASE is also implementing the PRISM standard for metadata in phylo-ws, though apparently Dryad is moving away from PRISM to BIBO.&lt;/p&gt;
&lt;h2 id=&quot;treebase&quot;&gt;Treebase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Added man pages for &lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;TreeBASE&lt;/a&gt;, put up new &lt;a href=&quot;https://github.com/cboettig/treeBASE/archives/master&quot;&gt;download&lt;/a&gt; version 0.0-2.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added more error handling to TreeBASE calls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on examples to ultra-metricize all trees that have branch lengths, currently with chronoMPL.  Some difficulties – trees that report to have branch lengths but are mostly NAs, and one tree that errors in multi2di even within try().&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rflickr&quot;&gt;Rflickr&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rflickr is working, had wrong call to permission.  Have to add into socialR now.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rmendeley&quot;&gt;RMendeley&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finished up public API side for RMendeley, troubleshooting now – Mendeley’s API seems to be ignoring some of my options.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig&quot;&gt;github activity for record&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: Treebase</title>
	 <link href="/2011/05/11/wednesday-treebase.html"/>
   <updated>2011-05-11T15:12:14+00:00</updated>
   <id>/05/11/wednesday-treebase</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;TREEBASE PACKAGE&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Modified treebase package to return the treebase id in the phylo class as phy$id, so that I can use the id to query the appropriate meta data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Modified the package with the option to return only max number of trees,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;try(xpathApply(search_returns, paste(&amp;quot;//rdf:li[position()&amp;lt; &amp;quot;, max_trees, &amp;quot;]&amp;quot;, sep=&amp;quot;&amp;quot;),
         function(x){&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Modified to check for branch lengths and remove trees without branch lengths from the returned set. Still has to download all trees, so in this case max_trees is the number attempted, not the number returned.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;xpath-and-metadata&quot;&gt;XPATH AND METADATA&lt;/h4&gt;
&lt;p&gt;Trying to learn XPath from the &lt;a href=&quot;http://www.w3schools.com/xpath/xpath_syntax.asp&quot;&gt;W3 tutorial&lt;/a&gt; in order to parse the OAI-PMH output (like this, for a single &lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&quot;&gt;treebase entry&lt;/a&gt;). Not much success.  Oooh, Duncan introduced me to getNodeSet() and xmlToList(), now I can query the metadata for the tree(!)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;     tree &amp;lt;- search_treebase(&amp;quot;1234&amp;quot;, &amp;quot;id.tree&amp;quot;)
     metadata(tree$id)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Since the metadata  API is quite small, (see &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;treebase wiki on OAI-PMH&lt;/a&gt;) just about done with treebase implementation, short of testing, documentation and use cases.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grabbing study by date could be useful (supports at least “until” and “after”.)  Can “ListRecord” or “GetIdentifier”.  The latter can be useful to get ids to feed into search_treebase(), allowing the user to query all studies after a certain date, for instance. (DONE – see examples.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And now the treebase server for OAI-PMH seems to be down. Maybe a sign I should return to some real work.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Managing the to-do lists for treeBASE under &lt;a href=&quot;https://github.com/cboettig/treeBASE/issues&quot;&gt;github-issues&lt;/a&gt; (much more sensible than flipping through notebook pages).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;dryad&quot;&gt;DRYAD&lt;/h2&gt;
&lt;p&gt;Implemented the basic Dryad metadata query GetRecord given an ID.  (forms the api query and parses output).  Uses the same OAI function as the treebase query:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dryad_metadata(&amp;quot;10255/dryad.12&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now I just need:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a way to get Dryad IDs from the TreeBASE query, (server-side issue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a way to grab the doi pointing to each data file (not the paper doi, or the study doi.  This is returned in $relation, along with other stuff such as the journal title, so will need a grep on doi at the moment).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A way to get from the webpage returned to get the actual url of the data (&lt;del&gt;also a server-side issue &lt;/del&gt;) Actually was already in the documentation on the wiki.   &lt;a href=&quot;http://www.carlboettiger.info/archives/1692&quot;&gt;DONE, see 2011-05-12&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rflickr&quot;&gt;RFlickr&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Revisiting Rflickr now that Duncan has added write permissions.  install.packages(“Rflickr”, repos = “&lt;a href=&quot;http://www.omegahat.org/R&quot; class=&quot;uri&quot;&gt;http://www.omegahat.org/R&lt;/a&gt;”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Look up key and secret for my &lt;a href=&quot;http://www.flickr.com/services/apps/by/cboettig&quot;&gt;registered app&lt;/a&gt; (others must&lt;a href=&quot;http://www.flickr.com/services/apps/create/apply&quot;&gt;register an app&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Authenticate with write permissions – Go quickly after issuing this command into browser and approve access before the timeout. NOTE: PERMISSION IS SINGULAR - - won’t error if it is plural.   tok &amp;lt;- Rflickr::authenticate(api_key, secret, permission=“write”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can use the full &lt;a href=&quot;http://www.flickr.com/services/api/&quot;&gt;flickr api&lt;/a&gt; just as described, except that we need to start everything with secret, tok, and then as specified in the API (api_key, other options).  I.e. for &lt;a href=&quot;http://www.flickr.com/services/api/flickr.people.getInfo.html&quot;&gt;flickr.people.getInfo&lt;/a&gt; we would do: flickr.people.getInfo(secret, tok, api_key, “30385402@N05”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Instead we can use the clever interface to avoid having to give these keys each time.  (See documentation): we make a session once: &amp;gt; session = flickrSession(secret, tok, api_key)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and can now call with session$ and skip the “flickr” everywhere it occurs, and skip the keys, i.e.:  session$people.getInfo(“46456847@N08”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note: we could have left flickr in too: session$flickr.people.getInfo(“46456847@N08”).  Partial matching in R is fantastic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All this is great &lt;del&gt;but having trouble with write permissions still.&lt;/del&gt;.. farther than&lt;a href=&quot;http://www.carlboettiger.info/archives/1355&quot;&gt;last time&lt;/a&gt; though.  Working, should have used singular, as noted above.  ToDo: integrate into socialR package.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;wordpress-rwordpress&quot;&gt;Wordpress, RWordpress&lt;/h2&gt;
&lt;p&gt;There’s a &lt;a href=&quot;http://wordpress.org/extend/plugins/json-api/&quot;&gt;JSON API for Wordpress&lt;/a&gt;, that allows downloading post data, also optionally making posts, editing posts and tags, etc from the API.  An implementation of this in R would be straight forward using RCurl and RJSONIO.  Duncan has an RWordpress package (on Omegahat) that does this the official/direct way for blogs as well.&lt;/p&gt;
&lt;h2 id=&quot;chats-and-reading&quot;&gt;CHATS AND READING&lt;/h2&gt;
&lt;p&gt;Discussing with Brian Anackner some ways of looking for evidence of correlations in transition rates using contrasts. Taking an example from [cite source=‘pubmed’ rel=“cito:DisagreesWith”]16261729[/cite] the method proposed in [cite source=‘pubmed’ rel=“cito:UsesMethod”]7583692[/cite], which combines independent contrasts in discrete and continuous traits. Say categorical traits are E and N and continuous trait is affinity for precipitation level. This method pairs them so that contrasts are taken only between E and N, and in the the same order each time, E - N (or vice versa). It seems to me this simply suggests that large values means E’s tend to be found more often in higher-precipitation climates.&lt;/p&gt;
&lt;p&gt;Rebecca Best suggests I take a look at [cite rel=“cito:UsesMethod”]10.1890/10-1264.1[/cite].&lt;/p&gt;
&lt;h2 id=&quot;upgrading-to-a-vps&quot;&gt;UPGRADING TO A VPS&lt;/h2&gt;
&lt;p&gt;Time to upgrade this site to a &lt;a href=&quot;http://www.dreamhost.com/hosting-vps.html&quot;&gt;virtual private server on DreamHost&lt;/a&gt;.  We’ll see how it goes, hopefully things get faster now.&lt;/p&gt;
&lt;h2 id=&quot;mathjax&quot;&gt;mathjax&lt;/h2&gt;
&lt;p&gt;Meanwhile, Jason Moore suggested just adding the mathjax to the header file, as &lt;a href=&quot;http://www.mathjax.org/docs/1.1/platforms/index.html&quot;&gt;described on the MathJax homepage&lt;/a&gt;. Doesn’t need any libraries installed as it uses their CDN, and so is quite fast. Won’t convert my wp-latex but will work with inline equations, &lt;span class=&quot;math&quot;&gt;\(y=mx+b\)&lt;/span&gt;, and displayed equations. Wonder if I’ll have to manually edit the header file if I upgrade my theme.&lt;/p&gt;
&lt;p&gt;[ = 1+ {1+ {1+ {1+ {1+} } } }]&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\begin{aligned}
\nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp;amp; = \frac{4\pi}{c}\vec{\mathbf{j}} \\   \nabla \cdot \vec{\mathbf{E}} &amp;amp; = 4 \pi \rho \\
\nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp;amp; = \vec{\mathbf{0}} \\
\nabla \cdot \vec{\mathbf{B}} &amp;amp; = 0 \end{aligned}\]&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ $    
$$ $$ or $$ $$  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To give credit where it’s due: now, powered by: &lt;a href=&quot;http://www.mathjax.org/&quot;&gt;&lt;img src=&quot;http://www.mathjax.org/badge-square-3.png&quot; alt=&quot;Powered by MathJax&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Interfaces for databases: TreeBASE, Dryad, DataONE</title>
	 <link href="/2011/05/10/interfaces-for-databases-treebase-dryad-dataone.html"/>
   <updated>2011-05-10T09:55:57+00:00</updated>
   <id>/05/10/interfaces-for-databases-treebase-dryad-dataone</id>
   <content type="html">&lt;h2 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h2&gt;
&lt;h3 id=&quot;treebase&quot;&gt;Treebase&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1632&quot;&gt;(See Sunday’s post)&lt;/a&gt; - Phylo-ws implemented, but a few extra functions would strengthen the interface a bit: limit the number of trees returned, querying trees for branch lengths,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RaXML pipeline for returning rough branch lengths conditioned on the given topology, user documentation, more test examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implement OAI-PMH test cases for treebase: For instance, query all records after a given date (or all possible other queries), i.e.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&quot; class=&quot;uri&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And return treebase ids that can then be handed to search_treebase to pull the phylogenies. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pull treebase ID from phylo-ws query and return the corresponding OAI-PMH metadata information. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;interfacing-with-dryad&quot;&gt;Interfacing with Dryad:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Currently neither repository seems to always provide the key identifiers to point to the other one.  For instance, William Piel points out the same study &lt;a href=&quot;http://treebase.org/treebase-web/search/study/anyObjectAsRDF.rdf?namespacedGUID=TB2:S11266&quot;&gt;in TreeBASE&lt;/a&gt; and &lt;a href=&quot;http://datadryad.org/handle/10255/dryad.8661&quot;&gt;in Dryad,&lt;/a&gt; where neither links to the other.   Not sure why this study doesn’t get listed in &lt;a href=&quot;http://datadryad.org/discover?&amp;amp;query=&amp;amp;filtertype=dc.title&amp;amp;filter=Bridging+the+Rubicon&amp;amp;submit_search-filter-controls_add=Add&amp;amp;rpp=10&amp;amp;sort_by=score&amp;amp;order=DESC&amp;amp;location=l2&quot;&gt;Dryad’s search returns&lt;/a&gt;.  Discussing with members of both teams (William, Rutger, and Harry with TreeBASE, Kevin and Ryan with Dryad) about addressing this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://datadryad.org/handle/10255/dryad.4939?show=full&quot;&gt;Sometimes Dryad does provide the treebase url&lt;/a&gt;, but would have to identify from the url directly (after parsing all dc:idenfier terms), as it isn’t more clearly specified.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GOAL: From a TreeBASE query (for trees/phylo-ws or metadata/OAI-PMH): be able to return Dryad data and metadata associated with the study.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GOAL: From Dryad-query: return trees associated with a Dryad study by querying TreeBASE.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dryad-implementation-goals&quot;&gt;Dryad Implementation GOALS:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Extend OAI-PMH interface to the &lt;a href=&quot;https://datadryad.org/wiki/API&quot;&gt;Dryad API&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Current &lt;a href=&quot;http://www.datadryad.org/oai/request?verb=GetRecord&amp;amp;identifier=oai:datadryad.org:10255/dryad.1619&amp;amp;metadataPrefix=oai_dc&quot;&gt;Dryad returns&lt;/a&gt;don’t include clear identifiers to &lt;a href=&quot;http://datadryad.org/handle/10255/dryad.1621&quot;&gt;the data files&lt;/a&gt; urls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Work with Dryad to figure out how to access data files as well as meta-data from the API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extend to&lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/index.html&quot;&gt;DataONE API&lt;/a&gt;?  Presumably will also have OAI-PMH based access to metadata?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;background-notes-in-progress&quot;&gt;BACKGROUND (NOTES IN PROGRESS)&lt;/h2&gt;
&lt;p&gt;A few further development goals&lt;/p&gt;
&lt;p&gt;Define the databases, API, goal.&lt;/p&gt;
&lt;p&gt;Define teams, discussions, wikis, lists.&lt;/p&gt;
&lt;p&gt;Development goals listed/tracked as Issues on the Github repository&lt;/p&gt;
&lt;h2 id=&quot;section&quot;&gt;&lt;/h2&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: meetings, notebook</title>
	 <link href="/2011/05/09/monday-4.html"/>
   <updated>2011-05-09T23:56:35+00:00</updated>
   <id>/05/09/monday-4</id>
   <content type="html">&lt;h2 id=&quot;coop-moore-270-species-trees&quot;&gt;Coop &amp;amp; Moore 270: Species Trees&lt;/h2&gt;
&lt;p&gt;Discussing Bucky paper (Ane &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/p&gt;
&lt;p&gt;Approach of BEST and *BEAST (last time): Prior probability on gene trees P(G|S), given species trees.  Goal: Posterior of species trees,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P(S|X) = \int_G \Pi_{\ell} \left[ P(X_{\ell}|G_{\ell}) P(G_{\ell}|S) \right] P(S) dG \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P(G_{\ell}|S) = \Pi_{b \in S} P(H_b(G_{\ell})|S_b) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Uses a Dirchlet process model for clustering genes by topologies.  All genes in a cluster agree to share a common topology.  Comparisons to BEST and *BEAST next week.&lt;/p&gt;
&lt;h2 id=&quot;algorithms-group&quot;&gt;Algorithms Group&lt;/h2&gt;
&lt;p&gt;Brief meeting today, discuss plans for next steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Start an OpenWetWare group to facilitate collaboration and sharing  of algorithms.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dissect a common MCMC algorithm’s source code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identify some basic questions:  in MCMCMC how do we make account for proposal ratio?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where do the priors enter: should we be using prior times likelihood in the Hastings ratio?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next week: EM algorithms&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then: HMMs&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;databases&quot;&gt;Databases&lt;/h2&gt;
&lt;p&gt;Notes from &lt;a href=&quot;http://www.carlboettiger.info/archives/1632&quot;&gt;Sunday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1660&quot;&gt;TreeBASE updates and to-do&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;notebook-optimization&quot;&gt;Notebook optimization&lt;/h2&gt;
&lt;p&gt;Checked profiling speed with http://gtmetrix.com/. Added &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-minify/&quot;&gt;wp-minify&lt;/a&gt; and started specifying sizes explicitly for images. Images from media library can be optimized for faster rendering using &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-smushit/&quot;&gt;smushit&lt;/a&gt;, though most of my images are embedded from flickr instead, not sure how performance compares. Have been using &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-super-cache/&quot;&gt;wp super cache&lt;/a&gt;, but updated to some of the recommended settings.&lt;/p&gt;
&lt;p&gt;Seems like further performance increases could best be accomplished with Content Delivery Network (CDN) option. Several plugins provide this. &lt;a href=&quot;http://wordpress.org/extend/plugins/use-google-libraries/&quot;&gt;Use-google-libraries&lt;/a&gt; uses a couple public CDNs that google has made available for popular AJAX scripts such as jQuery. Super Cache works with the extension &lt;a href=&quot;http://wordpress.org/extend/plugins/cdn-sync-tool/&quot;&gt;CDN sync tool&lt;/a&gt;, &lt;a href=&quot;http://wordpress.org/extend/plugins/w3-total-cache&quot;&gt;w3-total-cache&lt;/a&gt; provides CDN option as well.&lt;/p&gt;
&lt;p&gt;Sounds like CDN for mathjax could be particularly valuable. Some &lt;a href=&quot;http://sites.google.com/site/mathjaxproject/design-documents/cdn-hosting-plan&quot;&gt;description of this&lt;/a&gt; from the mathjax folks, not clear if they are providing the actual CDN or just the code to set one up? Not clear how to implement this on wordpress, but seeing if the knowledge-blog folks have any ideas.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ane C, Larget B, Baum D, Smith S and Rokas A (2006). “Bayesian Estimation of Concordance Among Gene Trees.” &lt;em&gt;Molecular Biology And Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 0737-4038, &lt;a href=&quot;http://dx.doi.org/10.1093/molbev/msl170&quot;&gt;http://dx.doi.org/10.1093/molbev/msl170&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday: a few Treebase R package updates</title>
	 <link href="/2011/05/08/sunday-a-few-treebase-r-package-updates.html"/>
   <updated>2011-05-08T23:16:24+00:00</updated>
   <id>/05/08/sunday-a-few-treebase-r-package-updates</id>
   <content type="html">&lt;p&gt;Working on a few updates to the TreeBASE package.  This flushes out the basic functionality provided by the phylo-ws API now. Needs a bit more testing of the possible queries and some bells and whistles options.  Meanwhile, going to start looking at the metadata side with the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;OAI-PMH&lt;/a&gt; API.  With this I should be able to grab metadata associated with a tree or the tree associated with the metadata.  Should also be able to extend the queries over to other databases such as Dryad.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Looking into what might currently exist: apTreeshape (Bortolussi &lt;em&gt;et. al.&lt;/em&gt; 2005) had a dbtrees function which has &lt;a href=&quot;https://stat.ethz.ch/pipermail/r-sig-phylo/2010-September/000767.html&quot;&gt;since been removed&lt;/a&gt;. Scott Chamberlain has is also &lt;a href=&quot;http://r-ecology.blogspot.com/2011/05/treebase-trees-from-r.html&quot;&gt;exploring this a bit&lt;/a&gt;, sounds like a good person to talk to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fixed many of the XML parsing errors and warnings by moving to RCurl for queries:&lt;/p&gt;
&lt;h1&gt;Use&lt;/h1&gt;
&lt;p&gt;tt = getURLContent(query, followlocation = TRUE) #instead of con = url(query) tt = readLines(con, warn = FALSE) close(con)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This adds RCurl as a dependency. (Following Duncan’s suggestion to keep from polluting the namespace, I’ve moved dependencies into imports instead).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;implemented the remaining use cases, needs testing of these other query types still.  A few extra tests have been added to the demos.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Automatically matches section, rather than specifying as a third argument.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implemented handling for boolean logic, not clear that the API handles these cases correctly? Seems to do OR, but treats AND and NOT as if it was also OR.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Joined Treebase-devel@lists.sourceforge.net.  Should probably post about this work and ask about this boolean trouble.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Made output a multiPhylo object.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To-Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should add faculties to return only trees with branch lengths, etc. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should figure out how to pull metadata from returned matches. Possibly grab the TB id number, and then use a separate query to pull that up. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider maximum number of returns on a query. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hm: Given a id like TB2-S2377 number (study id), why do these both return unrelated trees, and what is a id.tree?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;studies &amp;lt;- search_treebase(“2377”, by=“id.study”) tree &amp;lt;- search_treebase(“2377”, by=“id.tree”)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Treebase &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;wiki entry&lt;/a&gt; for the phylo-ws api&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;leveraging predicates?  What’s &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API#Output_formats&quot;&gt;this section of the wiki&lt;/a&gt; really about?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;metadata-and-oai-pmh&quot;&gt;Metadata and OAI-PMH&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Needs to get study id from the phylows query and then look up the metadata.  See &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;treebase wiki&lt;/a&gt;.  (Pretty sparse, maybe I should add something).  &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example queries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&quot; class=&quot;uri&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&quot; class=&quot;uri&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bortolussi N, Durand E, Blum M and Francois O (2005). “Aptreeshape: Statistical Analysis of Phylogenetic Tree Shape.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;22&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/bti798&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/bti798&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Building a semantic notebook</title>
	 <link href="/2011/05/08/building-a-semantic-notebook.html"/>
   <updated>2011-05-08T18:39:49+00:00</updated>
   <id>/05/08/building-a-semantic-notebook</id>
   <content type="html">&lt;p&gt;What would a semantic lab notebook look like?  What would be possible with such a structure, ideally?  What is already possible now?  There’s a lot that can be done with an electronic notebook that adds value over a paper notebook: browsing by categories and tags, embedding links, time-stamping entries, searching the full text, and having automated trackbacks or pingbacks when a post is mentioned in another post or appears elsewhere on the web. Despite these advantages, I think a lot more could be possible with a semantic notebook – where links can be identified with an ontology describing the relationship. I’ve found a couple current tools very promising, and would be interested in developing some of these much further.&lt;/p&gt;
&lt;p&gt;There’s been a lot written about the potential for linked data and a semantic web elsewhere &lt;a rel=&quot;http://purl.org/spar/cito/discusses&quot;, resource=&quot;http://dx.doi.org/10.2200/S00334ED1V01Y201102WBE001&quot;&gt;(Heath &amp;amp; Bizer, 2011)&lt;/a&gt;, here I outline what’s already possible and what I’d like to see in the context of a lab notebook. My notebook links three primary content sources: literature citations, graphs, and code; as I’ve &lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;described before&lt;/a&gt;. A more semantic version could make the connections between these elements explicit and machine readable, opening the door to many more possibilities.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/files/mynotebook-300x123.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;citations&quot;&gt;Citations:&lt;/h3&gt;
&lt;h4 id=&quot;existing-capabilities&quot;&gt;Existing capabilities&lt;/h4&gt;
&lt;p&gt;A lot of linked-data meta-data is already supported for citations, but a lot more could be possible. In my notebook, the citations are included by DOI whenever possible, using the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;KCite&lt;/a&gt; plugin (EDIT: now using my &lt;a href=&quot;https://github.com/cboettig/knitcitations/iss&quot;&gt;knitcitations&lt;/a&gt; package). &lt;a href=&quot;http://inkdroid.org/journal/2011/04/25/dois-as-linked-data/&quot;&gt;DOI’s are linked data&lt;/a&gt;. Further information can be added to any link using the CITO ontology. &lt;a rel=&quot;http://purl.org/spar/cito/usesMethodIn&quot;, resource=&quot;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&quot;&gt;Shotton (2010)&lt;/a&gt;. The link-to-link plugin, &lt;a rel=&quot;http://prul.org/spar/cito/discusses&quot; resource=&#39;http://wordpress.org/extend/plugins/link-to-link&#39;&gt;(Fenner 2011)&lt;/a&gt;, can in addition to DOIs can add indicate the reason for the citation. &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/installation/&quot;&gt;Link-2-Link&lt;/a&gt; adds the citation to the link library in Wordpress, and can import bibtex documents, though this tends not to be as convenient as citing directly from DOI when it is available. I’m not sure if &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;KCite&lt;/a&gt; will include the cito relationship if it is written in without &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/installation/&quot;&gt;Link-2-Link&lt;/a&gt;, as:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[cite source=&amp;#39;doi&amp;#39; rel=&amp;#39;cito:discusses&amp;#39;]10.1186/2041-1480-1-S1-S6[/cite]&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;desired-capabilities&quot;&gt;Desired capabilities:&lt;/h4&gt;
&lt;p&gt;It would be nice to do a lot more though. First, it would be great to be able to browse this data efficiently. It would be great to parse the whole notebook to generate citation statistics, with the ability to identify such things as: which articles I most cite, what reasons I most cite for (from CiTO), links to posts where I disagree with an article, what authors I most cite ((more challenging since it involves looking up information not directly embedded into the post)), etc.&lt;/p&gt;
&lt;p&gt;Next, it would be great to be able to include more information in linked data format and pull in information available from other sources. Most of my citations are correspond to objects in my Mendeley library, where they have added tags, notes, date added to my library, categories, groups, as well as the full suite of further data and reader statistics exposed by Mendeley (such as illustrated in &lt;a href=&quot;http://readermeter.org/&quot;&gt;ReaderMeter&lt;/a&gt; and &lt;a href=&quot;http://dev.mendeley.com/&quot;&gt;Mendeley API&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;images-and-code&quot;&gt;Images and Code:&lt;/h3&gt;
&lt;h4 id=&quot;whats-already-possible&quot;&gt;What’s already possible&lt;/h4&gt;
&lt;p&gt;Graphs (stored on Flickr) have a direct correspondence to the code that generated them (stored on Github).  This connection could be exposed through some semantic mark-up, identifying which code corresponds to which images and vice versa, as well as identifying such meta-data as when the code was committed or the image generated, author, tags, version, and relationship with other versions and codes. This meta-data already exists for the most part, but cannot be queried by a machine (give me older/newer versions of this code, or all results run from this code, etc). Both code and images have stable identifiers/urls. Within code, versions and dependencies are already handled explicitly, though not perhaps in a machine-readable way. Code is assigned to different repositories, images to different tags, both with timestamps for commits. These connections between code an results have been discussed by Gavish and Donoho in &lt;a href=&quot;http://www.stanford.edu/~vcs/AAAS2011/&quot;&gt;universal identifiers for computational results&lt;/a&gt;, among others, but could be particularly powerful using semantic markup.&lt;/p&gt;
&lt;h4 id=&quot;making-this-semantic&quot;&gt;Making this semantic&lt;/h4&gt;
&lt;p&gt;The simplest goal would be to extract the information that these links refer to code or refer to images, presumably possible by domain information / plugin short code identification. Following these links then, some metadata is already exposed by Flickr or github in RDF. &lt;a href=&quot;http://inspector.sindice.com/inspect?url=http%3A%2F%2Fwww.flickr.com%2Fphotos%2Fcboettig%2F5692100650&amp;amp;content=#SIGMA&quot;&gt;Flickr returns&lt;/a&gt;the title, license, and identifiers. Github&lt;a href=&quot;http://inspector.sindice.com/inspect?url=http%3A%2F%2Fgithub.com%2Fcboettig%2FComparative-Phylogenetics%2Fblob%2Ff75d2f79b0469112bf2635e321006e1079fa2c41%2Ftreebase%2FR%2Ftreebase.R&amp;amp;content=&quot;&gt;seems to return&lt;/a&gt; only the title.  Ideally, having come across any graph in the notebook, one could obtain some identifier which would recover other instances where the image has appeared, identify the code that created it (with the code revision history) and pages that link to the code, as well as author information, license (software and image), platform information, etc.&lt;/p&gt;
&lt;h3 id=&quot;other-content&quot;&gt;Other content&lt;/h3&gt;
&lt;p&gt;There’s a lot of other content that is not treated here. References to people are an obvious candidate for semantic content, though FOAF and XFN (built into Wordpress links) don’t seem to capture the notions of “adviser,” “labmate,” or “co-author,” etc. Pulling up all references to a particular person in the notebook might be useful.&lt;/p&gt;
&lt;p&gt;Markup for identifying data analyzed in a post would also be useful. Like articles, &lt;a href=&quot;http://datacite.org/&quot;&gt;data is more and more frequently being assigned a DOI&lt;/a&gt;, so the goal is simply to couple the post id, graphs and code that analyze the data more tightly to this identifier. A different solution may be necessary for unpublished data, or for indicating the subset or combination of published data sets used.&lt;/p&gt;
&lt;p&gt;Aquiring DOIs for computational results and posts from the California Digital Library’s &lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/index.html&quot;&gt;EZID&lt;/a&gt; would make richer meta-data tracking possible. This might be possible to implement for figures through FigShare as well.&lt;/p&gt;
&lt;h3 id=&quot;other-wordpress-plugins&quot;&gt;Other Wordpress Plugins&lt;/h3&gt;
&lt;p&gt;Basic meta-data about the post can be included through the Wordpress plugin &lt;a href=&quot;http://dev.squarecows.com/projects/wp-rdfa/&quot;&gt;wp-rdfa&lt;/a&gt;, providing FOAF relationships for admin/editors/authors in the wordpress database and Dublin Core relationships to identify the authors and post title, but are quite limited. A variety of other Wordpress plugins  also provide semantic support, including  &lt;a href=&quot;http://www.ontos.com/o_eng/index.php?cs=1&quot;&gt;ontos feeder&lt;/a&gt;, &lt;a href=&quot;http://fgiasson.com/blog/index.php/2007/09/01/blogs-wordpress-zitgist-and-the-semantic-web/&quot;&gt;zlinks&lt;/a&gt;, &lt;a href=&quot;http://wordpress.org/extend/plugins/wpmu-talis-triple-uploader/&quot;&gt;WPMU-talis-triples-uploader&lt;/a&gt; (&lt;a href=&quot;http://www.talis.com&quot;&gt;Talis&lt;/a&gt;), but I’m not sure any provide the kind of  capacity I discuss above (most attempt to automatically link content from other web sources).  This semantic &lt;a href=&quot;http://inspector.sindice.com/index.jsp&quot;&gt;inspector tool&lt;/a&gt; is quite useful, as well as a rich example of markup of a scientist’s page &lt;a href=&quot;http://egonw.github.com/&quot;&gt;from Egon&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;feedback&quot;&gt;Feedback?&lt;/h3&gt;
&lt;p&gt;I’m curious what others think about these possibility, what they’d like to see in a semantic notebook, and if anyone would be interested in helping further develop these tools, at least in a Wordpress context.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Reproducible Research, Large data sets, and SI2 </title>
	 <link href="/2011/05/06/reproducible-research-large-data-sets-and-si2.html"/>
   <updated>2011-05-06T19:24:03+00:00</updated>
   <id>/05/06/reproducible-research-large-data-sets-and-si2</id>
   <content type="html">&lt;p&gt;What follows are my notes from May 6th, 2011 expressing the ideas that would ultimately coalesce into the &lt;a href=&quot;ropensci.org&quot;&gt;rOpenSci&lt;/a&gt; project.  Much of this was turned into an email to Duncan and Todd, whose feedback was invaluable in working through this, and several others. (The reference to SI2 refers to &lt;a href=&quot;http://www.nsf.gov/pubs/2011/nsf11539/nsf11539.htm&quot;&gt;an NSF call&lt;/a&gt; from about that time, which also stimulated my thinking on this matter.) Since then I’ve learned quite a bit about these tools, with which I now feel quite comfortable. I stumbled across this private note in my notebook today, and figured it could take it’s place as part of my public notebook.&lt;/p&gt;
&lt;h3 id=&quot;goals&quot;&gt;Goals:&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;I’d love to know something about how to interface with common web-based APIs.  Somehow I feel that means knowing about OAuth, JSON, CURL, knowing what HTTP GET and PUT commands and millions of other things are.  I feel like there are some basic building blocks that if I knew, I could look at pages l&lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/search-terms&quot;&gt;ike this one,&lt;/a&gt; and say, oh, I know how to implement that capability in R.  Unfortunately I still feel like a fish out of water without a clue where to start on most of this.  No one in my department or anyone else that I regularly interact with does this kind of stuff, with the possible exception of statcompsci, so I don’t know where to start.  I’m also a bit worried that actually implementing anything that could successfully be distributed to other users would require more than I’d be capable of, and I should figure out how to get a team of people involved.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Why am I interested in this stuff anyway?  Two (related) reasons: I’m very interested in structuring scientific workflow around reproducible research, and I’m very interested in large data.  The two go hand in hand in many ways.&lt;/p&gt;
&lt;p&gt;I’m interested in large data applications (like this TreeBASE project) because my field has somehow managed to have some of the most progressive policies in data archiving and data sharing (through DataDryad, and DataONE, with &lt;a href=&quot;http://carlboettiger.info/archives/502&quot;&gt;mandatory archiving&lt;/a&gt; in many of our journals) while simultaneously having the some of the least-well trained scientists to tackle them.  I organized a workshop around this stuff in my department, hardly anyone came but the &lt;a href=&quot;http://carlboettiger.info/archives/1284&quot;&gt;video archives&lt;/a&gt; have been popular online…)&lt;/p&gt;
&lt;p&gt;About a year and a half ago, I began an experiment of keeping an open lab notebook (initially on a wiki, now with wordpress).  This brought me into interactions with an online community that is very interested in web-based tools for science, open science, data sharing, collaborative research, social media, etc., which has inspired me to learn more about how these tools could help me work with greater efficiency and greater impact.&lt;/p&gt;
&lt;p&gt;I’d really like to figure out what’s worth learning, what’s worth finding people who already know and collaborating, and how to do each.&lt;/p&gt;
&lt;h4 id=&quot;si2-people-to-contact&quot;&gt;SI2 people to contact?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Duncan Temple Lang&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Todd Vision&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Heather Piwowar,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ethan White,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Patricia Cruze&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rutger Vos,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Mendeley API in R</title>
	 <link href="/2011/05/06/mendeley-api-in-r.html"/>
   <updated>2011-05-06T11:21:10+00:00</updated>
   <id>/05/06/mendeley-api-in-r</id>
   <content type="html">&lt;p&gt;Started to implement the &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources&quot;&gt;Mendeley API&lt;/a&gt; in R, with much help and guidance from Prof. &lt;a href=&quot;http://www.stat.ucdavis.edu/~duncan/&quot;&gt;Duncan Temple-Lang&lt;/a&gt; in the Stats dept.  &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; is a widely used statistical software environment, and this should facilitate real-time statistical analysis of the rich amount of publication data available in Mendeley.&lt;/p&gt;
&lt;p&gt;My motivation is primarily pedagogical at the moment- Mendeley seems to have a nice modern API with both public and authentication-required elements (using OAuth).  Writing out the API gives me some good practice making GET requests in RCURL and handling JSON returns, and experiencing the bumps that go with this kind of work.&lt;/p&gt;
&lt;p&gt;Duncan got us started with examples for &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/search-terms&quot;&gt;search&lt;/a&gt; and &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/stats-authors&quot;&gt;author&lt;/a&gt; stats, which are pretty straight forward to extend to the rest of their domain.  I’ve extended this to other stats functions (somehow tags returns empty, and publications returns the wrong format, a&lt;a href=&quot;https://groups.google.com/d/topic/mendeley-open-api-developers/9rUZQBM7giQ/discussion&quot;&gt;known issue&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Implemented the other search methods, though could add some more functions to assist in parsing the returned data structure (returns a list with elements documents (whose elements are the entries), and various totals, as indicated). Seem to be functioning well.&lt;/p&gt;
&lt;p&gt;Will have to come up with some interesting use cases, so far just the kind of things a human could do from the web interface, but hey, came across my grandpa’s paper from &lt;a href=&quot;http://api.mendeley.com/research/observations-on-the-flight-motor-of-diptera/&quot;&gt;1950&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We will have to get R’s OAuth package working with CURL options in order to start exploring the user-specific methods.  More to follow, meanwhile, better get back to some research.&lt;/p&gt;
&lt;p&gt;ADDED: Development now &lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;up on github&lt;/a&gt;.  Note package depends on &lt;a href=&quot;http://cran.r-project.org/web/packages/RCurl/index.html&quot;&gt;RCurl&lt;/a&gt; 1.6 (development version, hopefully up soon).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: parrotfish analysis</title>
	 <link href="/2011/05/05/thursday-parrotfish-analysis.html"/>
   <updated>2011-05-05T16:57:28+00:00</updated>
   <id>/05/05/thursday-parrotfish-analysis</id>
   <content type="html">&lt;p&gt;Summarizing parrotfish data under the single shift at the intramandibular joint. See version stable code for data loading/transforms (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/827da7db4b1825ca2f800002328c31c8fe0e1024/demos/parrotfish_data.R&quot;&gt;parrotfish_data.R&lt;/a&gt;), and for plots (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/6e545b9ff299cb30f2e3a7e95acc09b0d42a1c3a/demos/parrotfish.R&quot;&gt;parrotfish.R&lt;/a&gt;) as shown, and for analysis functions (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/6e545b9ff299cb30f2e3a7e95acc09b0d42a1c3a/demos/loop_models_traits_regimes.R&quot;&gt;loop_models_traits_regimes.R&lt;/a&gt;). Models are named by the parameter which is regime-dependent. Results are shown sorted by likelihood, so the best model is on top, and likelihood values are scaled by the weakest model.&lt;/p&gt;
&lt;p&gt;Tree: &lt;img src=&quot;http://farm6.staticflickr.com/5021/5691359485_a00d084d85_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;alpha is favored in all the ratio traits, sometimes substantially. &lt;img src=&quot;http://farm6.staticflickr.com/5265/5691184643_184bca54d2_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Without size corrections the muscle traits essentially reflect body mass. Though ratio may be better than the regression:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5184/5691756348_90744b6d35_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Size-corrected length traits show a substantial signal:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5309/5691756336_4c0267c963_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The appaxial muscle looks strong candidate for release of constraint, the control muscles not involved with the jaw mechanism do not show any such release:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5187/5691184637_2e1c33781b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Strength of constraint (alpha parameter), by trait: log ratio of intramandibular to other parrotfish: &lt;img src=&quot;http://farm6.staticflickr.com/5069/5691354277_db6aaf2b2b_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;hmm, doesn’t match the general model fits: &lt;img src=&quot;http://farm6.staticflickr.com/5142/5691354301_b2f6914bdd_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;puzzles-and-puzzle-shooting&quot;&gt;Puzzles and puzzle-shooting&lt;/h2&gt;
&lt;p&gt;A couple traits don’t converge for the general model:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;conv(test) [1] “trait  AM.x regime intramandibular model wright didn’t converge” [1] “trait  SH.y regime intramandibular model wright didn’t converge” [1] “trait  LP.y regime intramandibular model wright didn’t converge”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Above uses equal-alpha always as starting conditions (taken from hansen fit).  Comparing against a fit attempt using very different alphas for each regime (intra at 0.1, other at 5).  Comparisons run and pushed to flickr, gallery below.  Results are clearly different; i.e. alpha ratios on release (alpha varies) model:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5692100638_22d88e2637_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(replotted without the two dominant ratios &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5692103784/in/photostream/&quot;&gt;here&lt;/a&gt;, first in stream below.)&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-05 18:00:00” max_upload_date=“2011-05-05 18:45:00”]&lt;/p&gt;
&lt;p&gt;Results in more convergence errors, but not enough to explain difference (only one release_constraint model didn’t converge):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;conv(test) [1] “trait bodymass, regime intramandibular, model ouch didn’t converge” [1] “trait bodymass, regime intramandibular, model release_constraint didn’t converge” [1] “trait LP.x, regime intramandibular, model ouch didn’t converge” [1] “trait open, regime intramandibular, model ouch didn’t converge” [1] “trait kt, regime intramandibular, model ouch didn’t converge” [1] “trait LP.y, regime intramandibular, model wright didn’t converge”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/296b2f11a6ac9ffb2f5e02bc22de7b4116ef30fb&quot;&gt;commit&lt;/a&gt;with this version of code)&lt;/p&gt;
&lt;p&gt;Illustrates need for more robust searching of the likelihood surface!&lt;/p&gt;
&lt;p&gt;Trying now with simulated annealing, shows a release of constraint:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;wright_alphas intramandibular    other gape.y        3.786699 12.59779 prot.y        9.275002 15.27857 release_alphas intramandibular     other gape.y        2.008825  2.262495 prot.y       23.093936 25.768637&lt;/p&gt;
&lt;p&gt;Protrusion strongly favors alpha model:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;lliks $gape.y gen     alpha     sigma 0.0000000 0.7693642 1.0315282&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$prot.y sigma      gen    alpha 0.00000 13.04190 13.44653&lt;/p&gt;
&lt;p&gt;Worrisome that gen doesn’t do best though, it probably needs a slower cooling schedule for so many parameters. (&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/9edfeabe785a6be8e3ce5db137278695f29ea4cd&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Trying with slower cooling, starting with unfavorable init conditions (higher alpha for intramandibulars):&lt;/p&gt;
&lt;p&gt;release_alphas intramandibular      other gape.y        1.969489  0.6064478 prot.y       25.087304 27.2187761 &amp;gt; wright_alphas intramandibular     other gape.y        2.198133  4.446376 prot.y       20.443740 22.325272 &amp;gt;&lt;/p&gt;
&lt;p&gt;Clearly just need super aggressive parameters.  Robust search for actual inferences coming up.  Need to add automated clever convergence testing.&lt;/p&gt;
&lt;h2 id=&quot;meetings&quot;&gt;Meetings:&lt;/h2&gt;
&lt;h3 id=&quot;duncan&quot;&gt;Duncan&lt;/h3&gt;
&lt;p&gt;Discussing web tools to interface with APIs, with implementations in R.  OAuth, CURL, XML, JSON.  Approaches in REST vs SOAP.  Notes (in prep, will be separate post.)&lt;/p&gt;
&lt;h3 id=&quot;marissa-lab&quot;&gt;Marissa Lab&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Weds: Parrotfish data set analysis</title>
	 <link href="/2011/05/04/weds-parrotfish-data-set-analysis.html"/>
   <updated>2011-05-04T23:16:29+00:00</updated>
   <id>/05/04/weds-parrotfish-data-set-analysis</id>
   <content type="html">&lt;h2 id=&quot;parrotfish&quot;&gt;Parrotfish&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need better convergence error handling.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need to remedy: “Function cannot be evaluated at initial parameters” errors – Occur when attempting very large values of alpha, resulting in NaN output (trouble with exponentials of alpha in calculations).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Changed summaries to group by painting, so compare models and traits.  Less natural than comparing across painting for a single trait since that allows comparisons both across models and across paintings, but makes sense when comparing only a single partition.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See code, &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/demos/parrotfish.R&quot;&gt;parrotfish.R&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/demos/parrotfish_data.R&quot;&gt;parrotfish_data.R&lt;/a&gt; for details&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;chatter&quot;&gt;Chatter&lt;/h2&gt;
&lt;p&gt;Replying to various interesting questions from the lab groups today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chris O’s question on body size evolution:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;compare the correlation of two traits corrected for size and phylogeny using several methods (Blomberg et al. 2003, pic residuals, pgls residuals and Revell’s method).&lt;/p&gt;
&lt;p&gt;We have an evolving trait X. The value of the trait is strongly influenced by the evolution of another evolving trait, Y (size). Assume size Y depends on no other traits and follows Brownian motion: $ dY_t = _Y dB_t $ Assume trait X is also undergoing a random walk, but is also tugged around in a linear fashion (with strength ) by the size Y: $ dX_t = Y_t + _X dB_t $ Trait X is then not doing a purely Brownian random walk, so we cannot apply any of the methods which assume that it is.&lt;/p&gt;
&lt;p&gt;We could instead consider the general form of a model in which trait X evolves as a stochastic process, dependent on trait Y:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX = f(X, Y)dt + \Sigma dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Trait Y also evolves,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dY = f(X,Y) dt + \Sigma dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now dB_t is a vector of two random walks and $ $ is a matrix, with terms $ &lt;em&gt;{x^2}, &lt;/em&gt;{yx}, &lt;em&gt;{xy} $, and $ &lt;/em&gt;{y^2}.$ The model above is a special case of this. This in general will not have a multivariate normal distribution of traits. We’ve run into this before: Peter asked effectively the same question earlier this quarter: &lt;a href=&quot;../archives/151&quot;&gt;http://www.carlboettiger.info/archives/151&lt;/a&gt;. Answer: maybe ABC, since we cannot solve the likelihood but can simulate?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lars has a question on power in this study: (Young &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hmm, Article compares “four” models, with interesting choice of attributions: BM (cites&lt;a href=&quot;http://paleobiol.geoscienceworld.org/cgi/content/abstract/13/4/446&quot;&gt;Brookstein 1987&lt;/a&gt; instead of Felsenstein 1985?), BM with drift (Hunt &lt;em&gt;et. al.&lt;/em&gt; 2008), “stasis” Sheets &amp;amp; Mitchell, 2001 (sounds like OU…), OU: Lande (Lande, 1976). (Of course the study does not estimate power).&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1595&quot;&gt;Algorithms group meeting&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Google reader: catching up on journals – done.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;still-to-do&quot;&gt;Still to do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theoretical ecology review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review economic models in warning signals, (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Outline research &amp;amp; organizational goals.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;common tag library.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;treebase api, socialR updates&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;think about &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503489&quot;&gt;NSF’s SI2&lt;/a&gt; (&lt;a href=&quot;http://www.nsf.gov/pubs/2010/nsf10015/nsf10015.jsp&quot;&gt;dear colleague let&lt;/a&gt;) (&lt;a href=&quot;http://nsf.gov/staff/orglist.jsp&quot;&gt;NSF Org list)&lt;/a&gt; (&lt;a href=&quot;http://www.nsf.gov/pubs/policydocs/pappguide/nsf11001/gpg_index.jsp&quot;&gt;Proposal Guide&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;lab-notebook-configuration&quot;&gt;Lab Notebook configuration&lt;/h2&gt;
&lt;p&gt;Exploring a couple plugins and modifications of lab notebook and workflow.  Currently looking at tighter github integration.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/github-code-viewer-2/&quot;&gt;Github Code Viewer 2&lt;/a&gt;: Could embed rather than link code by url, though a link may be preferable anyway.  Currently seems &lt;a href=&quot;http://wordpress.org/support/topic/implode-error?replies=1#post-2095048&quot;&gt;broken&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/github-bitbucket-project-lister/&quot;&gt;Github and bitbucket project lister&lt;/a&gt;: allows embedding public projects into posts and pages instead of just as a widget.  Lists name of project (with link), summary, and number of watchers.  Formatting configurable but has some trouble in display sizes.  Required tweaking to display in reasonable font sizes for this theme.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Several things just list links to repositories as widgets: Github Grubber, Github Projects, GitPress. Projects doesn’t list all repositories (and doesn’t give an option to search). Haven’t found anything that gives impact or commits as seen on github dashboard. github_activity seems to error, Latest github commits does what it sounds like. Won’t keep any installed for the time being.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Of course I’m already using the popular github gists shortcode.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;github-bitbucket-project-lister-example&quot;&gt;Github &amp;amp; Bitbucket Project Lister Example&lt;/h4&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Young M, Bell M and Brusatte S (2011). “Craniofacial Form And Function in Metriorhynchidae (Crocodylomorpha: Thalattosuchia): Modelling Phenotypic Evolution With Maximum-Likelihood Methods.” &lt;em&gt;Biology Letters&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. ISSN 1744-9561, &lt;a href=&quot;http://dx.doi.org/10.1098/rsbl.2011.0357&quot;&gt;http://dx.doi.org/10.1098/rsbl.2011.0357&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hunt G, Bell M and Travis M (2008). “Evolution Toward A New Adaptive Optimum: Phenotypic Evolution in A Fossil Stickleback Lineage.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;62&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2007.00310.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2007.00310.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lande R (1976). “Natural Selection And Random Genetic Drift in Phenotypic Evolution.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;30&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.2307/2407703&quot;&gt;http://dx.doi.org/10.2307/2407703&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unknown, H. David Sheets, Charles E. Mitchell, (2001) &lt;em&gt;Genetica&lt;/em&gt;, &lt;strong&gt;112/113&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1023/A:1013308409951&quot;&gt;10.1023/A:1013308409951&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms Discussion Group: MCMC</title>
	 <link href="/2011/05/04/algorithms-discussion-group-mcmc.html"/>
   <updated>2011-05-04T17:32:42+00:00</updated>
   <id>/05/04/algorithms-discussion-group-mcmc</id>
   <content type="html">&lt;p&gt;Implemented a basic MCMC routine in our little algorithms discussion group today, works quite nicely once you remember to use differences of log probabilities instead of ratios.  Code and results below.&lt;/p&gt;
&lt;p&gt;[gist id=956311]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5103/5688329255_67ba8430ec_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: phylogenetics- wrightscape coding</title>
	 <link href="/2011/05/03/tuesday-phylogenetics-wrightscape-coding.html"/>
   <updated>2011-05-03T23:31:25+00:00</updated>
   <id>/05/03/tuesday-phylogenetics-wrightscape-coding</id>
   <content type="html">&lt;p&gt;Writing methods to loop wrightscape models over lists of different traits, regimes, and model specifications.  Easy to end up with large-dimensional output, challenge for visualization.  Experimenting with different groupings.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-03 00:00:00” max_upload_date=“2011-05-03 23:59:59”]&lt;/p&gt;
&lt;p&gt;See code: &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/e8d421733d46adc1f936a19772ca3d9a3f98013c/demos/loop_models_traits_regimes.R&quot;&gt;loop_models_traits_regimes.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Routine attempts hansen fit for initial estimates of alpha and sigma.  Could be greatly improved.  Should extend attempts to guess initial conditions for optimization.  Should add better convergence testing, simulated annealing option.&lt;/p&gt;
&lt;h2 id=&quot;wainwright-lab-presentation&quot;&gt;Wainwright lab presentation&lt;/h2&gt;
&lt;p&gt;Presented recent work in Wainwright lab today, focusing mostly on release of constraint work.  Suggestions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;show graph of parameter scores fixed by clade (instead of painting).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Refer to as generalized model, rather than just “release of constraint.”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrating two transitions greatly complicates the presentation: begin with parrotfish only as a first example, focusing on the intramandibular joint.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Intriguing pattern in gape suggests a change in alpha at both transitions, and change in theta only at the intramandibular joint.  Will have to see if closer analysis bears this out.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can software identify most promising cases, rather than always presenting results for all traits and models?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finish up &lt;a href=&quot;http://www.carlboettiger.info/archives/1534&quot;&gt;Friday’s entry&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Submitted Warning Signals abstract for CSGF conference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Prepared &lt;a href=&quot;http://ievobio.org/ocs/index.php/ievobio/2011/schedConf/cfp#lightning&quot;&gt;iEvoBio lightning talk&lt;/a&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1549&quot;&gt;proposal&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;added pdf export support for pages (as-pdf and pdf24 don’t seem to format well, using &lt;a href=&quot;http://wordpress.org/extend/plugins/kalins-pdf-creation-station/&quot;&gt;Kalins PDF creation station plugin&lt;/a&gt;, which support running other plugins (kcite) before creating pdf, in addition to other customization options).  Rather than providing a link (still an option), posts or pages can be converted to pdf in the tools menu in dashboard.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>treeBASE R interface: proposal for #iEvoBio</title>
	 <link href="/2011/05/03/treebase-an-r-interface-proposal-for-ievobio.html"/>
   <updated>2011-05-03T21:07:36+00:00</updated>
   <id>/05/03/treebase-an-r-interface-proposal-for-ievobio</id>
   <content type="html">&lt;h2 id=&quot;lightning-talk-proposal&quot;&gt;Lightning Talk Proposal&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://treebase.org&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5070/5685541420_656d5e16ab_o.png&quot; /&gt;&lt;/a&gt; I will present the R package treeBASE, which provides an R implementation of the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;treeBASE phylows API&lt;/a&gt;.   This package makes it possible to search and import data from this database of published phylogenetic trees easily from within an R script.  Recent data archiving requirements at major evolutionary journals such as &lt;em&gt;The American Naturalist&lt;/em&gt; (Whitlock &lt;em&gt;et. al.&lt;/em&gt; 2010) and &lt;em&gt;Evolution&lt;/em&gt; (Fairbairn, 2011) to deposit  data used in the study on the &lt;a href=&quot;http://datadryad.org/jdap&quot;&gt;Dryad digital repository&lt;/a&gt; (and deposit accompanying trees in TreeBASE), along with new requirements for data management from funders&lt;a href=&quot;http://www.nsf.gov/pubs/policydocs/pappguide/nsf11001/gpg_2.jsp#dmp&quot;&gt;such as NSF&lt;/a&gt; are rapidly changing the landscape of data availability.&lt;/p&gt;
&lt;p&gt;To take full advantage of available data, researchers must have simple, familiar and intuitive tools to access and manipulate the datasets.  Such tools could have dramatic effects on verification and validation in reproducible research, education, meta-analyses, and in opening doors to novel research questions.  The R language is widely used in comparative phylogenetics approaches; consequently allowing this package to be readily integrated into existing types of analysis.  In this talk I will suggest the motivation for this package and provide examples use cases before outlining where I would like to see it develop in the future.  The package is in active development; version history, example code and issue tracking can be found on the &lt;a href=&quot;http://github.com/cboettig/treeBASE&quot;&gt;github page&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;License&lt;/strong&gt;: GPL-v2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Source code&lt;/strong&gt;: &lt;a href=&quot;http://github.com/cboettig/treeBASE&quot; class=&quot;uri&quot;&gt;http://github.com/cboettig/treeBASE&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Whitlock M, McPeek M, Rausher M, Rieseberg L and Moore A (2010). “Data Archiving.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;175&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/650340&quot;&gt;http://dx.doi.org/10.1086/650340&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fairbairn D (2011). “The Advent of Mandatory Data Archiving.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01182.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01182.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/05/03/monday-3.html"/>
   <updated>2011-05-03T11:09:43+00:00</updated>
   <id>/05/03/monday-3</id>
   <content type="html">&lt;p&gt;Today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Application for CPB travel funds.  DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Faxed receipts from Felsenstein’s visit. DONE&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;seminar-on-species-trees&quot;&gt;Seminar on Species trees&lt;/h3&gt;
&lt;p&gt;Coop/Moore Seminar on *BEAST  (Heled &amp;amp; Drummond, 2009) and  BEST (Liu &lt;em&gt;et. al.&lt;/em&gt; 2008).&lt;/p&gt;
&lt;p&gt;Essential differences: BEST uses Mr. Bayes to compute probabilities over gene trees (over uniform prior).  Then estimates the species tree by importance sampling from this distribution to reflect constraints under a convergence model.  Integrates over effective population sizes rather than estimating (highly uncertain anyway), requires rooting, and a rather fast/loose implementation of ultra-metricizing trees.  In text notes in Mendeley Phylogenetics section.&lt;/p&gt;
&lt;p&gt;*BEAST offers a hierarchical approach (simultaneously estimating gene trees and species trees), estimates effective population sizes (with linear rate variation across phylogeny/through time).  Integrates over possible out groups.  Suffers midpoint rooting problems do to rate heterogeneity (whenever two comparably sized clades split by substantial variation in substitution rates, will root between them). Priors to get species tree prior 1) includes birth-death model for tree -&amp;gt;Prior on waiting times of speciation 2) Prior on coalescence times 3) Prior on topologies (uniform over unlabeled histories) Prior on gene trees, all as in BEAST/etc, also reflects the species trees&lt;/p&gt;
&lt;h2 id=&quot;warning-signals-in-an-economic-context&quot;&gt;Warning Signals in an Economic Context&lt;/h2&gt;
&lt;p&gt;Meeting with Jim and Alan 2:30-4p: (notes to be transcribed)&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Algorithms group:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Solved our little puzzle about Bayes factors, &lt;a href=&quot;http://www.carlboettiger.info/archives/1445&quot;&gt;corrected the notes.&lt;/a&gt; Decided we’ll actually meet sometime Wednesday to do MCMC.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Presentation for Wainwright lab tomorrow&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/index.html&quot;&gt;DataONE APIs&lt;/a&gt;.  Investigator API looks a bit &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/ITK_APIs.html&quot;&gt;sparse&lt;/a&gt;, but more on &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/MN_APIs.html&quot;&gt;member node&lt;/a&gt; API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm..&lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503489&quot;&gt;Software Infrastructure for Sustained Innovation&lt;/a&gt; sounds interesting.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;cpb-travel-funding-application&quot;&gt;CPB travel funding application&lt;/h3&gt;
&lt;p&gt;Application requires a list of outreach activities.  Assembling here for my records.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;I attend CPB Tuesday seminars regularly. I participated in Fall Monte Carlo with Bruce Rannala on phylogenetic methods, and then voluntarily joined the Winter Monte Carlo with Sharon Strauss on broader impacts and public outreach, as it is a topic I am both interested and involved in.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I helped design and organize the CPB workshop on Hierarchical modeling this January.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I gave an presentation to the first year pop bio students during their orientation (entitled “What I wish I knew three years earlier…”) on computer based research tools for organizing literature, setting up an academic website, and for networking in sciences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I independently&lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;organized a CPB workshop&lt;/a&gt; on Data Management, to discuss the implications and opportunities created by new data archiving requirements from NSF and many of our journals. I recruited participation from four editors-in-chief of journals in ecology and evolution, and also the director and assistant director of the California &lt;a href=&quot;http://www.carlboettiger.info/archives/1284&quot;&gt;Digital archives&lt;/a&gt; to discuss the issues. I arranged that the event would be video-recorded for those that could not attend, which have been viewed 124 times last month.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Throughout this year I have I co-chaired an interdisciplinary group called the &lt;a href=&quot;http://gtc-blog.blogspot.com/&quot;&gt;Graduate Teaching Community&lt;/a&gt; which has been popular among CPB students and other graduate programs as a space to explore and share experiences, methodology, and read literature on studies in effective education strategies.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I also help organize a s&lt;a href=&quot;http://daviswiki.org/Davis_Open_Science&quot;&gt;tudent group on Open Science&lt;/a&gt;, which tries to promote awareness and potential of open access publishing, public data archiving, reproducible research, and tools and opportunities to make large-scale collaborative science possible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I volunteered as an instructor in the &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous%5FCharacter%5FEvolution%5F%28Boettiger%29%5F2011&quot;&gt;UC Davis Bodega Phylogenetics Workshop&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I served as the student member on the steering committee for the CPB program review.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I served on the student panel interviewing all of the candidates for the Dean of the College of Biological Sciences, and met with the Department of Ecology and Evolution Committee to discuss its recommendation.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Heled J and Drummond A (2009). “Bayesian Inference of Species Trees From Multilocus Data.” &lt;em&gt;Molecular Biology And Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 0737-4038, &lt;a href=&quot;http://dx.doi.org/10.1093/molbev/msp274&quot;&gt;http://dx.doi.org/10.1093/molbev/msp274&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liu L, Pearl D, Brumfield R and Edwards S (2008). “Estimating Species Trees Using Multiple-Allele Dna Sequence Data.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;62&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2008.00414.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2008.00414.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday: Notes on Labrids, notes on Transforms and size-corrections</title>
	 <link href="/2011/04/29/friday-notes-on-labrids-notes-on-transforms-and-size-corrections.html"/>
   <updated>2011-04-29T22:19:43+00:00</updated>
   <id>/04/29/friday-notes-on-labrids-notes-on-transforms-and-size-corrections</id>
   <content type="html">&lt;p&gt;The specific traits were:&lt;/p&gt;
&lt;p&gt;Oral Jaw traits&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;mouth-closing lever ratio (Close),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mouth-opening lever ratio (Open), kinematic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;transmission coefficient of the oral jaws four-bar linkage (Jaw KT),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;adductor mandibulae (AM) muscle mass,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;premaxillary protrusion distance (Prot),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;gape width (Gape),&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Exterior to the Oral Jaws, not expected to become unconstrained:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;levator posterior (LP) muscle mass: (Pharyngeal jaw muscle)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sterno-hyoideus (SH) muscle mass, (Primarily buccual cavity)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;adult body mass (Body mass).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See (WAINWRIGHT &lt;em&gt;et. al.&lt;/em&gt; 2004).&lt;/p&gt;
&lt;p&gt;Species: 122 in dataset (34 parrotfish, 88 wrasses)&lt;/p&gt;
&lt;p&gt;Species in phylogeny: 34 parrotfish. 80 wrasses.  Hmm, my phylogeny is missing 8 wrasses.&lt;/p&gt;
&lt;h2 id=&quot;transforms&quot;&gt;Transforms&lt;/h2&gt;
&lt;p&gt;In (Price &lt;em&gt;et. al.&lt;/em&gt; 2010), all linear lengths are log-transformed, masses are log transformed after cube-root transform. Why: An assumption of linear growth with percent, combined with an allometry that makes all linear dimensions increase together (hence mass increases by the cube of any increase in a length). Should evolution really preserve such an allometry? Does the cube root matter, since it’s just a multiplicative scaling constant once we are in log space?&lt;/p&gt;
&lt;p&gt;What about the lever ratios? assume they are untransformed? Also uncorrected for mass?&lt;/p&gt;
&lt;p&gt;These log-transformed traits are then used to compute contrasts. Contrasts are regressed through the origin against body-mass. This regression is then used to get residuals of the log-traits, and these residuals are modeled as BM or OU, etc.&lt;/p&gt;
&lt;p&gt;Size-correction can seem rather challenging.  Of course evolution of different traits (rates of evolution, shifts, etc) are correlated, and as most traits couple strongly to size and size explains a great deal of disparity, lack of size-corrections risk data that appears to be, say, showing shifts in rate of jaw evolution when it instead shows shifts in the rate of body-size evolution.  Hence the need for size correction.&lt;/p&gt;
&lt;p&gt;A common though non-ideal method is a linear regression of log-trait values against log-size.  This regression assumes that you have a bunch of measurements of (tooth size, body size) which are independent of each other. Because of the phylogeny, you don’t (the classic Felsenstein 1985 situation). The standard approach leaves you with independent contrasts, not the traits themselves.  Recall that we just want to do the regression correctly, we weren’t ready to remove the effect of phylogeny, since we’re still gearing up to do a comparative method .&lt;/p&gt;
&lt;p&gt;Revell takes great care to address this issue, (Revell, 2009) demonstrating how we get corrected values of the traits themselves, rather than being left with contrasts.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Types of analyses that might require transformed values for tip species include (but are not limited to): the estimation of phylogenetic signal (Freckleton et al. 2002; Blomberg et al. 2003); ancestral state reconstruction (Schluter et al. 1997); the phylogenetic analysis of variance (ANOVA) or analysis of covariance (ANCOVA) (Garland et al. 1993); and phylogenetic regression in which both slope and intercept (or prediction in the species space) are of concern (Rohlf 2001).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Getting the size-correction using the phylogeny does not mean that we are done with the phylogeny – the size-corrected values trait still have phylogenetic correlations, this just means we did the linear regression correctly in order to size correct in the first place, which as Revell cites, may not be the right way to size correct anyway, see Garcia_Berthou (2001), Freckleton(2002, 2009).&lt;/p&gt;
&lt;p&gt;This attempts to correct for body-mass in a phylogenetic manner – under the assumptions:&lt;/p&gt;
&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;&lt;p&gt;There is a linear relationship between body mass and other traits $ () ()$&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Though the relationship comes from a functional constraint, samples from a phylogeny aren’t independent – giving us a false representation of power.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At this stage we aren’t trying to create independent samples of the functional process that connects to traits. We just want to identify what quantity we hypothesize follows our evolutionary model of little steps. We can convincingly argue that it isn’t the length – we think of growth by percent increases – a mutation equally likely to increase or decrease the length by 1%, say, rather than by 1cm. Logs do this for us.&lt;/p&gt;
&lt;p&gt;Unfortunately it seems difficult to argue that residuals have this same natural interpretation, particularly when we would like to insist that both the traits and the residuals follow one of the common models (i.e. Brownian motion).&lt;/p&gt;
&lt;p&gt;Assume the focal trait &lt;em&gt;X&lt;/em&gt; and the body size &lt;em&gt;Y&lt;/em&gt; are Brownian, in order to justify the Brownian-based phylogenetic Revell collection.  The residuals  &lt;em&gt;Z&lt;/em&gt; are differences between these:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX_t = \sigma_{X} dB_{1} \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ dY_t = \sigma_{Y} dB_{2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The solutions to these are Gaussians, unfortunately the regression &lt;span class=&quot;math&quot;&gt;\[\beta\]&lt;/span&gt; doesn’t result in residuals that are also Gaussians,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ Z_t = X_t - \beta Y_t \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ Z_t = N(\sigma_X) - \beta N(\sigma_Y) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which is not normally distributed (sums of normals aren’t normals).  (Note that this differs from the standard regression in which there is only one source of noise, $ y ~ x + $).  The same is true for any of the common phylogenetic models, which are all multivariate normal distributions.&lt;/p&gt;
&lt;p&gt;It seems impossible to do the phylogenetic correction of (Revell, 2009) consistently.  One could instead assert that the ratio of some size to body-size is, say, Brownian, without asserting that the individual traits are Brownian, and have a perhaps more consistent size correction.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;WAINWRIGHT P, BELLWOOD D, WESTNEAT M, GRUBICH J and HOEY A (2004). “A Functional Morphospace For The Skull of Labrid Fishes: Patterns of Diversity in A Complex Biomechanical System.” &lt;em&gt;Biological Journal of The Linnean Society&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1095-8312.2004.00313.x&quot;&gt;http://dx.doi.org/10.1111/j.1095-8312.2004.00313.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revell L (2009). “Size-Correction And Principal Components For Interspecific Comparative Studies.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;63&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00804.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00804.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Reading Notes, presentation prep treebase error handling</title>
	 <link href="/2011/04/28/thursday-reading-notes.html"/>
   <updated>2011-04-28T13:59:43+00:00</updated>
   <id>/04/28/thursday-reading-notes</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Oikos journal &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/03/01/welcome-to-the-oikos-blog/&quot;&gt;recently started&lt;/a&gt; a rather nice blog. A journal long responsible for some of the best examples of developing and confronting ecological theory with empirical results, with an commendable emphasis on general principles and synthesis, it’s nice to see them enter the Web2.0 ecosystem. Editor Jeremy Fox has a nice &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/03/20/fox-quick-biography-and-some-thoughts-on-the-past-and-future-of-oikos/&quot;&gt;introduction&lt;/a&gt; to the goals of the blog – check out the “&lt;a href=&quot;http://oikosjournal.wordpress.com/category/new-ideas/&quot;&gt;new idea&lt;/a&gt;s” categories for worthwhile reading. Thanks to Ethan White’s &lt;a href=&quot;http://jabberwocky.weecology.org/2011/04/27/oikos-has-a-blog-blogrolling/&quot;&gt;post on Jabberwocky Ecology&lt;/a&gt; for bringing this to my attention. Particularly enjoyed the classic Borges quote linked as a pdf in the discussion of hand waving in ecology, which was so good I had to jot it down here&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;h4&gt;On Exactitude in Science Jorge Luis Borges, Collected Fictions, translated by Andrew Hurley.&lt;/h4&gt;
&lt;p&gt;…In that Empire, the Art of Cartography attained such Perfection that the map of a single Province occupied the entirety of a City, and the map of the Empire, the entirety of a Province. In time, those Unconscionable Maps no longer satisfied, and the Cartographers Guilds struck a Map of the Empire whose size was that of the Empire, and which coincided point for point with it. The following Generations, who were not so fond of the Study of Cartography as their Forebears had been, saw that that vast Map was Useless, and not without some Pitilessness was it, that they delivered it up to the Inclemencies of Sun and Winters. In the Deserts of the West, still today, there are Tattered Ruins of that Map, inhabited by Animals and Beggars; in all the Land there is no other Relic of the Disciplines of Geography.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;—Suarez Miranda, Viajes de varones prudentes, Libro IV,Cap. XLV, Lerida, 1658))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Excellent/very relevant piece on fluctuations in fish population dynamics, (Shelton &amp;amp; Mangel, 2011).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;New warning signals &lt;a href=&quot;http://www.jstor.org/stable/full/10.1086/659945&quot;&gt;article&lt;/a&gt; by Vasilis in Am Nat.(Dakos &lt;em&gt;et. al.&lt;/em&gt; 2011) ((Hmm.. JSTOR uses DOIs in its URL, but Am Nat doesn’t seem to process the dois for the ahead-of-print articles. Hence no automatic citation)). And of course Carpenter et. al’s empirical study in a lake ecosystem, in &lt;em&gt;Science&lt;/em&gt;(Carpenter &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ecological monographs has a nice article on stability, resilience and phase shifts in the classic otter-urchin system, nice alterantive stable states example despite temporal and site heterogeneity. (Watson &amp;amp; Estes, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Species and trait diversification rates: Science article in electric fishes. (based on Brownie. Supplement claims AICc avoids type I errors associated with small sample size in chi^2, unfortunately I think the error rate remains high.) Diversification rates follow (Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007), comparing fit by likelihood ratio, estimated mu/lambda by trying 4 values,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Given our small dataset and the difficulty in estimating extinction rates from comparative data (Rabosky, 2010), we set the relative extinction fraction to ε = μ / λ rather than attempting to estimate it from the data (Alfaro &lt;em&gt;et. al.&lt;/em&gt; 2009). We repeated our analyses using a range of ε values (ε = 0, 0.5, 0.9, and 0.99) (Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hmm… irregular optimization method… Highlights the need for adequate power and estimates there-of to make inferences from phylogenetic data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Also in &lt;em&gt;Science&lt;/em&gt; Sidlauskas and colleagues make the most of Facebook (Sidlauskas &lt;em&gt;et. al.&lt;/em&gt; 2011) for fish ids.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;hastings-lab-presentation&quot;&gt;Hastings lab presentation&lt;/h2&gt;
&lt;p&gt;Presentation in Hastings lab on Warning Signals.  Background. methods. Results.&lt;/p&gt;
&lt;h2 id=&quot;prep-wainwright-lab-presentation&quot;&gt;Prep Wainwright lab presentation&lt;/h2&gt;
&lt;h3 id=&quot;next-tuesday&quot;&gt;(next Tuesday)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Replicate (Price &lt;em&gt;et. al.&lt;/em&gt; 2010) (on full Labrid dataset?)&lt;/li&gt;
&lt;li&gt;Repeat with release of constraint model, unconstrained model&lt;/li&gt;
&lt;li&gt;MCMC implementation?&lt;/li&gt;
&lt;li&gt;Assembling TreeBASE demo and further goals&lt;/li&gt;
&lt;li&gt;Attempt improved optimizer for TreePar package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;coding&quot;&gt;Coding&lt;/h2&gt;
&lt;p&gt;Exploring better error handling for TreeBASE package. From Duncan:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
ans &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;read.nexus&lt;/span&gt;(con))
&lt;span class=&quot;co&quot;&gt;# and then check the class of ans to see if it is &amp;quot;try-error&amp;quot;,&lt;/span&gt;
 if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(ans, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)) {
     &lt;span class=&quot;co&quot;&gt;# do something for the error&lt;/span&gt;
 } else {
      &lt;span class=&quot;co&quot;&gt;# you have your object&lt;/span&gt;
     ....
 }&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;The second approach is to manage the HTTP request for the document so that you can detect when the file is not available. You can use either getURL() or getURLContent() in the RCurl package.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 txt =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURL&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/phylo/treebase/phylows/tree/TB2:Tr9917?format=nexus&amp;quot;&lt;/span&gt;,
               &lt;span class=&quot;dt&quot;&gt;header =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;followlocation =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
 &lt;span class=&quot;kw&quot;&gt;parseHTTPHeader&lt;/span&gt;(txt)&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;In this case, the HTTP server returns a status code of 302 to indicate that the URL has moved. Following that redirection, we get a 200 status indicating success and the content is the HTML you see in your browser that indicates authorization issues. So to verify an error, you’d have to parse the HTML and look for the tell-tale message.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It would be better if the server returned a 40* error status indicating authorization problems.When getURL() returns regular content, you can pass that to read.nexus() as a text connection, e.g.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  o =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.nexus&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;textConnection&lt;/span&gt;(txt))&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;play-ubuntu-release&quot;&gt;Play: ubuntu release&lt;/h2&gt;
&lt;p&gt;And wow, the new Ubuntu release (11.04, Natty Nawhal) is no small shift. OpenOffice-&amp;gt;LibreOffice, Rhythmbox replaced with Banshee, and omg, the veritable GNOME interface replaced with something I’ve never heard of (&lt;a href=&quot;http://en.wikipedia.org/wiki/Unity_%28desktop_environment%29&quot;&gt;Unity&lt;/a&gt;, developed by Canonical). Described as a “smart-phone style” interface and “easier than a Mac”, I don’t know – if those things should count as universal praise. Overall pretty &lt;a href=&quot;http://www.zdnet.com/blog/open-source/what-you-need-to-know-about-the-new-ubuntu/8760&quot;&gt;promising&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Shelton A and Mangel M (2011). “Fluctuations of Fish Populations And The Magnifying Effects of Fishing.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1100334108&quot;&gt;http://dx.doi.org/10.1073/pnas.1100334108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Kéfi S, Rietkerk M, van Nes E and Scheffer M (2011). “Slowing Down in Spatially Patterned Ecosystems at The Brink of Collapse.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;177&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/659945&quot;&gt;http://dx.doi.org/10.1086/659945&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S, Cole J, Pace M, Batt R, Brock W, Cline T, Coloso J, Hodgson J, Kitchell J, Seekell D, Smith L and Weidel B (2011). “Early Warnings of Regime Shifts: A Whole-Ecosystem Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1203672&quot;&gt;http://dx.doi.org/10.1126/science.1203672&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Watson J and Estes J (2011). “Stability, Resilience, And Phase Shifts in Rocky Subtidal Communities Along The West Coast of Vancouver Island, Canada.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/10-0262.1&quot;&gt;http://dx.doi.org/10.1890/10-0262.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D, Donnellan S, Talaba A and Lovette I (2007). “Exceptional Among-Lineage Variation in Diversification Rates During The Radiation of Australia’S Most Diverse Vertebrate Clade.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;274&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2007.0924&quot;&gt;http://dx.doi.org/10.1098/rspb.2007.0924&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D (2010). “Extinction Rates Should Not be Estimated From Molecular Phylogenies.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00926.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00926.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alfaro M, Santini F, Brock C, Alamillo H, Dornburg A, Rabosky D, Carnevale G and Harmon L (2009). “Nine Exceptional Radiations Plus High Turnover Explain Species Diversity in Jawed Vertebrates.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811087106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811087106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sidlauskas B, Bernard C, Bloom D, Bronaugh W, Clementson M and Vari R (2011). “Ichthyologists Hooked on Facebook.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.332.6029.537-c&quot;&gt;http://dx.doi.org/10.1126/science.332.6029.537-c&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/04/27/wednesday-4.html"/>
   <updated>2011-04-27T21:58:09+00:00</updated>
   <id>/04/27/wednesday-4</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;7:30-9:30 Review for Theoretical Ecology&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Profiling wrightscape&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Compile with profiling (-g -pg flags, in make profile). Run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;valgrind --leak-check-full ./wrightscape.exe&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to remove memory links. Run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;valgrind --tool=callgrind
kcachegrind callgrind.out.&amp;lt;###&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For profiling information&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5063/5661945204_f60bfe6c64_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Troubleshooting implementation of restricted-domain functions.  Cannot be wright_tree since they have to know their likelihood method.  Will need an indicator to their type. Some troubleshooting of the simulation method too: my pmc’s montecarlotest() is set up so that simulate() can return the data set directly that is passed to update() or return a list object with the dataset in $rep.1.  Up and running now.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Troubleshoot ouch-style&lt;/strong&gt; search parameters. DONE – simulation didn’t include a rep command to copy a single alpha and sigma to be same in each regime.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Check convergence&lt;/strong&gt;: sometimes the brownie-style search regime outperforms the wright-style (only 16 reps for testing purposes).  Add convergence score to getParameters. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Should be reported by C&lt;/strong&gt; function version as well)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Convergence checks should be added to plot/summary functions from montecarlotest() output&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running 160 reps of (my) brownie() vs wright() (on left) and also of brownie() vs wrightscape() (on right) at nice 10 on zero.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5063/5662235611_503cb5522e_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5189/5662211039_d8b525eb2a_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;data-processing&quot;&gt;Data processing&lt;/h2&gt;
&lt;p&gt;Need regimes for intramandibular joint: &lt;em&gt;Chlorurus&lt;/em&gt;, &lt;em&gt;Hipposcarus&lt;/em&gt; common ancestor. Easily done with maticce package:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;intramandibular &amp;lt;- paintBranches(mrcaOUCH(c(&amp;quot;Chlorurus_sordidus&amp;quot;, &amp;quot;Hipposcarus_longiceps&amp;quot;), labrid$tree), labrid$tree, c(&amp;quot;other&amp;quot;,&amp;quot;intramandibular&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we need to look up and match species names exactly, otherwise instead of an error maticce assumes one of the species just isn’t in our tree and simply returns the root node.&lt;/p&gt;
&lt;p&gt;Implemented each as a two regime model and combined as a three-regime model.  combining requires arbitrarily assigning the branch between them so that it doesn’t become a separate node.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5104/5663194868_444e683067_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;convergence-issues&quot;&gt;Convergence Issues&lt;/h2&gt;
&lt;p&gt;Clear examples of convergence issues on Nelder Mead stemming from initial conditions.  For instance: even hansen routine can’t get the best optimum for two shifts (three regimes) when given the same starting points as it was for two regimes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;   ou2_intra &amp;lt;- hansen(trait, labrid$tree, regime=intramandibular, .01, .01)
&amp;gt;   ou3 &amp;lt;- hansen(trait, labrid$tree, regime=two_shifts, .01, .01 )
&amp;gt;   loglik(ou3) - loglik(ou2_phar)
[1] -2.473179&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Actually does worse than the model nested within it. Changing the starting conditions (using those from the nested model), it manages to find a better optimum.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;   ou3 &amp;lt;- hansen(trait, labrid$tree, regime=two_shifts, ou2_phar@sqrt.alpha, sigma=ou2_phar@sigma )
&amp;gt;   loglik(ou3) - loglik(ou2_phar)
[1] 1.079799&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Convergence is certainly a larger issue with more parameters. One way to address this is focusing on comparing subcases of the general form. A particularly interesting one is the &lt;strong&gt;Release of Constraint&lt;/strong&gt;: global theta and sigma, regime-specific alpha. IMPLEMENTED&lt;/p&gt;
&lt;p&gt;Overall, best addressed by algorithmic methods for dealing with multiple peaks in the likelihood surface, such as simulated annealing or probably better, an EM algorithm ((Looking for packages to do this well, though may need a specific implementation. Will discuss in our Algorithms group in a few weeks Potentially take a closer look at &lt;a href=&quot;http://en.wikibooks.org/wiki/Data_Mining_Algorithms_In_R/Clustering/Expectation_Maximization_%28EM%29&quot;&gt;this tutorial&lt;/a&gt; and &lt;a href=&quot;http://rss.acs.unt.edu/Rdoc/library/mclust/html/em.html&quot;&gt;em() in mclust&lt;/a&gt; package.)). Given the computational effort of these approaches, probably worth starting on the fully Bayesian implementation too.&lt;/p&gt;
&lt;p&gt;Meanwhile, based on likelihoods alone, results seem promising, though needs some fiddling to test for convergence. For instance:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; loglik(release_twoshifts)
[1] 69.42358
&amp;gt; loglik(release_intra)
[1] 66.88511
&amp;gt; loglik(release_phar)
[1] 31.42613
&amp;gt; loglik(wright_twoshifts)
[1] 67.65605
&amp;gt; loglik(wright_intra)
[1] 70.40246&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/ad3bd09f7d6b958c019f329415f6fcfdbf267367/demos/model_fits.R&quot;&gt;code&lt;/a&gt; for full example.&lt;/p&gt;
&lt;h2 id=&quot;misc-r&quot;&gt;Misc R&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;R with AWS EC2  &amp;amp; Hadroop with &lt;a href=&quot;http://www.stat.purdue.edu/~sguha/rhipe/&quot;&gt;RHIPE&lt;/a&gt; or &lt;a href=&quot;http://code.google.com/p/segue/&quot;&gt;Segue&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R gui interfaces with tcltk: &lt;a href=&quot;http://ideas.repec.org/a/jss/jstsof/17i09.html&quot;&gt;rpanel&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Accessing phylognenies in TreeBASE from R</title>
	 <link href="/2011/04/26/accessing-phylognenies-in-treebase-from-r.html"/>
   <updated>2011-04-26T14:10:22+00:00</updated>
   <id>/04/26/accessing-phylognenies-in-treebase-from-r</id>
   <content type="html">&lt;p&gt;I’ve recently ((&lt;a href=&quot;http://www.carlboettiger.info/archives/1496&quot;&gt;25 April&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;8 April&lt;/a&gt;)) begun a project to see if I can search for and load phylogenies from &lt;a href=&quot;http://www.treebase.org/&quot;&gt;TreeBASE&lt;/a&gt; directly into R. Thanks to the rather brilliant API in place (documented on the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;treeBASE wiki&lt;/a&gt;) for TreeBASE, some advice from &lt;a href=&quot;http://rutgervos.blogspot.com/&quot;&gt;Rutger Vos&lt;/a&gt; (TreeBASE developer), and some &lt;a href=&quot;http://en.wikipedia.org/wiki/XPath&quot;&gt;xpaths&lt;/a&gt; R code from Gabe Becker (stats grad student, UC Davis), I have a (mostly) working demonstration.  As I get a chance, I’ll be adding the rest of the &lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;queries available in the API&lt;/a&gt;, improve the error handling and give some more thought to a user interface.  A long cry from a mature package, but a decent proof-of-principle and a nice test-piece for me to learn a bit of how to make web calls and parse xml from R.&lt;/p&gt;
&lt;p&gt;The package is being developed in my &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/treebase&quot;&gt;Comparative Methods repository&lt;/a&gt;(will probably fork into it’s own repository once its a bit more mature), and a basic version is packaged on the &lt;a href=&quot;https://github.com/downloads/cboettig/Comparative-Phylogenetics/treebase_0.0-1.tar.gz&quot;&gt;downloads&lt;/a&gt; tab.&lt;/p&gt;
&lt;h2 id=&quot;introduction-to-package&quot;&gt;Introduction to package:&lt;/h2&gt;
&lt;p&gt;My goal is to essentially mimic the &lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;search capabilities&lt;/a&gt;provided by the &lt;a href=&quot;http://www.treebase.org/treebase-web/search/studySearch.html&quot;&gt;web front-end&lt;/a&gt; using the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;API&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To grab all the phylogenetic trees by Huelsenbeck:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Huelsenbeck = search_treebase(&amp;quot;Huelsenbeck&amp;quot;, by=&amp;quot;author&amp;quot;, section=&amp;quot;study&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first term is the search query.  The second term indicates that it is an author.  The third term specifies that we query by studies, essentially what tab we’re on from the search window.  The web search is organized under different tabs, which have somewhat different search options.  The function returns all the trees in phylo format, and prints the url query so that the search can be explored manually.&lt;/p&gt;
&lt;p&gt;We can search by taxa (appearing in tips only – handling inclusive taxonomy is more challenging…):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;whales = search_treebase(&amp;quot;Cetacea&amp;quot;, by=&amp;quot;taxon&amp;quot;, section=&amp;quot;taxon&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are quite a few kinds of searches I’d like to be able to do, but don’t seem available through the API.  For instance, It would be nice to search for trees with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;** branch lengths** (many early trees are topology only), or more particularly, for chronograms (most comparative methods applications need time-calibrated trees);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;by algorithm&lt;/strong&gt; (RaxML, MrBayes, etc).  TreeBASE stores (and runs?) this &lt;a href=&quot;http://treebase.org/treebase-web/search/study/analyses.html?id=2218&quot;&gt;analysis&lt;/a&gt; information.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add remaining queries&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Combining queries with booleans&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;improved user interface and documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Handling errors - most problematic right now I get errors on &lt;a href=&quot;http://treebase.org/treebase-web/search/study/anyObjectAsRDF.rdf?namespacedGUID=TB2:Tr9917&quot;&gt;trees&lt;/a&gt; with access denied while submissions are still in process.  Apparently this is a bug in treebase, hopefully fixable.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So far this is just the interface to the phylows commands. Still have to figure out what can be done with the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;Open Archives Initiative Protocol for Metadata Harvesting (OAI-PMH)&lt;/a&gt; interface, since some functions like Author search are already in phylows.  Bill points out that this would allow searching by date of publication, and also will interface with Data Dryad.&lt;/p&gt;
&lt;p&gt;Also interested in exploring SQL dumps.&lt;/p&gt;
&lt;h2 id=&quot;why&quot;&gt;Why&lt;/h2&gt;
&lt;p&gt;Rutger Vos gives an &lt;a href=&quot;http://www.slideshare.net/rvosa/phyloinformatics-and-the-semantic-web&quot;&gt;excellent introduction&lt;/a&gt; to the concept of “Phyloinformatics,” embedded below. As R is becoming a standard for applied phylogenetic analyses, I think it would be particularly useful to be able to access this potential from directly within R.&lt;/p&gt;
&lt;p&gt;[iframe http://www.slideshare.net/slideshow/embed_code/7339099 425 355]&lt;/p&gt;
&lt;p&gt;Of course this isn’t what we really want to do.  There’s nothing special about the phylogeny from a particular study–an arbitrary assembly of taxa and methods.  Or as Rod Page so eloquently put it,&lt;/p&gt;
&lt;p&gt;[blackbirdpie id=“53849924894343168”]&lt;/p&gt;
&lt;p&gt;The ideal inference pathway goes back to the raw data each time – draw the loci of interest for the taxa of interest from Genbank and start from scratch with a fully hierarchical inference.  Unfortunately, this is not always practical&lt;/p&gt;
&lt;p&gt;Yet science progresses by extrapolations and generalizations of these arbitrary data sets that stand behind the conclusions brandished from the titles of so many publications.  Re-analyzing the data behind these studies will only happen if it is easy, so I hope this can greatly lower the threshold.  Hopefully we can replace the more common:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scientist A studies dataset B with method C and concludes D&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scientist E studies dataset F with method G and contradicts D&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scientist E studies dataset B (&amp;amp; F) with methods C (&amp;amp; G) and concludes…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, re-analysis and reproducible research isn’t as sexy as it should be (arguably it’s impact is much greater, but somehow we mistake novelty for impact sometimes) so it’s fortunate that a good database interface doesn’t just mean better science, but also new science – comparing methods, using methods requiring very large datasets for adequate power or to directly test rather than assume generality. ((i.e. test vs assume key innovations are important for adaptive radiations in bees because they appear important in fish, etc.))&lt;/p&gt;
&lt;p&gt;I think this exercise should not only be practically useful in helping me run more analyses faster, but hope it has some farther-reaching pedagogical value in the possibilities and challenges in interfacing with  real linked data in large repositories.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>TreeBASE interface continued...</title>
	 <link href="/2011/04/25/treebase-interface-continued.html"/>
   <updated>2011-04-25T10:11:31+00:00</updated>
   <id>/04/25/treebase-interface-continued</id>
   <content type="html">&lt;p&gt;Returning to exploration of treeBASE interface and my attempt to implement an R interface the API (&lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;earlier entry&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://rutgervos.blogspot.com/&quot;&gt;Rutger Vos&lt;/a&gt; has gotten me started, pointing out that the handling of the metadata interface is done separately from the handling of the content (phylogenies and matrices).&lt;/p&gt;
&lt;h2 id=&quot;meta-data&quot;&gt;Meta data&lt;/h2&gt;
&lt;p&gt;Meta-data interface uses the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;Open Archives Initiative Protocol for Metadata Harvesting (OAI-PMH)&lt;/a&gt; which has a &lt;a href=&quot;http://www.oaforum.org/tutorial/english/page1.htm&quot;&gt;beginners tutorial&lt;/a&gt;.  The tutorial provides broad background about the initiative and the basic xml schema, but I didn’t find it particularly accessible or get a clear idea of how interacting with the protocol works.&lt;/p&gt;
&lt;p&gt;There’s a wiki for the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;OAI-PMH in TreeBASE&lt;/a&gt; that doesn’t have much information, but suggests that it has support for 6 functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Identify&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Metadata formats&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Sets&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Records&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get Records (matching certain conditions such as id)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Identifiers&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;which are look like they are accessed by providing a url which returns an xml form with the information.  Not sure what software is expected/avaliable to read/parse this information.&lt;/p&gt;
&lt;p&gt;First step: see If I can get some example queries working from a desktop inquiry to a human-readable output.&lt;/p&gt;
&lt;h2 id=&quot;tree-data&quot;&gt;Tree Data&lt;/h2&gt;
&lt;p&gt;Access to the tree data is provided by phylows, which has a bit more extensive &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;entry on the treebase wiki&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The interface also specifies a url which begins with purl and returns a page of the treebase website, i.e.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&quot; class=&quot;uri&quot;&gt;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The query can be specified to return rss format instead,&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://purl.org/phylo/treebase/phylows/taxon/find?query=dcterms.title==%22Homo%20sapiens%22&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;http://purl.org/phylo/treebase/phylows/taxon/find?query=dcterms.title==%22Homo%20sapiens%22&amp;amp;format=rss1&amp;amp;recordSchema=tree&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Will have to learn to specify these urls, but so far I gather that the query above searches for terms Homo Sapiens in the title and requests a return fromat of rss and schema of being a tree(?)&lt;/p&gt;
&lt;p&gt;Would have guessed the first url could be returned as a rss object as well by adding: &lt;a href=&quot;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;&amp;amp;format=rss1&amp;amp;recordSchema=tree&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;but no such luck.&lt;/p&gt;
&lt;p&gt;I think the goal will be to parse this output using one of the R interfaces to RSS/RDF. Not sure the connection between RSS and RDF here, but looking at &lt;a href=&quot;http://biostar.stackexchange.com/questions/2069/how-do-i-import-rdf-data-into-r&quot;&gt;Rrdf&lt;/a&gt; as an option.&lt;/p&gt;
&lt;p&gt;The output can be a Nexus tree or a NeXML tree, the latter having the advantage of being RDFa compliant (but much less commonly used). Looks like this’ll be a steep learning curve…&lt;/p&gt;
&lt;h2 id=&quot;first-successes&quot;&gt;First successes&lt;/h2&gt;
&lt;p&gt;Gabriel Becker got me started on accessing files from urls and xml parsing with a simple code snippet, so now I am up and running.  For instance, I can grab every tree contributed by Price to TreeBASE and load them into R, s&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/f24c2011b848d83bdfa66aee89ad65e03a502211/treebase/demos/treebase.R&quot;&gt;ee example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Code is now in development in my &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/treebase&quot;&gt;treebase&lt;/a&gt; directory (in Comparative Phylognetics) on github. Ready to start mapping out what functions should be implemented.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Audience readable notebook entry about the package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List of possible queries with examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Function to turn queries into phylows urls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Function to parse xml and grab the nexus files or import character matrices.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Update or upload metadata information?  Does tree have branch lengths?  Summary statistics about tree (number of taxa, etc).  Generate independent database of this information?&lt;/p&gt;
&lt;h2 id=&quot;background-and-useful-references&quot;&gt;Background and Useful references&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rutger’s &lt;a href=&quot;http://www.slideshare.net/rvosa/phyloinformatics-and-the-semantic-web&quot;&gt;slides&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;Treebase Wiki on the API&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;Types of possible queries&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>wrightscape profiling</title>
	 <link href="/2011/04/24/wrightscape-profiling.html"/>
   <updated>2011-04-24T18:50:11+00:00</updated>
   <id>/04/24/wrightscape-profiling</id>
   <content type="html">&lt;p&gt;Optimization at the R level is substantially slower than at the C level:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;system.time(wright_test = wright(data,tree,regimes, alpha=ou2@sqrt.alpha^2, sigma=ou2@sigma))
   user  system elapsed
 82.157   0.068  82.346
system.time(ws2 = wrightscape(trait, labrid$tree, regime=labrid$regimes, (ou2@sqrt.alpha)^2, ou2@sigma, theta=ou2@theta[[1]]))
iter:   229, llik = 34.750, size = 0.000,
 par values =  0.000069  2.456353  0.000026  0.225234  0.973002  0.488713
   user  system elapsed
  4.964   0.000   4.971&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is possibly due to repeating the lca matrix calculation. As it’s not done in a separate R function yet, the profiler cannot tell us this.&lt;/p&gt;
&lt;p&gt;Updated code to use a separate function (already had a separate C function in anticipation of this, so just needed a separate wrapper for it. Wrote a bit of type-checking, error handling, and documentation for the new functions, still could be expanded.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;system.time(wright_test2 &amp;lt;- wright(data,tree,regimes, alpha=ou2@sqrt.alpha^2, sigma=ou2@sigma))
   user  system elapsed
  7.329   0.028   7.372&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now it’s still slower, but only by factor of 2, instead of a factor of 20.&lt;/p&gt;
&lt;p&gt;Next, will check comparison of the parameter convergence:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; wright_test2
$par
[1]  2.2659839 -3.2141702  4.5873655  6.0465643  0.6557786 -0.6525537  0.2020016

$value
[1] -42.07038

$counts
function gradient
     502       NA 

$convergence
[1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Should clearly add labels to the output. This is Xo, alpha1, alph2, sigma1, sigma2, theta1, theta2. Already a problem that it has estimated a negative alpha – probably as a consequence, the algorithm has terminated but not converged.&lt;/p&gt;
&lt;p&gt;The likelihood calculation does not include checks on parameter values that must be positive – as seen by $value, the likelihood function is still being evaluated ((just to verify this, consider&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; multiOU_lik(data, tree, regimes, alpha=wright_test2$par[2:3], sigma=wright_test2$par[4:5], theta=wright_test2$par[6:7], X=wright_test2$par[1])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;))&lt;/p&gt;
&lt;p&gt;We can add error handling for these values or try a bounded optimizer – it would be nice to have some more rigorous guidelines on choosing the numerical optimizer and handling in this case. Particularly curious how well the simplex and other methods due in facing local peaks.&lt;/p&gt;
&lt;p&gt;Bounded optimizer objects to non-finite values. Adding simple -Inf likelihood condition on negative parameters and increasing maximum iterations beyond 2000, Nelder-Mead still fails to converge, exiting with degenerate simplex, though gets a likelihood of similar values. Values are comparable but not very close matches to the gsl algorithm in the C code. Probably worth exploring with simulated annealing too.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ws2$data     ws2$tree     ws2$regimes  ws2$loglik   ws2$Xo       ws2$alpha    ws2$theta    ws2$sigma    
&amp;gt; c(ws2$Xo, ws2$alpha, ws2$theta, ws2$sigma)
[1] 2.252339e-01 6.919340e-05 2.456353e+00 2.593147e-05 2.252339e-01
[6] 9.730023e-01 4.887133e-01
&amp;gt; wright_test2$par
[1]  1.918392e+00  7.880160e-10  5.834572e+00  5.045619e+00  6.890863e-01
[6] -8.452617e+00  2.207771e-01&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;see git log for details.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Release of constraint in labrids?</title>
	 <link href="/2011/04/22/release-of-constraint-in-labrids.html"/>
   <updated>2011-04-22T18:45:05+00:00</updated>
   <id>/04/22/release-of-constraint-in-labrids</id>
   <content type="html">&lt;p&gt;Started writing outline, assembling references&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewed brownie-lite as an alternative model to compare the release-of-constraint, but looks like it will be easier just to modify wrightscape code to keep parameters fixed or global.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing a wrapper to move the likelihood function for wrightscape to up to the R level.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure out which function to pass up: easiest is to build off of fit_model, but just evaluate, don’t optimize the likelihood.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5643702011_29ceff81b6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;doxygen-documentation&quot;&gt;Doxygen Documentation&lt;/h2&gt;
&lt;p&gt;Completing the doxygen documentation of the wrightscape source code to make it easier to navigate&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;doxygen -g makes the Doxyfile&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;doxygen Doxyfile makes the documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;doxygen -u Doxyfile updates the Doxyfile. Not sure when this is necessary&lt;/p&gt;
&lt;p&gt;EXTRACT_ALL = YES Extract documentation even from those elements you haven’t yet commented. HAVE_DOT = YES Use Graphviz for class and collaboration diagrammes. CALL_GRAPH = YES Generate a dependency graph for functions and methods. OUTPUT_DIRECTORY = ../doc/Doxygen&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=987&quot;&gt;Vim Doxygen toolkit&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;:Dox&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for function documentation,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:DoxLic&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for License,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:DoxAuthor&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for file header (author, title, etc).  See link above for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;erg! any typo in latex equation that won’t parse will silently break documentation for rest of file in Doxygen&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;p&gt;Moving likelihood up to the R level.  Steps:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Update function call for calc_lik to conform to the R .C interface (double and integer pointers only).  DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write a C wrapper function to call the calculation of the last common ancestor, since we probably don’t want to be repeating this calculation each time. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write wrapper R function for the calc_lik function DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write example functions calling the optimizer routine on a function defined with a subset of parameters from the full version, to mimic ouch, brownie, etc. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare convergence quality and speed&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/04/20/wednesday-3.html"/>
   <updated>2011-04-20T22:24:25+00:00</updated>
   <id>/04/20/wednesday-3</id>
   <content type="html">&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;GrrlScientist &lt;a href=&quot;http://www.guardian.co.uk/science/punctuated-equilibrium/2011/apr/19/1&quot;&gt;disagrees&lt;/a&gt; with M. Nielsen (and I add my 2c: Open Science might not give you the credit you need to get a job in today’s science culture, but hey, in all probability, neither will the traditional strategy, so have fun).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Nature&lt;/em&gt; says: &lt;a href=&quot;http://www.nature.com/news/2011/110419/full/472276a.html&quot;&gt;Too many PhDs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Some &lt;a href=&quot;http://www.computerworld.com/s/article/print/9215504/22_free_tools_for_data_visualization_and_analysis?taxonomyName=Applications&amp;amp;taxonomyId=18&quot;&gt;useful tools&lt;/a&gt; for data visualization: particularly want to try:&lt;a href=&quot;http://www.google.com/fusiontables/public/tour/index.html&quot;&gt;Fusion Tables&lt;/a&gt;, &lt;a href=&quot;http://gephi.org/&quot;&gt;Gephi&lt;/a&gt;, &lt;a href=&quot;http://www.dataviz.org/&quot;&gt;DataViz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mendeley groups don’t display (or share) stars. Can only sort A-Z or by most recent. need to make my Mendeley tags more useful. No luck getting the mendeley wp-plugin working.  Notes on Mendeley articles are dropped from the copy when adding it to a group (but remain in the personal collection).&lt;/li&gt;
&lt;li&gt;Discussing tree-base api with Rutger.  Suggested starting by looking into &lt;a href=&quot;http://biostar.stackexchange.com/questions/2069/how-do-i-import-rdf-data-into-r&quot;&gt;RSS/RDF for R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Huh, you can&lt;a href=&quot;http://blog.stackoverflow.com/2009/01/using-your-own-url-as-your-openid/&quot;&gt;use your domain&lt;/a&gt; as an openid&lt;/li&gt;
&lt;li&gt;New article from Scheffer lab out in &lt;em&gt;Oikos&lt;/em&gt; on abrupt regime shifts, though not in trying to forecast them.  Haven’t given a careful read but looks like a very nice model-driven treatment.  (Hilt &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Overview of bet-hedging in empirical systems from PRSB (Simons, 2011).  And it looks like Jamie’s selected to discuss this one in Baskett lab meeting tomorrow.&lt;/li&gt;
&lt;li&gt;Structural equation modeling and multivariate comparative methods in PNAS, for PDG discussion this week: (Santos &amp;amp; Cannatella, 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working on restructuring phylogenetics likelihood manuscript.  Almost there, sending updated version to Yaniv.&lt;/li&gt;
&lt;li&gt;Final scheduling for Felsenstein’s visit.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Began testing Rrdf package.&lt;/li&gt;
&lt;li&gt;reviewing my implementation of OpenMP compiling in stochastic population dynamics code.  Was functional at this &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/2473d86dfc8fdc17f9a0ed539d11c44a01928b21&quot;&gt;earlier stage&lt;/a&gt;, since has been disabled in that package (mostly since looping over simulations with snowfall R package instead).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, Joe Felsenstein arrives today, meeting him at the airport around 5pm before dinner with the usual suspects.  Looking forward to the seminar and banquet tomorrow.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hilt S, Köhler J, Kozerski H, van Nes E and Scheffer M (2011). “Abrupt Regime Shifts in Space And Time Along Rivers And Connected Lake Systems.” &lt;em&gt;Oikos&lt;/em&gt;, &lt;strong&gt;120&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1600-0706.2010.18553.x&quot;&gt;http://dx.doi.org/10.1111/j.1600-0706.2010.18553.x&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Simons A (2011). “Modes of Response to Environmental Change And The Elusive Empirical Evidence For Bet Hedging.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2011.0176&quot;&gt;http://dx.doi.org/10.1098/rspb.2011.0176&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Santos J and Cannatella D (2011). “Phenotypic Integration Emerges From Aposematism And Scale in Poison Frogs.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1010952108&quot;&gt;http://dx.doi.org/10.1073/pnas.1010952108&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Reading and thoughts</title>
	 <link href="/2011/04/19/tuesday-reading-and-thoughts.html"/>
   <updated>2011-04-19T12:32:53+00:00</updated>
   <id>/04/19/tuesday-reading-and-thoughts</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Taking twenty minutes to take down some notes and reactions to this morning’s reading.&lt;/p&gt;
&lt;h3 id=&quot;interdisciplinary-science-meeting&quot;&gt;Interdisciplinary Science Meeting&lt;/h3&gt;
&lt;p&gt;Great post by the AAAS on the&lt;a href=&quot;http://www.aaas.org/news/releases/2011/0418science_on_fire.shtml?sa_campaign=Internal_Ads/AAAS/RSS_News/2011-04-18/&quot;&gt;Science on FIRE&lt;/a&gt; meeting.  Think the focus on young  faculty and undergraduate education is dead on.  However , the lack of emphasis (or even inclusion) of ecology and evolution material in “exemplar programs” such as &lt;a href=&quot;http://cimb.colorado.edu/iq-biology/programs/courses&quot;&gt;CIMB&lt;/a&gt; (not be confused with UC Davis’s &lt;a href=&quot;http://climb.ucdavis.edu/&quot;&gt;CLIMB&lt;/a&gt;, which does this balance very well) is tragic, given that (a) these fields have a richer and longer quantitative history than mol bio, (b) undergraduate ed in these areas shares the same general lack of emphasis in computation and mathematics skills as it’s molecular brethren classes (c) world challenges in these areas are at least on par with challenges in medicine, and deserve attention (despite the differences in funding).&lt;/p&gt;
&lt;h3 id=&quot;science-communication&quot;&gt;Science Communication&lt;/h3&gt;
&lt;p&gt;There’s been a long and rather lively thread on EcoLog discussing communication with the public; which I’ve mostly ignored, but decided to skim a bit of today after hitting on the tension between scientific accuracy and effective communication in our GTC seminar yesterday.  One post that got my attention pointed to  Randy Olson, in an &lt;a href=&quot;http://dotearth.blogs.nytimes.com/2011/04/14/climate-communication-and-the-nerd-loop/&quot;&gt;NY Times interview&lt;/a&gt;(complete with skype/index-card presentation video), arguing that figuring out the right way to communicate climate change is going to require taking risks and making mistakes, not sticking to tried and largely unsuccessful strategies.&lt;/p&gt;
&lt;p&gt;While this message resonated, his &lt;a href=&quot;http://thebenshi.com/2011/04/06/124-the-nerd-loop-why-im-losing-interest-in-communicating-climate-change/&quot;&gt;accompanying essay&lt;/a&gt; emphasizing “stop being a scientist” and learning to appeal to emotion and instinct did not.  The  &lt;a href=&quot;http://climateaudit.org/2011/04/17/the-smug-loop/&quot;&gt;reply from Steve McIntyre&lt;/a&gt; on the need to address niche audiences (politicians, lawyers, economists) rather than the vaunted “general public” seems dead-on.  Of course to some extent I disagree with both – we need a scientific approach based on measuring what works and what doesn’t work in communicating, not a “scientific-sounding” approach that Randy lampoons. Steve’s vision of an “engineering” approach to create a 2000 page document that looks/smells familiar to other professionals is no more convincing than the “science paper” approach.&lt;/p&gt;
&lt;p&gt;Yes we need to pitch to specialists, yes we need innovation, but we can certainly be scientific about it.  Can we go beyond strategies based on antecdotes to strategies based on data measuring their success?  Successful researchers aren’t conservative in experiments.  We should be able to do the same here.&lt;/p&gt;
&lt;h3 id=&quot;social-media-in-science&quot;&gt;Social media in science&lt;/h3&gt;
&lt;p&gt;Along the lines of communication, &lt;a href=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot;&gt;another debate&lt;/a&gt;about talking vs doing science, in reference to the use of social media.  Both are as crucial as they are inseparable.  Science Online had a whole track on tools aimed at doing science, and remains a hub people implementing, learning, and using these methods.  I agree, this is the track I’m most excited about too. Let’s get more of it.&lt;/p&gt;
&lt;p&gt;Another  &lt;a href=&quot;http://leeworden.net/lw/notebook&quot;&gt;Open Notebook,&lt;/a&gt; this one by colleague Lee Worden.&lt;/p&gt;
&lt;h2 id=&quot;plan-for-the-day&quot;&gt;Plan for the day&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Update &lt;a href=&quot;http://www.carlboettiger.info/archives/1445&quot;&gt;ABC notes&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Large data exercise on &lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;TreeBase&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1457&quot;&gt;Review&lt;/a&gt; Julie’s coral model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revisions to phylogenetics manuscript,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outline release-of-constraint&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Finalize Felsenstein’s visiting schedule&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Early Warning Signals in Coral Dynamics -- Economic analysis of risk</title>
	 <link href="/2011/04/19/early-warning-signals-in-coral-dynamics-economic-analysis-of-risk.html"/>
   <updated>2011-04-19T11:53:23+00:00</updated>
   <id>/04/19/early-warning-signals-in-coral-dynamics-economic-analysis-of-risk</id>
   <content type="html">&lt;p&gt;Alan and I have been considering analyzing a particular system for early warning signals where we could highlight risk management from an economics stand-point, probably with the help of Jim Sanchirico.  Our current work focuses on quantifying the relative risk of false alarms and missed detections.  While statisticians typically accept a 5% “false alarm” rate, we argue this given limited data this is always a trade-off against the missed detection rate and hence the location of this threshold should properly a decision of management, not of convention.  Including the details of a particular system would be ideal, as it may allow us to assess the appropriateness of the assumptions in the warning signals approach more accurately as well.&lt;/p&gt;
&lt;p&gt;Just starting this off with some background reading, mostly from Alan’s work with our former graduate student Julie Blackwood (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010),(Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday: submitting warning signals manuscript</title>
	 <link href="/2011/04/18/thursday-submitting-warning-signals-manuscript.html"/>
   <updated>2011-04-18T23:47:56+00:00</updated>
   <id>/04/18/thursday-submitting-warning-signals-manuscript</id>
   <content type="html">&lt;p&gt;Crazy day today submitting the warning signals manuscript.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github hosting&lt;/li&gt;
&lt;li&gt;Precedings hosting?&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Algorithms Discussion Group: algorithms Continued</title>
	 <link href="/2011/04/18/algorithms-discussion-group-abc-continued.html"/>
   <updated>2011-04-18T14:11:24+00:00</updated>
   <id>/04/18/algorithms-discussion-group-abc-continued</id>
   <content type="html">&lt;p&gt;Our little informal ABC group met again today to continue our discussion of ABC methods from &lt;a href=&quot;http://www.carlboettiger.info/archives/1397&quot;&gt;last week&lt;/a&gt;. The updated code is included in the gist below. ((Nick asked about gists – they are code boxes provided by Github that are easy to embed into blogs, etc. They provide automatic syntax highlighting and version management. For instance, I just opened last week’s gist and started editing during today’s session – when I save it I get a new version ID, so last week’s post still points to last week’s code, but it doesn’t create a second copy, so you can tell if you have the right version. Click on the gist id at the bottom and you can see the revisions.))&lt;/p&gt;
&lt;h2 id=&quot;the-posterior-distribution-from-the-regression&quot;&gt;The posterior distribution from the regression&lt;/h2&gt;
&lt;p&gt;The regression is used to determine the posterior distribution of the parameter. We want to move each the observed values down along a line parallel to the regression line until they are at a point at the observed summary statistic. We do this as&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\theta_i^* = \theta_i - b(S(X_i) - S(X_0)) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;em&gt;b&lt;/em&gt; is the slope of the regression, &lt;em&gt;S(X_i)&lt;/em&gt; is the summary stat on each of the simulated data in the regression, and $ S(X_0) $ is the summary statistic of the observed data. The distribution of these $ _i^* $ is the posterior distribution of theta. (see Figure 1 of (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)).&lt;/p&gt;
&lt;p&gt;[gist id=914487]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5070/5632508759_0e1c988444_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;comparing-models&quot;&gt;Comparing models&lt;/h2&gt;
&lt;p&gt;We consider the alternative model that the data comes from the gamma distribution, rather than the normal distribution, in the example above. We’d like to compare the models by Bayes factors. ((We are just using the single summary statistic, the mean, in both cases. This should be a sufficient statistic to estimate the mean of the normal, the mean of the gamma model is the product of the rate parameter and the shape parameter.))&lt;/p&gt;
&lt;p&gt;The Bayes Factor is the ratio of the probability of the data under model 1 vs the probability of the data under model 2, which we get by integrating out (marginalizing over) the possible parameter values of the model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(X|\theta_1) P(\theta_1) d\theta_1 }{ \int P(X|\theta_2) P(\theta_2) d\theta_2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We don’t know the likelihood, $ P(X | _1) $, etc, but argued that by Bayes Theorem we could replace it with the posterior we just calculated, using $ P(X | _1) P(_1)$ with $ P(_1 | X)P(X)$. Then &lt;em&gt;P(X)&lt;/em&gt; &lt;del&gt;cancels out of top and bottom, &lt;/del&gt;and we’re left with&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)  d\theta_1 }{ \int P(\theta_2 | X) d\theta_2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Is this correct?  What should these integrals be normalized by?  Guess we better check our references.&lt;/p&gt;
&lt;h3 id=&quot;correction-2-may-2011&quot;&gt;CORRECTION: (2 May 2011)&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;P(X)&lt;/em&gt; is model dependent, lost in my sloppy notation.  Rather than showing all models are equal (ratio of integral of posteriors above is unity) we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)P(X|M_1)  d\theta_1 }{ \int P(\theta_2 | X) P(X|M_2) d\theta_2} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which is simply not useful, as it recovers our original expression (Factor out the &lt;em&gt;P(X)&lt;/em&gt; terms and the posteriors just integrate away.   Instead, we are just left with the regular integrals to compute, probably by MCMC. Knowing the posterior distributions doesn’t seem to help in the computation of the Bayes Factors.  Worth seeing other work on computation of Bayes factors, such as why we end up with Harmonic means, stepping stone approach, etc etc.&lt;/p&gt;
&lt;h2 id=&quot;next-time&quot;&gt;Next time&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Verify/finish the model comparison between normal and gamma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Multi-parameter inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Family-of-models comparisons?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Maybe take a look at efficiency improvements such as in (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get ready for our next algorithm (MCMC, HMM, EM).  We discussed ABC-MCMC, so might want to consider (Marjoram, 2003) and its criticisms in (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009).  Re HMM, again may be natural to build from the ABC, see C. Robert’s &lt;a href=&quot;http://xianblog.wordpress.com/2011/04/19/abc-convergence-for-hmms/&quot;&gt;post&lt;/a&gt;, and a recent &lt;a href=&quot;http://arxiv.org/abs/1103.5399&quot;&gt;paper&lt;/a&gt; on the arxiv.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Try implementing automatic estimates for summary statistics? see &lt;a href=&quot;http://arxiv.org/abs/1004.1112&quot;&gt;paper&lt;/a&gt;, via &lt;a href=&quot;http://xianblog.wordpress.com/2011/04/18/semi-automatic-abc-revised/&quot;&gt;C. Robert’s blog&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wegmann D, Leuenberger C and Excoffier L (2009). “Efficient Approximate Bayesian Computation Coupled With Markov Chain Monte Carlo Without Likelihood.” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;182&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.109.102509&quot;&gt;http://dx.doi.org/10.1534/genetics.109.102509&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marjoram P (2003). “Markov Chain Monte Carlo Without Likelihoods.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;100&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0306899100&quot;&gt;http://dx.doi.org/10.1073/pnas.0306899100&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>TreePar: changing rates of evolution</title>
	 <link href="/2011/04/17/treepar-changing-rates-of-evolution.html"/>
   <updated>2011-04-17T18:11:46+00:00</updated>
   <id>/04/17/treepar-changing-rates-of-evolution</id>
   <content type="html">&lt;h2 id=&quot;review-comments-on-article&quot;&gt;Review &amp;amp; Comments on Article&lt;/h2&gt;
&lt;p&gt;T. Stadler’s article &lt;em&gt;Mammalian phylogeny reveals recent diversification rate shifts&lt;/em&gt; (Stadler, 2011) describes her new TreePar package, evaluating shifts in the mammalian phylogeny (from and analyzed by (Bininda-Emonds &lt;em&gt;et. al.&lt;/em&gt; 2007)) as an example.&lt;/p&gt;
&lt;p&gt;The heart of the article is the calculation of the likelihood for a branching process model with rate shifts at specified times. This approach is dramatically more powerful and less susceptible to spurious conclusions than the earlier approach of looking for a shift in slope in the lineage-through-time (LTT) plot.&lt;/p&gt;
&lt;p&gt;Tanja presents a verbal argument for how the slope-shift may be misled, by confusing a ‘pull of the present’ rate shift (at about $ 1/(-)$) for a shift in rates. Consider a birth-death model where extinction rate turns off at time T. Just before T, we have a slope of &lt;span class=&quot;math&quot;&gt;\(\lambda\)&lt;/span&gt; due to the “pull of the present.” After T we have a real rate shift, where extinction is zero. She argues that the slopes method would mistake this for two separate shifts, though I’m unconvinced that the soft shift would really be mistaken as a rate shift (if there is even power to detect the shift, it’s not a sharp transition like a true rate change). Despite this qualm, the likelihood method is certainly an improvement over the slope change, so it’s great to see a likelihood method stepping into this place.&lt;/p&gt;
&lt;p&gt;One subtlety of the likelihood maximization is that the numerical algorithm cannot actually handle the simultaneous optimization of &lt;em&gt;n&lt;/em&gt; transitions in rates. To work around this, Tanja uses the following greedy algorithm: estimate the location of a shift under a one-shift model, then fix this time to estimate the location of the next shift.&lt;/p&gt;
&lt;p&gt;To demonstrate that this is not necessarily the maximum likelihood, it is sufficient to demonstrate that the maximum-likelihood estimated location of a single shift is not equal to the maximum-likelihood estimate of either shift estimated in a two-shift model. To prove this as simply as possible, consider a pure birth process: $ _1, _2, _3$, where shifts occur at times $ t_1, t_2$. The lineage-through-time (log expected species count vs time) is a piecewise linear function with two change points. If the change in each birth rate is monotonic, than the single change-point estimate will always choose a time intermediate to the two change-point estimates, such that the greedy algorithm will not find the maximum likelihood solution. I believe one can also create identifiability issues of the optimum single change-point estimate in a two rate model, have to work this through more carefully though. Less of a concern is that the locations of the shifts are restricted to a coarse grid, such that only a few different time points are actually tried.&lt;/p&gt;
&lt;p&gt;Tanja does an excellent job of testing the method in the supplement. My primary concern here is that all tests of robustness and confidence intervals of the method are done for the rather large mammalian phylogeny, and will not appear nearly so robust when users apply the analysis to smaller trees but do not repeat all of the simulation tests Tanja does in the original paper. These tests are an excellent roadmap for how to do an analysis, but they are data-specific, and I feel the approach should not be used without repeating these tests on the data in question. This also seems like an excellent exercise for the user, I’ll try and write this code out shortly for some simulated examples.&lt;/p&gt;
&lt;p&gt;Tanja’s treatment allows for mass extinctions, which occur at estimated time-points, though Tanja has elsewhere shown that mass extinctions cannot be distinguished from models with constant speciation and extinction punctuated by stasis on the basis of extant taxa alone (Stadler, 2011), so I am unclear about the significance of their inference. No such events are inferred in the example, and her code allows this feature to be turned off.&lt;/p&gt;
&lt;p&gt;Tanja’s implementation also treats partial sampling, an issue she has also addressed elsewhere (Hartmann &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;
&lt;p&gt;I hope I haven’t seemed too critical here. This is the first time I’ve really looked over Tanja’s work and it seems to be of the highest caliber. I do worry about the non-MLE estimates of the time due to the stepwise nature of the algorithm.&lt;/p&gt;
&lt;h2 id=&quot;code-exploring-treepar&quot;&gt;Code: exploring TreePar&lt;/h2&gt;
&lt;h3 id=&quot;first-impressions&quot;&gt;First impressions:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;TreePar code: Pure R (no src, no external dependencies).  Looks clean but uncommented.  No object-oriented design/classes.  Does not appear to follow style guide.  Debugging and error checks by print statements (rather than error() and warning()), but at least performs the checks.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reasonably functionalized (18 functions in separate files support 2 user-called functions (in NAMESPACE): bd.shifts.optim(), bd.densdep.optim().&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Functions look reasonably documented, including examples code.  Examples run fine.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OOooh very exciting: bd.densdep is a proper density dependent model with logistic birth and constant extinction (formerly Rabosky tested a logistic birth but no extinction model). No mention of this that I saw in the paper though(?)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Mammalian Phylogeny Reveals Recent Diversification Rate Shifts.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1016876108&quot;&gt;http://dx.doi.org/10.1073/pnas.1016876108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bininda-Emonds O, Cardillo M, Jones K, MacPhee R, Beck R, Grenyer R, Price S, Vos R, Gittleman J and Purvis A (2007). “The Delayed Rise of Present-Day Mammals.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;446&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05634&quot;&gt;http://dx.doi.org/10.1038/nature05634&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hartmann K, Wong D and Stadler T (2010). “Sampling Trees From Evolutionary Models.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq026&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/04/16/friday-4.html"/>
   <updated>2011-04-16T20:00:49+00:00</updated>
   <id>/04/16/friday-4</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Arxiv has several articles on the &lt;a href=&quot;http://en.wikipedia.org/wiki/Expectation-maximization_algorithm&quot;&gt;EM-algorithm&lt;/a&gt; from J. Statistical Science unknown, unknown.  What makes this distinct from applying any traditional optimization routine (Nelder-Mead, simulated annealing, etc) to the likelihood function?  Just in that it determines the probability distribution as well as maximum?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;UPDATE ON EM: brief discussion with Graham, Peter, Yaniv on this, now my impression is: Not necessarily get the distribution, but doesn’t just generically take a function and minimize it, but may not calculate the likelihood at each step.  Handles missing values, simulate the data.  We’ll take a closer look at this in our Algorithms discussion group.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also from the arxiv, nice &lt;a href=&quot;http://arxiv.org/abs/1104.2854&quot;&gt;article&lt;/a&gt; by Nick Barton and colleagues on the role statistical mechanics has played in evolutionary biology.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/1101.2908&quot;&gt;Interesting work&lt;/a&gt; on the arxiv on critical transitions from Christian, a post-doc in &lt;a href=&quot;http://www.biond.org/content/research&quot;&gt;Thilo Gross’s group&lt;/a&gt; at Max Planck Complex Systems, Dresden.  Also meaning to look over there generalized models in food webs paper (Gross &lt;em&gt;et. al.&lt;/em&gt; 2009).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like a fantastic article on estimating diversification (speciation/extinction) rates in PNAS(Stadler, 2011), and an accompanying package, &lt;a href=&quot;http://cran.r-project.org/web/packages/TreePar/index.html&quot;&gt;TreePar&lt;/a&gt; (which actually looks like it’s been on CRAN since last June).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking over this paper led me to a few others also by Tanja, discussing some of the challenges of simulating(Stadler, 2011) and sampling trees(Hartmann &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See TreePar discussion &lt;a href=&quot;http://www.carlboettiger.info/archives/1423&quot;&gt;in later post.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gross T, Rudolf L, Levin S and Dieckmann U (2009). “Generalized Models Reveal Stabilizing Factors in Food Webs.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;325&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1173536&quot;&gt;http://dx.doi.org/10.1126/science.1173536&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Mammalian Phylogeny Reveals Recent Diversification Rate Shifts.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1016876108&quot;&gt;http://dx.doi.org/10.1073/pnas.1016876108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hartmann K, Wong D and Stadler T (2010). “Sampling Trees From Evolutionary Models.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq026&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unknown, unknown unknown, (unknown) &lt;em&gt;Unknown&lt;/em&gt;, **** &lt;a href=&quot;http://dx.doi.org/&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Weds: Final round edits</title>
	 <link href="/2011/04/13/weds-final-round-edits.html"/>
   <updated>2011-04-13T16:21:30+00:00</updated>
   <id>/04/13/weds-final-round-edits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Low-power (40 data-point) IBM simulation example&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5063/5613789663_d3aec5de4b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5266/5615442069_0473d939c4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5613811639_ea16996e33_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Consider examples of false negative (Deteriorating example), and negative correlations in constant and deteriorating environments (? - nope)&lt;/li&gt;
&lt;li&gt;Implement LTC updated models!&lt;/li&gt;
&lt;li&gt;Working over Alex revisions&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: manuscript and appendix edits</title>
	 <link href="/2011/04/12/tuesday-manuscript-and-appendix-edits.html"/>
   <updated>2011-04-12T23:40:28+00:00</updated>
   <id>/04/12/tuesday-manuscript-and-appendix-edits</id>
   <content type="html">&lt;h2 id=&quot;todays-log&quot;&gt;Today’s log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Edited cover letter summary for public.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Soliciting feedback on examples in manuscript vs appendix, see &lt;a href=&quot;http://www.carlboettiger.info/archives/1408&quot;&gt;Monday’s entry&lt;/a&gt;.  (Entry posted, images added to flickr database)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jeff fixed the double-post bug in twitteR, &lt;a href=&quot;http://www.carlboettiger.info/archives/1361&quot;&gt;tested update&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Improved initialization estimates for LSN model in fit_models (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/b11f4392519f98a466c37b2cf5e9d4819965a232&quot;&gt;code&lt;/a&gt;), as identified &amp;amp; discussed in &lt;a href=&quot;http://www.carlboettiger.info/archives/1389&quot;&gt;Sunday’s entry.&lt;/a&gt; Needs testing on a unit case, trying on ibm_analysis.R now… &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5614310030/&quot;&gt;seems to work fine&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/2b85b0e24faa478b284ee261a287ba03759182f7&quot;&gt;this ibm_analysis&lt;/a&gt;on a small dataset at 2000 replicates (zero, nice 19).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model choice sets (&lt;a href=&quot;http://www.flickr.com/photos/cboettig/5613555396/in/photostream&quot;&gt;i.e. see in stream&lt;/a&gt;) finally finished – but some trouble in corresponding data records to the figures??&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reworking model section of appendix, consider Levins-style model in place of traditional logistic as the transcritical bifurcation.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5025/5615505110_4feb0e5269_o.jpg&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5183/5614584928_4d258d1987_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Flushed out appendix discussion of Cox’s delta.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adding data descriptions to appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updates to appendix examples: Skew (pull out kurtosis, never really proposed/applied).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model generality comments&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Text: adjust to reflect a single Figure.  Adjust captions.  adjust to reflect Algae example.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Specify which Glaciation example, specify data treatments Specify which Algae example&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples: Remove kurtosis examples.  Add IBM examples with sufficient and insufficient power.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R package and examples cleanup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Update parameter estimates without convergence failure runs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review remaining comments&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>A bit of work on my socialR package for reproducible research</title>
	 <link href="/2011/04/12/a-bit-of-work-on-my-socialr-package-for-reproducible-research.html"/>
   <updated>2011-04-12T09:55:42+00:00</updated>
   <id>/04/12/a-bit-of-work-on-my-socialr-package-for-reproducible-research</id>
   <content type="html">&lt;p&gt;A few small updates on my &lt;a href=&quot;http://www.carlboettiger.info/archives/565&quot;&gt;socialR&lt;/a&gt; package, (continued from my &lt;a href=&quot;http://www.carlboettiger.info/archives/1355&quot;&gt;earlier&lt;/a&gt; entries) which should hopefully help it evolve from a personal tool to a portable package one day. Starting by incorporating support for native R packages to handle the API interface to flickr, twitter, and github, rather than just calling command-line scripts. Jeff Gentry has just released an ROAuth package for authentication, which can be used by his twitteR package. A bit of configuring, but these are now working.&lt;/p&gt;
&lt;p&gt;Successfully installed by setting&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in the terminal, and added this line to /etc/ld.so.conf.d/*.conf,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;registerTwitterOAuth(exampleOauth)
requestURL = &amp;quot;https://api.twitter.com/oauth/request_token&amp;quot;
accessURL = &amp;quot;http://api.twitter.com/oauth/access_token&amp;quot;
authURL = &amp;quot;http://api.twitter.com/oauth/authorize&amp;quot;
twitCred = OAuthFactory$new(consumerKey=consumerKey,
                                          consumerSecret=consumerSecret,
                                          requestURL=reqURL,
                                          accessURL=accessURL,
                                          authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
save(list=&amp;quot;twitCred&amp;quot;, file=&amp;quot;twitteR_credentials&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you must specify consumerKey and consumerSecret from registering as a twitteR app: &lt;a href=&quot;http://twitter.com/apps/new&quot; class=&quot;uri&quot;&gt;http://twitter.com/apps/new&lt;/a&gt; In the future one can then authenticate just by loading the credentials and calling register:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(&amp;quot;twitteR_credentials&amp;quot;)
registerTwitterOAuth(twitCred)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Can now send tweets or direct messages;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tweet(&amp;quot;text&amp;quot;)
dm(&amp;quot;text&amp;quot;, &amp;quot;user&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have been having a problem with this creating double-posts on my ubuntu machine (apparently not a problem on other architectures). Jeff has been very responsive and just sent me an updated version of the package, which works brilliantly. Note that you can “delete” posts, which will let you repost them without an error (but does not actually remove them from the tweet stream, or actually double-post?)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ns &amp;lt;- tweet(&amp;quot;tweet this&amp;quot;)
deleteStatus(ns)
tweet(&amp;quot;tweet this&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[blackbirdpie url=“http://twitter.com/#!/tweeting_cpu/status/57836211762503681”]&lt;/p&gt;
&lt;p&gt;Kudos and thanks to Jeff for his help with this. Nice to have this working. Now for flickR…&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: Warning Signals - Updated graphs</title>
	 <link href="/2011/04/11/monday-warning-signals-updated-graphs.html"/>
   <updated>2011-04-11T22:47:04+00:00</updated>
   <id>/04/11/monday-warning-signals-updated-graphs</id>
   <content type="html">&lt;p&gt;Trying a different set-up for the graphs. Added two additional datasets, trying layout of making all three figures into a panels in a single figure.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5024/5613668812_ddf12551cb_z.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5261/5613089339_6785dfd34f_z.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5303/5613669312_b3a956e248_z.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Concerns:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Better than only one empirical example, but not sure that the three Glaciation data sets add that much since they are all quite similar.&lt;/li&gt;
&lt;li&gt;Five panels wide might be too much.&lt;/li&gt;
&lt;li&gt;Don’t have an example where a transition is about to occur but the data doesn’t have adequate power even for our Likelihood method, third panel.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;compare-to&quot;&gt;Compare to:&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5029/5613977400_1ef7963990_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5029/5613977400_1ef7963990_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5221/5613977750_41305e0676_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5221/5613977750_41305e0676_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5268/5613989552_acf3df546c_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5268/5613989552_acf3df546c_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Concerns remaining:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What order to put the examples?&lt;/li&gt;
&lt;li&gt;The constant case is different in that it is the only one in which the system did not eventually experience a critical transition.  Does this need to be emphasized more?&lt;/li&gt;
&lt;li&gt;Does the simulated data need better distinguishing from empirical data?&lt;/li&gt;
&lt;li&gt;The Empirical Glaciation data shown has been interpolated and detrended (following the original author’s study); can this just be mentioned in the captions/appendix?&lt;/li&gt;
&lt;li&gt;Font sizes are a bit troubled, but this can wait?&lt;/li&gt;
&lt;li&gt;Do column names need to be more informative somehow?&lt;/li&gt;
&lt;li&gt;Other concerns?&lt;/li&gt;
&lt;li&gt;Noam suggested showing the crash in the initial data, though this is difficult in the case where the data has been transformed (to repeat treatment it is given in the literature).&lt;/li&gt;
&lt;li&gt;Should I also indicate the N sample points on each figure?  text too crowded?&lt;/li&gt;
&lt;li&gt;Should these be presented as panels of a single figure?&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: algorithms Meeting</title>
	 <link href="/2011/04/11/monday-abc-meeting-2.html"/>
   <updated>2011-04-11T16:21:09+00:00</updated>
   <id>/04/11/monday-abc-meeting-2</id>
   <content type="html">&lt;p&gt;Yaniv has started an algorithms discussion group. We just met with a few  students to discuss implementing Approximate Bayesian Computing methods from scratch.  Most of us had read (Beaumont, 2010) and (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)  but also followed [cite source=“pubmed”]12524368[/cite] most helpful during the session.&lt;/p&gt;
&lt;p&gt;[gist id=914487]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5222/5610998871_13dd3c8c88_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;This gets us as far as the regression step, Figure 1 of (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010).  This in part distinguishes the approach from simple rejection sampling.  We’ll pick up from here next week.&lt;/p&gt;
&lt;h2 id=&quot;existing-tools&quot;&gt;Existing Tools&lt;/h2&gt;
&lt;p&gt;Explored a bit of the existing tools available explicitly for ABC computing.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ABC-sysBio (Liepe &lt;em&gt;et. al.&lt;/em&gt; 2010) looks interesting: a Python+GPU enabled toolkit. Models are specified as xml, apparently following the Systems Biology Markup Language, for which their is an existing database, &lt;a href=&quot;http://www.ebi.ac.uk/biomodels-main/&quot;&gt;BioModels&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can’t decide if I think having a library of models is ridiculous or brilliant, but the data-base looks well curated and linked to the publications, which is rather nice.  If there are models linked to multiple papers I’d be particularly interested, but not sure if it’s enough of a standard to be useful, or if most modelers want to learn an XML markup when they already have there own familiar syntax for model specification.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cmpg.iee.unibe.ch/content/softwares__services/computer_programs/abctoolbox/index_eng.html&quot;&gt;ABCToolbox&lt;/a&gt; Haven’t explored this one, written in C++.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;a href=&quot;http://en.wikipedia.org/wiki/Approximate_Bayesian_computation&quot;&gt;Wikipedia entry&lt;/a&gt; seems to have a decent entry with links to literature and existing tools&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Beaumont M (2010). “Approximate Bayesian Computation in Evolution And Ecology.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;41&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev-ecolsys-102209-144621&quot;&gt;http://dx.doi.org/10.1146/annurev-ecolsys-102209-144621&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liepe J, Barnes C, Cule E, Erguler K, Kirk P, Toni T and Stumpf M (2010). “Abc-Sysbio–Approximate Bayesian Computation in Python With Gpu Support.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btq278&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btq278&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday: Warning signals edits continue</title>
	 <link href="/2011/04/11/sunday-warning-signals-edits-continue.html"/>
   <updated>2011-04-11T08:13:05+00:00</updated>
   <id>/04/11/sunday-warning-signals-edits-continue</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Marissa edits – Nearly done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Single-figure layout – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;equations in appendix – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;convergence / likelihood agreement between constOU and constLSN (Done, see below; consider using for a better initial-condition guessing routine for better convergence)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reformulate transcritical bifurcation?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rewrite cover letter&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5103/5607234118_a4d877b381_o.jpg&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5145/5607230134_0b63303ba8_o.jpg&quot; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(&amp;quot;5598226674.Rdat&amp;quot;)
require(warningsignals)
OU &amp;lt;- deterior_mc$null 
LSN &amp;lt;- deterior_mc$test
LSN_OU &amp;lt;- updateGauss(const_LSN, OU$pars, OU$X)

c(OU$loglik, LSN$loglik, LSN_OU$loglik)
[1] -1038.510 -1142.539 -1162.826
list(OU$pars, LSN_OU$pars, LSN$pars)

[[1]]
          Ro        theta        sigma 
  0.03372706 605.86310520  21.13186326 

[[2]]
       Ro     theta     sigma 
 83.49120 603.49469  14.00135 

[[3]]
          Ro            m        theta        sigma 
 93.89113902  -0.09374192 631.17624969   9.91779631 


# guess LSN parameters from OU parameterization
guess_Ro &amp;lt;- as.numeric(OU$pars[&amp;#39;Ro&amp;#39;]^2)
guess_theta &amp;lt;- as.numeric( OU$pars[&amp;#39;theta&amp;#39;]+OU$pars[&amp;#39;Ro&amp;#39;] )
guess_sigma&amp;lt;- as.numeric(OU$pars[&amp;#39;sigma&amp;#39;]/sqrt(2*OU$pars[&amp;#39;Ro&amp;#39;]+OU$pars[&amp;#39;theta&amp;#39;]))

## see if the likelihood of the transformed parameters as LSN resembles the OU likelihood 
const_pars&amp;lt;- c(Ro=guess_Ro, theta=guess_theta, sigma=guess_sigma)

## Yay they almost agree:
-lik.gauss(OU$X, const_pars, const_LSN)
[1] -1044.504
OU$loglik
[1] -1038.510

## starting from here, they agree after optimization
new_LSN_OU &amp;lt;- updateGauss(const_LSN, const_pars, OU$X)
c(new_LSN_OU$loglik, OU$loglik)
[1] -1038.779 -1038.510&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals</title>
	 <link href="/2011/04/08/warning-signals-3.html"/>
   <updated>2011-04-08T17:08:48+00:00</updated>
   <id>/04/08/warning-signals-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;ibm simulation fit convergence on constOU vs constLSN – are likelihood scores off from including out-of-bound parameter estimates?&lt;/li&gt;
&lt;li&gt;Consider transcritical in levins model setup&lt;/li&gt;
&lt;li&gt;Consider re-arranging figures: one panel, full-width, variance and autocorrelation only, three empirical examples.&lt;/li&gt;
&lt;li&gt;Trying smaller numbers of replicates in simulated data to get low-power examples.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-04-06 00:00:00” max_upload_date=“2011-04-11 23:59:59”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;move ibm simulation code into warningsignals package&lt;/li&gt;
&lt;li&gt;Working through Marissa’s edits.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>TreeBase: exploratory exercises in database-driven phylogenetics</title>
	 <link href="/2011/04/08/treebase-exploratory-exercises-in-database-driven-phylogenetics.html"/>
   <updated>2011-04-08T15:18:02+00:00</updated>
   <id>/04/08/treebase-exploratory-exercises-in-database-driven-phylogenetics</id>
   <content type="html">&lt;p&gt;Taking a look at the &lt;a href=&quot;http://www.treebase.org/treebase-web/urlAPI.html&quot;&gt;TreeBase&lt;/a&gt; database for potential project with Gabe &amp;amp; Duncan’s Large Data seminar.  It would be interesting to get a working knowledge of the database and the API, making large-scale meta-analyses easy.  Many studies seem to select taxa based on what they have in their own lab rather than re-use existing phylogenies, not because it is better suited to answering the questions but because it is more familiar.  Access to larger data-sets than typically available in any individual lab, and the ability to test hypotheses across multiple phylogenies could be rather useful.&lt;/p&gt;
&lt;p&gt;A nice tutorial on what can be done with the existing data could be quite useful; my cursory search for such a tutorial didn’t turn up much.  The ability to grab and re-analyze any set of phylogenetic trees through a pipeline in R would be very useful.&lt;/p&gt;
&lt;h2 id=&quot;overview-of-capabilities&quot;&gt;Overview of capabilities&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In addition to the web interface, TreeBASE can be accessed programmatically through a stateless web service interface and URL architecture. This interface can deliver data in several different formats, including NEWICK, NEXUS, JSON, NeXML.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a &lt;a href=&quot;http://evoinfo.nescent.org/PhyloWS&quot;&gt;PhyloWS&lt;/a&gt; RESTful API. A detailed description of &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;TreeBASE’s PhyloWS implementation&lt;/a&gt; is on the TreeBASE wiki.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;OAI-PMH&lt;/a&gt; metadata harvesting interface is available, though under development. A detailed description is on the &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;TreeBASE wiki&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SQL data dumps – coming soon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase &lt;a href=&quot;http://treebase.org/treebase-web/about.html&quot;&gt;claims&lt;/a&gt; to have character data as well as phylogenies.  No obvious way to query for these.  Also has sequence data.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;potential-exerices&quot;&gt;Potential exerices&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Would be good to begin with a statistical summary of TreeBase: number of data sets, average size, taxa, coverage, frequency with which various methods were used, fraction that are time-calibrated, fraction that are species trees vs gene trees, number of sequences used etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;No idea how hard it would be to establish an R implementation/interface to the API, but could be quite useful, particularly for comparative phylogenetics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would be useful to have a pipeline that could grab the phylogenies from within R given search terms or the study id, along with appropriate meta-data (publication information, taxa, etc).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;accompanying-literature-database&quot;&gt;Accompanying literature database:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;There’s a rather nice database of all 2604 papers published containing phylogenetic trees with entries in TreeBase, cataloged in the &lt;a href=&quot;http://www.mendeley.com/groups/734351/treebase/papers/&quot;&gt;Mendeley group&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Each has tags to the entries in TreeBase (note that all objects have been given new id’s in the current (version 2) TreeBase, so should search by those.  Make sure to discard current search results (button) before searching again.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can search the Mendeley collection (if I imported all the papers, then could do full-text search of the articles).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Potential to interface with other databases, including Wikipedia (see next section, below).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;some-perspectives-from-rod-page&quot;&gt;Some perspectives from Rod Page&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://taxonomy.zoology.gla.ac.uk/publications/tech-reports/Edinburgh.pdf&quot;&gt;Towards a Taxonomically Intelligent Database&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/rdmpage/why-arent-we-there-yet&quot;&gt;Why aren’t we there yet?&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/rdmpage&quot;&gt;Roderic Page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And another excellent presentation from Rod for a more general web database perspective:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/rdmpage/going-digital&quot;&gt;Going Digital&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/rdmpage&quot;&gt;Roderic Page&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Some reproducible research practices in journals</title>
	 <link href="/2011/04/08/reproducible-research.html"/>
   <updated>2011-04-08T12:48:44+00:00</updated>
   <id>/04/08/reproducible-research</id>
   <content type="html">&lt;p&gt;Interesting discussion on the Reproducible Research Group about rates at which the various reproducible research standards are used in the Journal of Biostatistics:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5015/5472087649_8093f6b92e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;from unknown, 2010, which provides a great basis for recommendations to authors, publishers, and funders to ensure reproducible research. Victoria Stodden &lt;a href=&quot;http://bit.ly/ikfpxK&quot;&gt;describes&lt;/a&gt; two journals with Open Review and two with Associate Editors of Reproducible Research.&lt;/p&gt;
&lt;p&gt;Some of the articles from Biostatistics discussing this practice: (Baker &lt;em&gt;et. al.&lt;/em&gt; 2010), (Goodman, 2010), (Keiding, 2010),   (Donoho, 2010), (Groves, 2010) (Peng, 2009)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Baker S, Darke A, Pinsky P, Parnes H and Kramer B (2010). “Transparency And Reproducibility in Data Analysis: The Prostate Cancer Prevention Trial.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq004&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Goodman S (2010). “Commentary.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq030&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq030&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Keiding N (2010). “Reproducible Research And The Substantive Context.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq033&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq033&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Donoho D (2010). “an Invitation to Reproducible Computational Research.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq028&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq028&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Groves T (2010). “The Wider Concept of Data Sharing: View From The Bmj.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq031&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq031&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Peng R (2009). “Reproducible Research And Biostatistics.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp014&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reproducible Research, unknown unknown, (2010) &lt;em&gt;Computing in Science &amp;amp; Engineering&lt;/em&gt;, &lt;strong&gt;12&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1109/MCSE.2010.113&quot;&gt;10.1109/MCSE.2010.113&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Steve Ellner's seminar</title>
	 <link href="/2011/04/07/steve-ellners-seminar.html"/>
   <updated>2011-04-07T17:09:29+00:00</updated>
   <id>/04/07/steve-ellners-seminar</id>
   <content type="html">&lt;p&gt;What started as three men and a chemostat…&lt;/p&gt;
&lt;p&gt;This is Part III of the talk – some of you were in elementary school for the first two, so here’s a reminder:&lt;/p&gt;
&lt;p&gt;Consumer-resource interactions are prone to cycle: due to delayed negative feedbacks. (note prey peaks are 1/4-cycle shifted). Simulations, Larch Budmoth and parasitoids, (Kendall &lt;em&gt;et. al.&lt;/em&gt; 1998)&lt;/p&gt;
&lt;p&gt;Chaos should be common But it isn’t. we observe Stable : cycles : chaos 2 : 1 : $ $ Zimmer 1999 (Zimmer, 1999)&lt;/p&gt;
&lt;p&gt;why? Darwin.&lt;/p&gt;
&lt;p&gt;But theorists show systems can evolve to chaos, ’cause theorists are bright.&lt;/p&gt;
&lt;p&gt;So, we decided we test in real organisms: Rotifer-algal chemostats and cycles.&lt;/p&gt;
&lt;p&gt;Dilution rate is a bifurcation parameter. Fussman 2000. (Fussmann, 2000) Model works – but no! Period is three times too long, cycles exactly out of phase.&lt;/p&gt;
&lt;p&gt;Looks like evolution. blocking evolution confirms it (Yoshida &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/p&gt;
&lt;p&gt;These results have been replicated many times… starting in 1972! Short period gets longer and goes out of phase. Some mention their models stopped working, but didn’t recognize Darwin staring them in the face.&lt;/p&gt;
&lt;p&gt;But how important is rapid evolution? (Relative importance is a central theme of ecological work) Monica Geber, Hairston 2005 (Hairston &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;
&lt;p&gt;$  =   + $&lt;/p&gt;
&lt;p&gt;Big changes in traits involve many changes in genes. Traits can do the same thing,but genes do very different things. open mystery…&lt;/p&gt;
&lt;p&gt;Returning to ecology: Theory predicts dilution rate is a bifurcation parameter, as is amount of heritability.&lt;/p&gt;
&lt;p&gt;So: how well does this work in real food webs? Different system. (wow, evolution happening on experiments within 180 days).&lt;/p&gt;
&lt;p&gt;But wait, trait change isn’t necessarily genetic change. Then in about 2005 theortical ecology said “I can’t believe I forgot about the Price Eqn”&lt;/p&gt;
&lt;p&gt;$  = Cov(m,z) + E(z)$&lt;/p&gt;
&lt;p&gt;Should have been: $  =   + (cov(m,z) + E(z) ) $&lt;/p&gt;
&lt;p&gt;But needs the genotype at time t with environment at time t+1, and vice verca. How can we do that? N. Hairston’s Daphnia from lake Constance preserved each year in sentiment for decades. Hiarston 1999. (Hairston &lt;em&gt;et. al.&lt;/em&gt; 1999) Ellner’s analysis of this is in press at Ecology Letters&lt;/p&gt;
&lt;p&gt;Demonstrates a bit of evolutionary rescue, trait not needing to change as much. Hairston 2005 method gets it wrong (giving evolution a negative estimated effect in the data). Demonstrates evolutionary rescue more then compensating for fitness loss due to ecology in an example in Great Tits.&lt;/p&gt;
&lt;p&gt;With more studies, we might have a meta-analysis of when evolution is important. We think we can formulate a preemptive theory that we could then test.&lt;/p&gt;
&lt;p&gt;Conclusions: Mucrocosms are awesome. match data to model, no excuses about what you didn’t measure.&lt;br /&gt;Rapid evolution occurs with real consequences.&lt;/p&gt;
&lt;p&gt;Field studies shown substantial ecological impact, and we can quantify (can be larger than the ecological impact).&lt;/p&gt;
&lt;p&gt;Evolution seems most important when it is the cause of stasis rather than change. An important buffer.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Kendall u, Prendergast u and Bjornstad u (1998). “The Macroecology of Population Dynamics: Taxonomic And Biogeographic Patterns in Population Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.1998.00037.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.1998.00037.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Zimmer C (1999). “Complex Systems:Life After Chaos.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;284&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.284.5411.83&quot;&gt;http://dx.doi.org/10.1126/science.284.5411.83&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fussmann G (2000). “Crossing The Hopf Bifurcation in A Live Predator-Prey System.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;290&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.290.5495.1358&quot;&gt;http://dx.doi.org/10.1126/science.290.5495.1358&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Yoshida T, Jones L, Ellner S, Fussmann G and Hairston N (2003). “Rapid Evolution Drives Ecological Dynamics in A Predator-Prey System.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;424&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature01767&quot;&gt;http://dx.doi.org/10.1038/nature01767&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hairston N, Ellner S, Geber M, Yoshida T and Fox J (2005). “Rapid Evolution And The Convergence of Ecological And Evolutionary Time.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00812.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00812.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hairston N, Lampert W, Cáceres C, Holtmeier C, Weider L, Gaedke U, Fischer J, Fox J and Post D (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;401&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/46731&quot;&gt;http://dx.doi.org/10.1038/46731&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals - Manuscript touch-ups</title>
	 <link href="/2011/04/06/warning-signals-manuscript-touch-ups.html"/>
   <updated>2011-04-06T17:27:42+00:00</updated>
   <id>/04/06/warning-signals-manuscript-touch-ups</id>
   <content type="html">&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;refining-examples&quot;&gt;Refining examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updating finished runs to full formats&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Condensing/organizing code examples under the demos to follow the structure of the paper.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Currently plotting code for manuscript loads a menagerie of different run results from different files.  Would be better to consolidate by dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;proposed-figure-changes&quot;&gt;Proposed figure changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Consider multiple empirical examples in main text&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider removing skew/kurtosis examples to the supplement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider other empirical examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Additional examples to the supplementary information, at least of a case where likelihood also has inadequate power&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider a low-sample size version of ibm simulation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider replacing the linearized simulation with the ibm simulation&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;figure-formatting-guidelines-submission-stage&quot;&gt;Figure formatting guidelines (submission stage):&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Preferred format is jpeg, 150 dpi&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;figures rendered in the size they appear in the manuscript (single column is 89mm, double column width is 183 mm)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;follow naming convention Boettiger_fig1.jpg, etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;… Getting images adjusted for small size – that took a while, see&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/e1c77f9f8c7d46626451ec6e94a3ea3eba3f7327&quot;&gt;git commit&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;shrink ticks, move text, set axis intervals.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All figures set to single column width, decide if any should be double-column?  (doesn’t seem typical).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;revisions-and-edits&quot;&gt;Revisions and Edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Incorporated Marcel’s edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Awaiting Marissa’s edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Just sent to Alex for edits this morning, back this afternoon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Incorporating Alex’s edits now.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviewed** cover letter **with Alan, adding details about figures, word counts, etc. awaiting comments on my revisions.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-examples&quot;&gt;Further Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;drake reanalyze figure3 failed (nice 16 on zero) due to labeling error in plotting function (after all computations finished but no data save – highlighting the need for checkpointing my code!)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rerunning at nice 19 on zero 16 reps, &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5596172988/&quot;&gt;Completed&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and at nice 18 the full 2000 replicates on zero.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ibm_likelihood.R terminated(?) Running at 80 replicates at nice 17 on zero&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Comparative methods paper status/to-do</title>
	 <link href="/2011/04/06/comparative-methods-paper-statusto-do.html"/>
   <updated>2011-04-06T11:56:20+00:00</updated>
   <id>/04/06/comparative-methods-paper-statusto-do</id>
   <content type="html">&lt;p&gt;Finished revisions yesterday after rewriting introduction considerably. Following Graham’s comment, taking a closer look at aic error along power curves:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; load(&amp;quot;../../pmc/demos/5594495254.Rdat&amp;quot;)
&amp;gt; require(pmc)
&amp;gt; aic &amp;lt;- 2
&amp;gt; aic_errors_size &amp;lt;- sapply(1:(length(n)), function(i) sum(size[[i]]$null_dist &amp;gt; aic)/size[[i]]$nboot )
&amp;gt; aic_errors_shape &amp;lt;- sapply(1:length(lambda), function(i) sum(shape[[i]]$null_dist &amp;gt; aic)/shape[[i]]$nboot )
&amp;gt; data.frame(n, aic_errors_size)
    n aic_errors_size
1  10          0.1945
2  20          0.2405
3  40          0.1800
4  60          0.1590
5  80          0.0750
6 100          0.1015
7 150          0.0535
8 200          0.1020
&amp;gt; data.frame(lambda, aic_errors_shape)
  lambda aic_errors_shape
1   0.01           0.0000
2   0.05           0.0000
3   0.10           0.1255
4   0.20           0.2390
5   0.40           0.1950
6   0.60           0.1910
7   0.80           0.1170
8   1.00           0.1910&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course the aic type I error rate at lambda = 0 (star phylogeny) is zero (all likelihood differences should be zero for this case since the OU model is non-identifiable (can’t disentangle alpha and sigma) but equivalent to the BM model (traits are independent and normally distributed).&lt;/p&gt;
&lt;h2 id=&quot;power-curves-of-size-and-shape&quot;&gt;Power curves of size and shape&lt;/h2&gt;
&lt;p&gt;Ran power curves with more examples yesterday, results here.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5268/5594495254_e05e71a9f0_o.png&quot; /&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5594220756_6a7a231962_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;still-to-do-waiting-on&quot;&gt;Still to do / waiting on&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sent revisions to Brian and Yaniv for some final comments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R package needs documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider figure revisions: Fig 4: use triangle instead of line, replace legend with title bar? consider common x and y axes for all of Fig 4? Revise figure captions.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Updates to socialR package</title>
	 <link href="/2011/04/05/updates-to-socialr-package.html"/>
   <updated>2011-04-05T12:27:16+00:00</updated>
   <id>/04/05/updates-to-socialr-package</id>
   <content type="html">&lt;p&gt;Talking with Nick a bit about the socialR package, hope to find a chance to streamline the package a bit, move away from all system calls and interface directly with the APIs for Flickr, twitter, etc from R. This should avoid the command-line program dependencies and configurations I need to use currently.&lt;/p&gt;
&lt;p&gt;Building my own API interfaces looks like it will require a good bit of work, meanwhile significant hope the community might develop reasonable packages to pull this off – basic packages already exist for twitter and flickr.  Doesn’t look like they are quite there though.&lt;/p&gt;
&lt;h2 id=&quot;notes-so-far&quot;&gt;Notes so far&lt;/h2&gt;
&lt;h3 id=&quot;twitter-roauth&quot;&gt;twitter &amp;amp; ROAuth&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Jeff Gentry has twitteR &amp;amp; ROAuth. Unable to install ROAuth at the moment&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Needs liboauth on Ubuntu: http://liboauth.sourceforge.net, installs fine through&lt;/p&gt;
&lt;p&gt;./configure make sudo make install&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like the &lt;a href=&quot;http://packages.ubuntu.com/natty/i386/liboauth0&quot;&gt;liboauth files&lt;/a&gt; will be packaged in the next Ubuntu release (natty).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;But ROAuth still errors on install:&lt;/p&gt;
&lt;p&gt;** building package indices … ** testing if installed package can be loadedError in dyn.load(file, DLLpath = DLLpath, …) : unable to load shared object ‘/home/cboettig/R/packages/ROAuth/libs/ROAuth.so’: liboauth.so.0: cannot open shared object file: No such file or directoryERROR: loading failed&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/&quot;&gt;twitteR&lt;/a&gt; now suggests ROAuth, so perhaps works to send messages through twitter’s OAuth authentication now?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;rflickr&quot;&gt;Rflickr&lt;/h3&gt;
&lt;p&gt;Duncan has an RFlickr package on http://www.omegahat.org from 2008, using RCurl and XML.   Install with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;Rflickr&amp;quot;, repos = &amp;quot;&amp;lt;a href=&amp;quot;http://www.omegahat.org/R&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;http://www.omegahat.org/R&amp;lt;/a&amp;gt;&amp;quot;, type = &amp;quot;source&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Not much documentation beyond&lt;a href=&quot;file:///home/cboettig/R/packages/Rflickr/doc/Rflickr.xml&quot;&gt;this XML doc&lt;/a&gt; to get started&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Set up a new&lt;a href=&quot;http://www.flickr.com/services/apps/72157626435666824/&quot;&gt;flickr app&lt;/a&gt; to get an API key and secret key for the application. successful.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rflickr requests only read privileges (geared towards analyzing existing flickr data rather than uploading content).  Tried editing authenticate permissions, but still seems to request read privileges.  (see flickR modified package in sandbox).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rflickr fails to get fob/token.  First time timeout is expected – successfully still opens browser and requests approval.  Next time function is called it shouldn’t have to request approval but just return a token, unfortunately no such luck.&lt;/p&gt;
&lt;p&gt;tok &amp;lt;- Rflickr::authenticate(api_key, secret)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So once again, I’m a bit stuck.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-notes&quot;&gt;Other notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Added R-2.12 repository to sources.list, (since running Lucid LTS I’ve been using its packaged R-2.10; ROAuth requires 2.12)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like Duncan also has an &lt;a href=&quot;http://www.omegahat.org/RWordPress/&quot;&gt;RWordPress&lt;/a&gt; package; intriguing.  Maybe I can get scripts to write my entire notebook entries automatically…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Well, all the time I have for some exploratory coding at the moment, will have to return to this later; and see if I can enlist some help.  Should follow up with Duncan and Jeff.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>evolution manuscript revisions</title>
	 <link href="/2011/04/04/phylogenetics-manuscript-revisions.html"/>
   <updated>2011-04-04T22:48:21+00:00</updated>
   <id>/04/04/phylogenetics-manuscript-revisions</id>
   <content type="html">&lt;p&gt;Heard back from Graham Friday on manuscript revisions. Notes on reviewing edits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reconsider title?  (Currently: “is your phylogeny informative? estimating power in phylogenetic trees”).  Suggestions from Graham/Brian?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1000 taxa, 500 taxa seem to break the ouch package inferences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add table for AIC comparisons etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does AIC work better/worse on the lambda = 0 trees?&lt;/p&gt;
&lt;p&gt;n[1:3][1] 10 50 100 aic_errors_size &amp;lt;- sapply(1:(length(n)-2), function(i) sum(size[[i]]&lt;span class=&quot;math&quot;&gt;\(null_dist &amp;gt; aic)/size[[i]]\)&lt;/span&gt;nboot ) aic_errors_size [1] 0.1505 0.1285 0.0845 lambda [1] 0.01 0.10 0.40 0.70 1.00 aic_errors_shape &amp;lt;- sapply(1:length(n), function(i) sum(shape[[i]]&lt;span class=&quot;math&quot;&gt;\(null_dist &amp;gt; aic)/shape[[i]]\)&lt;/span&gt;nboot ) aic_errors_shape [1] 0.0000 0.2580 0.0305 0.0415 0.0685&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Improves as tree size increases, impact of lambda somewhat unclear – AIC seems to perform better on heavily transformed trees, except for lambda = 0.1 seems anomalous? Worth a closer look&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rerrunning with a few other examples, now on zero nice 1:&lt;/p&gt;
&lt;p&gt;alpha &amp;lt;- c(seq(.1, 1, length=10), 2:10, seq(20,50, by=10))&lt;/p&gt;
&lt;p&gt;n &amp;lt;- c(10, 20, 40, 60, 80, 100, 150, 200)&lt;/p&gt;
&lt;p&gt;lambda &amp;lt;- c(.01, .05, .1, .2, .4, .6, .8, 1)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recall this results only from the null distribution tightening up, as it is Type I error (area of null right of the AIC threshold, independent of test distribution).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;edit/rewrite introductory paragraphs (less passive voice).  Intro is set up as addressing two key issues, framed as: model problems/model selection/model adequacy, etc, vs data problems.  Perhaps better to phrase more classically in terms of Type I /Type II error explicitly?  emphasize power effectively.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rest of edits have been relatively straight forward changes.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday finishing up appendices(?)</title>
	 <link href="/2011/04/01/thursday-finishing-up-appendices.html"/>
   <updated>2011-04-01T15:50:05+00:00</updated>
   <id>/04/01/thursday-finishing-up-appendices</id>
   <content type="html">&lt;h3 id=&quot;fresh-off-the-cpus&quot;&gt;Fresh off the cpus:&lt;/h3&gt;
&lt;p&gt;single replicate examples on the Drake data&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5067/5577761965_6a2e263f9c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5056/5577677475_8c97df8a57_b.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5056/5577677475_6b5a90b04e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5067/5577761965_50d72ea2c2_b.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;whats-still-running&quot;&gt;What’s still running:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;likelihood for IBM data with 2000 replicates, nice 19 on zero (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/ibm_likelihood.R&quot;&gt;ibm_likelihood.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood for Glaciation I-III with 2000 replicates, nice 18 on zero (deut_likelihood.R)&lt;/li&gt;
&lt;li&gt;likelihood for Glaciation I-III with 2000 replicates, (nice 19 on one)? (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/deut_likelihood.R&quot;&gt;deut_likelihood.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood on sim data, Glaciation III and CaCO3: 80 replicates on one, nice 1 on one (figure3.R)&lt;/li&gt;
&lt;li&gt;and with 2000 replicates, nice 19 on one (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/figure3.R&quot;&gt;figure3.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood between LTC and LSN for CaCO3 and Glaciation III with 2000 replicates (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/model_choice.R&quot;&gt;model_choice.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Drake data all replicate deteriorating stability examples, figs 1-3 (on zero nice 16?)&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>A few large data problems in Ecology & Evolution</title>
	 <link href="/2011/03/31/a-few-large-data-problems-in-ecology-evolution.html"/>
   <updated>2011-03-31T11:18:38+00:00</updated>
   <id>/03/31/a-few-large-data-problems-in-ecology-evolution</id>
   <content type="html">&lt;p&gt;I’ve joined a student-led seminar with Gabriel Becker in the Statistics department on dealing with large data, primarily in R. Offered to say a few words about large data problems in my field for a few minutes, so making some notes.&lt;/p&gt;
&lt;h2 id=&quot;large-databases&quot;&gt;Large dataBases&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Genebank: $ &amp;gt; 10^8$ sequences.  Phylogenetic inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Morphological databases: Specialized databases with semantic tools (Dahdul &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NEON observatories data Keller &lt;em&gt;et. al.&lt;/em&gt; 2008&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Satellite data (Overpeck &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Micro-tracker data&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;distributed-data&quot;&gt;Distributed Data&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Opportunity: Amount of available data is rapidly increasing under requirements of journals and funders (Whitlock, 2011) (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011) (MOORE &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Citizen science (Silvertown, 2009)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Challenges: Decentralized, non-standard data formats.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Goal: From meta-analyses to synthetic analyses&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;large-computation&quot;&gt;Large Computation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simulation studies – replicates and large sample-spaces&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model estimation – Bayesian estimation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computing on large datasets – too large to download&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Predictive modeling – real-time forecasting&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dahdul W, Balhoff J, Engeman J, Grande T, Hilton E, Kothari C, Lapp H, Lundberg J, Midford P, Vision T, Westerfield M, Mabee P and Kelso J (2010). “Evolutionary Characters, Phenotypes And Ontologies: Curating Data From The Systematic Biology Literature.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0010708&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0010708&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overpeck J, Meehl G, Bony S and Easterling D (2011). “Climate Data Challenges in The 21st Century.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197869&quot;&gt;http://dx.doi.org/10.1126/science.1197869&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M (2011). “Data Archiving in Ecology And Evolution: Best Practices.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.11.006&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.11.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MOORE A, Mcpeek M, RAUSHER M, RIESEBERG L and WHITLOCK M (2010). “The Need For Archiving Data in Evolutionary Biology.” &lt;em&gt;Journal of Evolutionary Biology&lt;/em&gt;, &lt;strong&gt;23&lt;/strong&gt;. ISSN 1010061X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&quot;&gt;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Silvertown J (2009). “A New Dawn For Citizen Science.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.017&quot;&gt;http://dx.doi.org/10.1016/j.tree.2009.03.017&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A Continental Strategy For The National Ecological Observatory Network, Michael Keller, David S Schimel, William W Hargrove, Forrest M Hoffman, (2008) &lt;em&gt;Frontiers in Ecology And The Environment&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/1540-9295(2008)6[282:ACSFTN]2.0.CO;2&quot;&gt;10.1890/1540-9295(2008)6[282:ACSFTN]2.0.CO;2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Brian O'Meara discusses new algorithms approaches on Phylo</title>
	 <link href="/2011/03/30/brian-omeara-discusses-new-abc-approaches-on-phyloseminar.html"/>
   <updated>2011-03-30T20:52:04+00:00</updated>
   <id>/03/30/brian-omeara-discusses-new-abc-approaches-on-phyloseminar</id>
   <content type="html">&lt;p&gt;Brian gave an excellent overview of Approximate Bayesian Computing (ABC) and described the TreEvo software he is developing with post-doc Barb Banbury. My notes from the seminar, with my own comments &lt;em&gt;italics&lt;/em&gt; and  a few added references&lt;/p&gt;
&lt;h3 id=&quot;intro-motivation&quot;&gt;Intro / Motivation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rates of model innovation is rather slow&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can be impossible to specify in closed form (can’t specify median of binomial in closed form)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Perhaps it would be faster if we didn’t have to wait for someone to come up with all the likelihood functions&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reviews-abc-method&quot;&gt;Reviews ABC method:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simulate&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define a summary statistic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define a “success” – distance metric on summary statistic: Acceptance-Rejection Sampling&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;sufficient-statistics&quot;&gt;Sufficient statistics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;(examples from coin flip: actual string of HT, proportion of heads.  not sufficient: previous toss)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Problems: when there are no sufficient stats?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Haven’t proven sufficiency?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O’Meara’s approach: take 22 summary stats and prune the list (all the kinds of model parameters geiger will give you – lambda, kappa, etc.) – &lt;em&gt;No way that lambda/kappa/etc are decent summary stats, some of these will even have identifiability issues on certain topologies. What about correlation among summary stats?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Following Wegman et al, (Guessing the citation for this is (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009)) Box-Cox transformation ahead of time. &lt;em&gt;Not clear to me what the justification for this is.  Transformations are evolutionary hypotheses. What’s is the biology?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Describes &lt;strong&gt;Sequential Monte Carlo&lt;/strong&gt;: Start by sampling from prior with liberal acceptance.  Update a posterior estimate as the new prior, and repeat.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;New Models: Bounded models, discrete models such as autoregressive, character displacement models, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Priors: uses a library of a few common distributions.  Discusses influence of different priors, priors with zero probability ranges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples: character displacement (non-independent evolution on branches) &amp;amp; bounded side&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Super concerned about identifiability issues, let alone sufficient statistics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some results look close to prior.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O’Meara on parameter estimation vs model selection:  “Tells you more about your power than your biology.”  Hmm…&lt;/p&gt;
&lt;h3 id=&quot;challenges&quot;&gt;Challenges&lt;/h3&gt;
&lt;p&gt;Mention of Robert et al. (Robert &lt;em&gt;et. al.&lt;/em&gt; 2010), and &lt;a href=&quot;http://arxiv.org/abs/1102.4432&quot;&gt;preprint&lt;/a&gt;. Concerns on sufficient statistics.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Discusses examples of ways to fail: too little data, get the prior back&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overconfidence: Run different times, each gets tight, mostly non-overlapping distributions of a parameter back.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;features&quot;&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Auto-tuning: runs enough generations and then stops.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Plotting results&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model menagerie&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;multiple character models coming soon&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;in-progress&quot;&gt;In progress:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;check-pointing (restart partial runs, needed for large cluster runs to be able to restart killed/crashed runs)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;speed optimization&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;testing testing testing&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;advantagesdisadvantages&quot;&gt;Advantages/Disadvantages&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;No model adequacy assessment yet&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Usual plus/minus of Bayesian (priors, computational time, etc)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;more-resources&quot;&gt;More resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Brian recommends the Csillery et al TREE review on ABC (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The project is a Google summer of code option&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brian mentions &lt;a href=&quot;http://www.brianomeara.info/lab&quot;&gt;post-doc&lt;/a&gt; and other opportunities.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;No release candidate on software yet, but Brian welcomes exploring the actively developed code on R-forge: &lt;a href=&quot;https://r-forge.r-project.org/projects/treevo/&quot;&gt;Treevo&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://evo.caltech.edu/evoBeta/player/EVOPlayer.jnlp?fileToPlay=http://phyloseminar.org/recorded/012_omeara.evx&quot;&gt;Watch the talk&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wegmann D, Leuenberger C and Excoffier L (2009). “Efficient Approximate Bayesian Computation Coupled With Markov Chain Monte Carlo Without Likelihood.” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;182&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.109.102509&quot;&gt;http://dx.doi.org/10.1534/genetics.109.102509&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Robert C, Mengersen K and Chen C (2010). “Model Choice Versus Model Criticism.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0911260107&quot;&gt;http://dx.doi.org/10.1073/pnas.0911260107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday: appendices; parameter distributions</title>
	 <link href="/2011/03/30/wednesday-appendices-parameter-distributions.html"/>
   <updated>2011-03-30T17:59:20+00:00</updated>
   <id>/03/30/wednesday-appendices-parameter-distributions</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Fixed bug causing montecarlotest() calls not to complete: in likelihood_bifurcation_models, LTC error checking uses any() to see if any Vx are negative, returns NA if none are negative but has NAs.  rm.na=TRUE fixed this.&lt;/li&gt;
&lt;li&gt;GetParNames works, probably worth an appendix section to discuss parameter bootstraps as well, particularly in the cases of low power.  Updated codes to turn this flag back on and am re-running.&lt;/li&gt;
&lt;li&gt;Figure3 plot has been using the 160 bootstrap replicates, updated to the 2000 replicates.  (replaces data id=35555677786 with id=35563325713).  Not sure why data write added the “3” to the id code in front of the traditional flickrid.&lt;/li&gt;
&lt;li&gt;Writing AIC section.  Made plots of relative error rates.  Updates to AIC plot controls to include percent error in the legend rather than as extra text.  Curious if I should show both False alarm and missed event rates, maybe confusing how the test and null distributions relate to models estimated from the same dataset.  appendix_modelchoice.R&lt;/li&gt;
&lt;li&gt;Started writing a parameter bootstrap section.  Will see if we choose to keep this.  Will have to wait on runs now running on zero, nice 19 &amp;amp; 18, deut_likelihood.R and ibm_likelihood.R&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;exploring-parameter-distributions&quot;&gt;Exploring parameter distributions&lt;/h2&gt;
&lt;p&gt;Need some more exploration, remove any cases that have failed convergence, etc.  All are for the LSN model fit: (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/109aef83363abf9f7d9e6cc9416c91fa03d62947/warningsignals/demos/parameter_dist.R&quot;&gt;parameter_dist.R&lt;/a&gt;)&lt;/p&gt;
&lt;h4 id=&quot;deteriorating-environment-fit&quot;&gt;Deteriorating environment fit&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5141/5575128891_36c8e510f7_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;constant-env-fit&quot;&gt;Constant Env Fit&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5228/5575129287_a0bf9a47e9_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;deuterium-glaciation-iii&quot;&gt;Deuterium, Glaciation III&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5188/5575716274_36ffedbd17_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Just added a convergence indicator to parameter list.  not included on above runs.  Rerunning figure3.R code on one, nice 19 to reflect these updates.&lt;/li&gt;
&lt;li&gt;Running 80 replicates on figure3.R at nice 1 on zero for exploration of convergence.  Should consider convergence issues directly in montecarlotest().&lt;/li&gt;
&lt;li&gt;Running model_choice.R in a way that saves the plotting objects, need to then add plots to appendix.R&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ibm-results&quot;&gt;IBM Results&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5104/5572003337_99a84571da_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5263/5572630410_a814cce288_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday, simulations & appendix</title>
	 <link href="/2011/03/29/tuesday-simulations-appendix.html"/>
   <updated>2011-03-29T22:45:28+00:00</updated>
   <id>/03/29/tuesday-simulations-appendix</id>
   <content type="html">&lt;p&gt;Today mostly working over code sets for examples in appendix, and increasing replicates.  Somehow more trouble than it should be, see &lt;a href=&quot;https://github.com/cboettig/structured-populations/commits/&quot;&gt;commit history&lt;/a&gt; for today.&lt;/p&gt;
&lt;p&gt;ibm_sim.R – simulate from individual-based dynamics containing a saddle-node bifurcation (fully hysteresis model).&lt;/p&gt;
&lt;p&gt;ibm_analysis.R – run figure1, 2, 3 analysis (correlation test, bootstrap of test, likelihood test) on each data.&lt;/p&gt;
&lt;p&gt;ibm_likelihood.R – shouldn’t be needed, all code is in deut_examples.R.  Running now due to earlier parallel instance errors during montecarlotest.  Running now at 2000 replicates on zero at nice 19, and with 80 replicates at nice 10.&lt;/p&gt;
&lt;p&gt;deut_likelihood.R – shouldn’t be needed, all code is in deut_examples.R, which I reran today with 2000 replicates. Running this now due to earlier parallel instance errors during montecarlotest. (on one, at nice 19)&lt;/p&gt;
&lt;p&gt;Deuterium from Glaciation I &amp;amp; II with 2000 replicates, along with CaCO3 data in appendix.R, calls saved data from above to regenerate plots.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Organizing for Felsenstein’s visit&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wainwright lab meeting: discussion of launching new website, lab blog&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CPB Seminar: Yaniv presenting meiotic drive work, Peter presenting spatial wave in multiple mutations work (Ralph &amp;amp; Coop, Genetics 2010(Ralph &amp;amp; Coop, 2010)).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Need code updates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;socialR localized save.  Also save code call?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still need to track filenames of code, not just commit numbers.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ralph P and Coop G (2010). “Parallel Adaptation: One or Many Waves of Advance of an Advantageous Allele?” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;186&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.110.119594&quot;&gt;http://dx.doi.org/10.1534/genetics.110.119594&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday, appendices continue...</title>
	 <link href="/2011/03/29/monday-appendices-continue.html"/>
   <updated>2011-03-29T01:09:43+00:00</updated>
   <id>/03/29/monday-appendices-continue</id>
   <content type="html">&lt;p&gt;Finished writing up section on correlations (time averages vs ensembles) and the following section on error types.  (yay, that writing went much better than yesterday). Appendices nearly done, a few more bits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Must figure out what data examples are going into the supplement.  Most should be reasonably straight-forward to set up, may take a while to run.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Have to figure out what to say about likelihood-based statistical method beyond definition of Cox’s delta,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;whether the methods sections need elaboration beyond the summary paragraph for parametric bootstrap and likelihood test, and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AIC section.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also have to figure out if I need panel for bifurcation types.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Have to write Model Choice section and what to say about model adequacy.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And of course, the extent of data examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alan’s comments on appendices.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alex’s figure comments.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;caco3-model-fit-stabilizing-data&quot;&gt;CaCO3 model fit – stabilizing data&lt;/h3&gt;
&lt;p&gt;Adjusted code to specify numerical optimization routine in the calls to update.  Note that this must be given explicitly, will not guess the method last used to update the fit, but instead use the default method (Nelder-Mead) if nothing is specified.&lt;/p&gt;
&lt;p&gt;CaCO3 data appeared to fit a stabilizing model under LTC but destablizing under LSN.  LSN fits the data considerably better than LTC.  Should probably include in the additional examples section.&lt;/p&gt;
&lt;p&gt;Working getting L-BFGS-B bounded search to work, a bit troublesome in handling out-of-bounds parameter proposals. Achieves approximately same optimum as Nelder-Mead in testing on CaCO3 data.&lt;/p&gt;
&lt;p&gt;In socialR, figures should save just what is in their local environment, otherwise still chance for error in parameter values stored.&lt;/p&gt;
&lt;h2 id=&quot;data-examples&quot;&gt;Data examples&lt;/h2&gt;
&lt;p&gt;Should include equivalent of Figures 1, 2 &amp;amp; 3 for each.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Simulated destabilizing system with non-significant trends in variance, autocorrelation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Other climate data examples – CaCO3, Deuterium.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Non-significant warning signal even under figure 3 (from climate data?)  (Estimate CaCO3 with bounded negative-trend only?)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulated saddle-node bifurcation from individual dynamics sim, stable and unstable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulated other bifurcation types? Hopf bifurcation, oscillating system?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake single replicates, ensemble (?)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday -- edits and appendices</title>
	 <link href="/2011/03/27/sunday-edits-and-appendices.html"/>
   <updated>2011-03-27T21:34:39+00:00</updated>
   <id>/03/27/sunday-edits-and-appendices</id>
   <content type="html">&lt;p&gt;Read over Scheffer’s rather nice introduction(Scheffer, 2010) to the Drake paper(Drake &amp;amp; Griffen, 2010).  Last paragraph is particularly pertinenant:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Clearly, we have just scratched the surface in exploring the possibilities and limitations of this emerging field. However, the prospect of identifying generic indicators is exciting, as the approach may provide an independent way to assess the risk of critical transitions. Expansion of our toolbox for prediction is especially welcome given the almost insurmountable problem of modelling complex systems in a quantitatively accurate way.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;appendices&quot;&gt;Appendices&lt;/h2&gt;
&lt;p&gt;Continuing to write and organize the supplements&lt;/p&gt;
&lt;h3 id=&quot;correlation-tests&quot;&gt;Correlation Tests&lt;/h3&gt;
&lt;p&gt;Still a bit uncomfortable about the replicates discussion.  even with replicates you don’t satisfy the assumptions of Kendall’s tau, because it’s a rank test and needs independence.  Pearson’s test is just as troublesome, as X and Y are assumed to be normal random variables.  Certainly some appropriate temporal test would be best, such as fitting an autoregressive models, which is essentially what we are doing for the null anyway, (with more precisely correct parameterization for the changing-stability model).  Not sure what to say about this.&lt;/p&gt;
&lt;p&gt;p values no better an indicator on pearson than on kendall, though null is sensible in replicate(?) though not on individual. i.e. distribution of Pearson’s test statistics:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5566103730_e3253969e9_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5146/5567160410_deaa598ccd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;alan-edits&quot;&gt;Alan Edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Got edits back from Alan, clearing up language, etc.   now incorporated.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Worried about intro/punchiness(?)  lost my “double-edged sword” line.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ah, mendeley-plugin, why do you lose your embedded information when converting from odt to doc?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scheffer M (2010). “Complex Systems: Foreseeing Tipping Points.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/467411a&quot;&gt;http://dx.doi.org/10.1038/467411a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Saturday-- Appendices</title>
	 <link href="/2011/03/26/saturday-appendices.html"/>
   <updated>2011-03-26T23:28:00+00:00</updated>
   <id>/03/26/saturday-appendices</id>
   <content type="html">&lt;h2 id=&quot;appendices&quot;&gt;Appendices&lt;/h2&gt;
&lt;p&gt;Working on Appendices&lt;/p&gt;
&lt;h4 id=&quot;ergodicity&quot;&gt;Ergodicity&lt;/h4&gt;
&lt;p&gt;Null of Kendall’s tau/rank correlations – independence of X and Y, not satisfied even over replicates. Adjusted codes to use Pearson’s (default option, need to pass option up to higher-level functions). Repeated Figure 2 plots with Pearson’s, results not much different, funny multimodal though:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5133/5562412943_79f3dd3ecf_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Actually verifying independence is rather more challenging, though convenient in this case that a test such as Pearson’s is not designed to do this, see http://en.wikipedia.org/wiki/Brownian_covariance&lt;/p&gt;
&lt;h4 id=&quot;calculating-error&quot;&gt;Calculating Error&lt;/h4&gt;
&lt;p&gt;Still to write. Figures with shading, management angle. References to management of risk?&lt;/p&gt;
&lt;h4 id=&quot;models&quot;&gt;Models&lt;/h4&gt;
&lt;p&gt;Wrote section, still could use panel figure on models.&lt;/p&gt;
&lt;p&gt;For each model: Graph of birth rate and death rate, with several overlays showing parameter change. Graph of net growth rate. Graph of linearized system. bifurcation plot. energy landscape. &lt;a href=&quot;http://www.carlboettiger.info/archives/1185&quot;&gt;Earlier entries&lt;/a&gt; for starting point on this.&lt;/p&gt;
&lt;h4 id=&quot;likelihood-calculations&quot;&gt;Likelihood Calculations&lt;/h4&gt;
&lt;p&gt;Wrote section.&lt;/p&gt;
&lt;h4 id=&quot;model-choice&quot;&gt;Model Choice&lt;/h4&gt;
&lt;p&gt;Model choice between LTC and LSN for examples. &lt;img src=&quot;http://farm6.staticflickr.com/5060/5551674282_e8335023b8_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5051/5552850530_0aea953363_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Comments on model adequacy.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;examples&quot;&gt;Examples&lt;/h4&gt;
&lt;p&gt;Still assembling.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Should probably focus on empirical examples.&lt;/li&gt;
&lt;li&gt;Could do simulated data not from LTC/LSN dynamics.&lt;/li&gt;
&lt;li&gt;Should include LTC dynamics on some models.&lt;/li&gt;
&lt;li&gt;Include Drake data?&lt;/li&gt;
&lt;li&gt;Include CaCO3 data?&lt;/li&gt;
&lt;li&gt;Kendall’s tau estimates for Deut I, II, III. (III already done, just for comparison. IV throws error exceptions).&lt;/li&gt;
&lt;li&gt;Other deuterium runs show much the same story, very little power in the correlation statistics and even clearer detection of models:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5181/5562383846_a341504682_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5182/5562961240_9d44037b15_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;A bit surprising given model parameters show very slow rate of change (though over a long interval), and given how poorly even the variance indicator does.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Moved into LaTeX as well to get sense of length, though will be difficult to edit two copies.  Writing appendix in LaTeX for simplicity.&lt;/p&gt;
&lt;p&gt;Stats stack-exchange: http://stats.stackexchange.com/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/03/25/friday-3.html"/>
   <updated>2011-03-25T17:25:02+00:00</updated>
   <id>/03/25/friday-3</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Some nice theoretical ecology papers out from our group recently, looking over today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Paul’s paper (Williams &amp;amp; Hastings, 2011) deals with some interesting work on persistence in complex models, (stochastic systems of mixture models), curious how it compares to the conclusions of (Schreiber, 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian’s paper (Schreiber &lt;em&gt;et. al.&lt;/em&gt; 2011) with Dan Bolnick and Burger, another example of the importance of individual heterogeneity, this time in a nice phenotype/genotype specific way by combining quantitative genetics approaches with predator dynamics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jamie’s paper: (Ashander &lt;em&gt;et. al.&lt;/em&gt; 2011) on sea-lice with Mark Lewis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also my entry on &lt;a href=&quot;http://www.carlboettiger.info/archives/1221&quot;&gt;ABC&lt;/a&gt; a few days ago suddenly gathered a bunch of traffic and suggested some more reading to me, Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011, thanks to &lt;a href=&quot;http://www.maths.bris.ac.uk/~madjl/&quot;&gt;Dan Lawson&lt;/a&gt; at Bristol for pointing this out.  Sounds like there may be a straight-forward way to derive sufficient statistics for both models to allow comparisons, though not sure whether or not we are using even model-wise sufficient statistics in the new comparative phylogenetics applications.  Perhaps worth a bit more attention, but Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011 is certainly worth a read.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;p&gt;Figures. Yesterday’s to-do list. References. Wishing I could use tex instead of Word (okay, oowriter).  ﻿Methods summary: bootstrap, likelihood approach.  – DONE&lt;/p&gt;
&lt;h2 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Run more empirical datasets through machinery for Figures 1-3, (probably for appendix).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working out the math for the case of replicates.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Williams P and Hastings A (2011). “Paradoxical Persistence Through Mixed-System Dynamics: Towards A Unified Perspective of Reversal Behaviours in Evolutionary Ecology.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2010.2074&quot;&gt;http://dx.doi.org/10.1098/rspb.2010.2074&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S (2010). “Interactive Effects of Temporal Correlations, Spatial Heterogeneity And Dispersal on Population Persistence.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;277&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2009.2006&quot;&gt;http://dx.doi.org/10.1098/rspb.2009.2006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S, Bürger R and Bolnick D (2011). “The Community Effects of Phenotypic And Genetic Variation Within A Predator Population.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2071.1&quot;&gt;http://dx.doi.org/10.1890/10-2071.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ashander J, Krkošek M and Lewis M (2011). “Aquaculture-Induced Changes to Dynamics of A Migratory Host And Specialist Parasite: A Case Study of Pink Salmon And Sea Lice.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-011-0122-4&quot;&gt;http://dx.doi.org/10.1007/s12080-011-0122-4&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Likelihood-Free Estimation of Model Evidence, Xavier Didelot, Richard G. Everitt, Adam M. Johansen, Daniel J. Lawson, (2011) &lt;em&gt;Bayesian Analysis&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1214/11-BA602&quot;&gt;10.1214/11-BA602&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/03/24/thursday-3.html"/>
   <updated>2011-03-24T23:19:19+00:00</updated>
   <id>/03/24/thursday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Assembled plots for figures 1,2,3 see paper_plots.R.  Considerable adjustment of axes/layout.  Sent figures out for comments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Considered removing skew/kurtosis from Figure 1 &amp;amp;/or Figure 2, currently leaving in (particularly in Figure 2 to make point clear that no indicator works well?)  Easy to remove using paper_plots.R script.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;to-do-list&quot;&gt;To Do list:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Figure 3 layout should mimic Figure 2 as much as possible (font sizes, margins, etc).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider an arrow along the x-axis rather than dotted line for observed value.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Distribution color legend&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rewrite captions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure 2 y-axis labels shouldn’t appear as “Variance” “Skew” but be clear these are probability densities&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figures to explain Type I and Type II error, like these:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5436170383_0512da6c12_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4143/5436184927_86efc55987_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Data Management Workshop at UC Davis Center for Population Biology: Video archive</title>
	 <link href="/2011/03/24/data-management-workshop-at-uc-davis-center-for-population-biology-video-archive.html"/>
   <updated>2011-03-24T16:30:24+00:00</updated>
   <id>/03/24/data-management-workshop-at-uc-davis-center-for-population-biology-video-archive</id>
   <content type="html">&lt;p&gt;Videos are now up from our workshop, The Future of Data, held at the UC Davis Center for Population Biology March 2nd-4th.&lt;/p&gt;
&lt;h3 id=&quot;panel&quot;&gt;Panel&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://strong.ucdavis.edu/&quot;&gt;Don Strong&lt;/a&gt;, Editor-in-Chief of &lt;strong&gt;Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/faculty/holyoak/&quot;&gt;Marcel Holyoak&lt;/a&gt;, Editor-in-Chief, &lt;strong&gt;Ecology Letters &lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phylogenomics.blogspot.com/&quot;&gt;Jonathan Eisen,&lt;/a&gt; Editor-in-Chief, &lt;strong&gt;PLoS Biology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://two.ucdavis.edu/%7Eme/&quot;&gt;Alan Hastings&lt;/a&gt;, founding Editor-in-Chief, &lt;strong&gt;Theoretical Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/FacultyInfo.aspx?ID_Number=83&quot;&gt;Robert Hijmans&lt;/a&gt;, Asst Professor of Environmental Science &amp;amp; Policy&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cdlib.org/cdlinfo/2010/05/19/patricia-cruse-digital-preservation-pioneer/&quot;&gt;Trisha Cruse&lt;/a&gt; (Director), with Associate Directors Stephen Abrams  &amp;amp; John Kunze from &lt;a href=&quot;http://www.cdlib.org/services/uc3/index.html&quot;&gt;UC Curation Center&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;session-i-why-archive&quot;&gt;Session I: Why Archive?&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21351995 400 300]&lt;/p&gt;
&lt;h2 id=&quot;session-ii-leveraging-data-archives&quot;&gt;Session II: Leveraging Data Archives&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21354540 400 300]&lt;/p&gt;
&lt;h2 id=&quot;session-iii-looking-ahead&quot;&gt;Session III: Looking ahead&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21354825 400 300]&lt;/p&gt;
&lt;p&gt;More information about the workshop and further references on data management &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/03/23/wednesday-2.html"/>
   <updated>2011-03-23T18:39:08+00:00</updated>
   <id>/03/23/wednesday-2</id>
   <content type="html">&lt;p&gt;Still to do on figures:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Plots with and without skew/kurtosis – DONE, enabled for Figure 1 &amp;amp; 2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Combine plots into full panels – DONE for Figure 1 &amp;amp; Figure 2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;separate plotting codes from analysis codes (at least whenever takes any computational effort/time to produce).  – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bootstrap_indicators should have option of which indicators are included – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;all_indicators should have option of which indicators are included – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;make tau_dist_montecarlo generic on type of indicator – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat bootstrap of taus on the CaCO3 and Deut3 with LSN models – RUNNING (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/ecc42333f387c551dbead0c321a25d15108bc45f/warningsignals/demos/figure2.R&quot;&gt;figure2.R&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Run montecarlotest of taus on LSN models for CaCO3 and Deut3 – RUNNING (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/c23980f2fd3fa8ba38cebf4f62b413e6a79532ac/warningsignals/demos/figure3.R&quot;&gt;figure3.R&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guess names for columns in list, if given – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Labels for outer-margins on panel plots – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjust bootstrap panel plots to use common y-axis height – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need simulated data of stable system for Figures 1, 2,3 – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Select empirical-data examples – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider empirical-data without any signal?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Considering possible data-sets:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;simulated dataset with loss of stability/degenerating environment: LTC example: load(“5550863240.Rdat”), using LSN example now with stable and unstable examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated dataset without loss of stability, also showing positive signals – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated dataset with loss of stability, but showing no signal/negative correlation, not done, not sure if this is necessary to illustrate in Fig 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical dataset showing positive correlations which we’ll support in Figure 3, support with considerable uncertainty in Figure 2.  Deut3&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical dataset showing positive correlations which will appear spurious in Figure 3?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples that look at least a little more promising in Figure 2?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday: Figures, figures, figures</title>
	 <link href="/2011/03/23/tuesday-figures-figures-figures.html"/>
   <updated>2011-03-23T10:37:35+00:00</updated>
   <id>/03/23/tuesday-figures-figures-figures</id>
   <content type="html">&lt;p&gt;Today working mostly on selecting examples of data sets to include in the figure patterns. Working with the idea of three figures – data, bootstraps of Tau, bootstraps of likelihood – in panels for several examples: some real data sets and some simulated data sets with and without warning. In addition to this, I still have some more work to do with references, and refining the writing of a few of the appendices.&lt;/p&gt;
&lt;h2 id=&quot;empirical-example-data-original-signals&quot;&gt;Empirical example data, original signals&lt;/h2&gt;
&lt;p&gt;Code: Run &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/256941ba96e741fbfec7b12e08f25bc7291c847c/warningsignals/demos/real_data_examples.R&quot;&gt;real_data_examples.R&lt;/a&gt; to reproduce this set.&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-pre-processed&quot;&gt;Deuterium Data, pre-processed&lt;/h4&gt;
&lt;p&gt;Deuterium data during Glaciation III shows the clearest signal, though also possibly Glaciation I. (order below is II, I, III, IV, click to enlarge for labels).&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, processed” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-unprocessed&quot;&gt;Deuterium Data, unprocessed&lt;/h4&gt;
&lt;p&gt;Almost none of the unprocessed data shows a signal. Uneven spacing matters for autocorrelation and skew estimates, but not variance. [flickr-gallery mode=“search” tags=“stochpop, deut, raw” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;caco3-data&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, CaCO3” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;simulated-data&quot;&gt;Simulated Data&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5068/5550314677_841e211a3e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;uncertainty&quot;&gt;Uncertainty&lt;/h2&gt;
&lt;p&gt;Using code functions from &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/49be95ffdf17ec67187c27642e2a5ea4612ab332/warningsignals/demos/bootstrap_indicators.R&quot;&gt;bootstrap_indicators.R&lt;/a&gt;, run from script &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/49be95ffdf17ec67187c27642e2a5ea4612ab332/warningsignals/demos/indicator_example.R&quot;&gt;indicator_example.R&lt;/a&gt;.  Note, these use the LTC model estimates.  (easily confirmed – load the data by id, call timedep$setmodel)&lt;/p&gt;
&lt;p&gt;Columns are: CaCO3 Data, Deuterium Data, (Glaciation III) pre-processed, simulated data with crash. Rows are Variance, Autocorrelation, Skew, Kurtosis. Note that the higher moments are meaningless, containing virtually no signal, while variance is the most reliable.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5174/5550768947_1775500510_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5184/5550956133_63ae0a5c28_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5141/5551584198_27d43d2eaa_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;decreasing-the-uncertainty-using-likelihood&quot;&gt;Decreasing the uncertainty using likelihood&lt;/h2&gt;
&lt;h4 id=&quot;caco3-data-1&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;p&gt;using LTC against the null: &lt;img src=&quot;http://farm6.staticflickr.com/5255/5518867116_6773275786_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-glaciation-iii-pre-processed&quot;&gt;Deuterium Data, (Glaciation III) pre-processed&lt;/h4&gt;
&lt;p&gt;This I believe is fit with LTC &lt;img src=&quot;http://farm6.staticflickr.com/5216/5520221975_5017582330_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;model-choice-for-bifurcation-type&quot;&gt;Model Choice for bifurcation type&lt;/h2&gt;
&lt;p&gt;Can consider choosing between LSN and LTC first on real data. Both the Glaciation III and CaCO3 dataset clearly prefer the saddle-node model, (though note that the CaCO3 data is increasing stability!).  Code in &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/faf10ddc66b139f47ac2550e655a5662b1dec55a/warningsignals/demos/model_choice.R&quot;&gt;model_choice.R&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;caco3-data-2&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5060/5551674282_e8335023b8_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;deuterium-data-glaciation-iii-pre-processed-1&quot;&gt;Deuterium Data, (Glaciation III) pre-processed&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5051/5552850530_0aea953363_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;On simulated data we know the correct model. We can confirm that this works, using the LTC simulated dataset from above, we find no reason to prefer LSN, as we did with the real data.&lt;/p&gt;
&lt;h4 id=&quot;simulated-data-1&quot;&gt;Simulated data&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5268/5552596535_8182746b73_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Empirical data files are now read and formatted with own scripts, &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/load_deut.R&quot;&gt;load_deut.R&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/load_CaCO3.R&quot;&gt;load_CaCO3.R&lt;/a&gt; Settings for &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/5ac3751756d2406d19bb46618ca239d2711cd618/warningsignals/demos/simulate_data.R&quot;&gt;simulated data here&lt;/a&gt;, though best to load data-set directly from .Rdat corresponding to figure.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday -- Edits and organization</title>
	 <link href="/2011/03/22/monday-edits-and-organization.html"/>
   <updated>2011-03-22T09:07:36+00:00</updated>
   <id>/03/22/monday-edits-and-organization</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Skype with Alan: 9-9:4&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figures as panels&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write Appendix&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Finish References&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Move into Word&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;sims&quot;&gt;Sims&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;LSN m = -0.049, N =50, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LSN m = -0.049, N =100, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=50&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=200&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;Autocorrelation&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, acor” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, var” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, skew” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;kurtosis&quot;&gt;Kurtosis&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, kurtosis” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;likelihood-ratio&quot;&gt;Likelihood ratio&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, MC” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sunday - manuscript and simulations</title>
	 <link href="/2011/03/21/sunday-manuscript-and-simulations.html"/>
   <updated>2011-03-21T11:19:59+00:00</updated>
   <id>/03/21/sunday-manuscript-and-simulations</id>
   <content type="html">&lt;p&gt;Working on manuscript. lot of writing / editing.&lt;/p&gt;
&lt;p&gt;Edited package and example to include skew and kurtosis bootstrap estimates of tau. Currently testing.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;m = -0.04, N = 50, nboot = 160, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.04, N = 50, nboot = 800, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.05, N = 50, nboot = 800, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.02, N = 500, nboot = 800 (without skew/kurtosis yet)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;Autocorrelation&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, acor” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, var” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, skew” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;kurtosis&quot;&gt;Kurtosis&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, kurtosis” tag_mode=“all” min_upload_date=“2011-03-19 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;likelihood-ratio&quot;&gt;Likelihood ratio&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, MC” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Challenges with Collaboration in Open Science </title>
	 <link href="/2011/03/21/challenges-with-collaboration-in-open-science.html"/>
   <updated>2011-03-21T10:43:45+00:00</updated>
   <id>/03/21/challenges-with-collaboration-in-open-science</id>
   <content type="html">&lt;figure&gt;
&lt;img src=&quot;http://onsclaims.wikispaces.com/file/view/ons-acd2.png/61358142/ons-acd2.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;On Thursday I silently switched my ONS claim from all-content, instant (aci) to all-content, delayed (acd). This wasn’t just an admission that I’m sometimes a day behind in posting my entries. That day’s post was tagged private in wordpress, and didn’t appear in the RSS feed. I updated my socialR package to include a toggle to make uploaded images from public to private, and opened a private github repository. No, nothing tragic has happened and this doesn’t mean that everything I do will now be locked down until publication. Rather this comes as a result of being sent some rather exciting data, &lt;em&gt;which I don’t have explicit permission to share&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;This isn’t a new problem.  Open science has the opportunity to foster new collaborations, and scientists working together in an open context can leverage each others work more efficiently and effectively, while also having extending the potential both to reach and be used by the larger community. That’s not a statement of belief but of experience.  Nevertheless, the far more frequent experience is the challenge of  working with others for whom this is uncomfortable or unexpected.&lt;/p&gt;
&lt;h2 id=&quot;unexpected&quot;&gt;Unexpected&lt;/h2&gt;
&lt;p&gt;The most common challenge comes simply from the need to always ask.  There is often content someone is happy to share but nevertheless I must first get their permission to post.  Seminar speakers, lab talks, or informal discussions or emails that people would not object to appearing in the notebook when asked.  This is the kind of problem Creative Commons licensing is trying to solve, making it easy to clearly give permission to share certain content.  Sometimes it is obvious (email on a public forum, etc), sometimes it’s easy enough to ask, but in general it’s all much easier to record interactions with others in notebook pages that aren’t open.  What’s the best practice here, and how can we make this simpler?&lt;/p&gt;
&lt;h2 id=&quot;uncomfortable&quot;&gt;Uncomfortable&lt;/h2&gt;
&lt;p&gt;It gets harder when collaborators are uncomfortable having a contribution be public  – usually because it is against norms and subject to public scrutiny.  This is certainly understandable; I’m more comfortable giving a quick answer on a method to a colleague (and would be fine with them sharing it by word of mouth), but take much more care when posting that reply to a public forum (such as R-sig-phylo mailing list).  I’ve learned that taking risks and sometimes being wrong on these can be more useful than making private replies, just as I do in making my lab notebook public.  But I appreciate why it would make collaborators uncomfortable particularly when sharing thoughts publicly isn’t the norm and being judged is a risk.  In some ways this is the hardest of the three.&lt;/p&gt;
&lt;h2 id=&quot;unacceptable&quot;&gt;Unacceptable&lt;/h2&gt;
&lt;p&gt;Then sometimes there are just hard barriers to sharing.  Journal requirements discouraging pre-publication disclosure, or post-publication journal copy-rights (it would be great to include published figures and text quotes in the notebook).  Some journals make this easy (see journals that consider a poster online as prepublication), some don’t.  Similarly I may have permission to use but not share data from collaborators.  Here I have hope that intelligent policies from publishers and funders about each of these issues (pre-publication, post-publication, and mandated data sharing) may reduce the frequency with which I face these barriers.&lt;/p&gt;
&lt;h2 id=&quot;just-delayed&quot;&gt;just Delayed?&lt;/h2&gt;
&lt;p&gt;Meanwhile, it’s a lot easier to keep all content in the notebook and mark private anything that runs up against one of these challenges.  With luck, it will just be a delay – after publications are out or the issues are farther in the past, sharing may seem less of a problem for collaborators.  I guess the other question might also be asked: is this really all-content?  It never has been, but I use the claim to indicate nothing is being intentionally withheld, just as with instant claim, nothing is being intentionally delayed.  Not that I have time or a use for writing everything in the posts, but as I’ve &lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;explained elsewhere&lt;/a&gt; this is why I consider the notebook an integration of wordpress and code, image, and article repositories (github, flickr, mendeley).&lt;/p&gt;
&lt;p&gt;I’m curious to learn how others practicing forms of open science have faced and addressed these challenges in collaborations.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Writing: Warning Signals Mansucript</title>
	 <link href="/2011/03/20/writing-warning-signals-mansucript.html"/>
   <updated>2011-03-20T14:39:13+00:00</updated>
   <id>/03/20/writing-warning-signals-mansucript</id>
   <content type="html">&lt;p&gt;Summary Paragraph&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Critical transitions exist (Holling, 1973), (May, 1977),(Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2001)&lt;/li&gt;
&lt;li&gt;Warning signals exist (Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2009), (Drake &amp;amp; Griffen, 2010)&lt;/li&gt;
&lt;li&gt;Warning signals are summary statistics, critical slowing down (&lt;span class=&quot;showtooltip&quot; title=&quot;Wissel C (1984). A Universal Law of The Characteristic Return Time
Near Thresholds. _Oecologia_, *65*. ISSN 0029-8549, 
http://dx.doi.org/10.1007/BF00384470.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1007/BF00384470&quot;&gt;Wissel, 1984&lt;/a&gt;&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Statement of &lt;strong&gt;general problem:&lt;/strong&gt; double-edged sword – no quantification of the chance detection scheme will fail.&lt;/li&gt;
&lt;li&gt;We provide a way to do this&lt;/li&gt;
&lt;li&gt;We find existing methods lack sufficient power and have high false-alarm potential&lt;/li&gt;
&lt;li&gt;We provide a model-based solution using machinery of modern likelihood statistics&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Define CSD, standard detection scheme. Figure 1.&lt;/li&gt;
&lt;li&gt;What’s wrong with this approach: Figure 2&lt;/li&gt;
&lt;li&gt;We do not have a quantification of risk –&amp;gt; related to:&lt;/li&gt;
&lt;li&gt;We do not have a method designed for single replicates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Being precise: expected value stationary process statistical independence&lt;/p&gt;
&lt;p&gt;Consider an ensemble of data time series data which we represent as a matrix whose columns are replicates and rows are observations at each point in time.  If they are produced by the same stationary process, then computing function &lt;em&gt;f&lt;/em&gt; across the rows that returns a scalar value&lt;/p&gt;
&lt;p&gt;Limits to Detection&lt;/p&gt;
&lt;p&gt;We estimate probability of a missed event and false alarm.  Even negative correlations can correspond to real events, while stable systems are quite likely to have strong signals.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5094/5540149387_6de217dea4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;To do this we need models.&lt;/p&gt;
&lt;h2 id=&quot;models-for-critical-transitions&quot;&gt;Models for Critical Transitions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;General classes: Linearized transcritical, Linearized saddle node&lt;/li&gt;
&lt;li&gt;Models are: general, stochastic (can simulate), analytically tractable (can calc likelihood)&lt;/li&gt;
&lt;li&gt;Apply parametric bootstrap&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Improving Power by Likelihood&lt;/p&gt;
&lt;p&gt;Given that we’re comparing models there’s a full machinery to do this in a way that quantifies uncertainty.  We follow Neyman-Pearson, Cox, McLachlan, Goldman, Huelsenbeck style (Compare Cox’s delta statistic for maximum likelihood estimates of models).  Same basic Monte Carlo framework, but more powerful.&lt;/p&gt;
&lt;p&gt;Avoid other bifurcation types:&lt;/p&gt;
&lt;p&gt;i.e. Hastings &amp;amp; Wysham(Hastings &amp;amp; Wysham, 2010), or supercritical Hopf, see Sebastian’s examples(&lt;span class=&quot;showtooltip&quot; title=&quot;Schreiber S (2003). Allee Effects, Extinctions, And Chaotic Transients
in Simple Population Models. _Theoretical Population Biology_, *64*.
ISSN 00405809,  http://dx.doi.org/10.1016/S0040-5809(03)00072-8.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/S0040-5809(03)00072-8&quot;&gt;Schreiber, 2003&lt;/a&gt;&lt;/span&gt;)(Schreiber &amp;amp; Rudolf, 2008)), these would fail model adequacy, while summary-statistics approaches will not.  (May need to outline this better with examples).&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Serious application of warning signals must check for power.&lt;/p&gt;
&lt;p&gt;We must quantify uncertainty.&lt;/p&gt;
&lt;p&gt;Future is Bayesian approaches.&lt;/p&gt;
&lt;p&gt;Methods options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;put 200 words in main text under “Methods.” Or:&lt;/li&gt;
&lt;li&gt;put 300 words in “Methods Summary” at end of text (following figure legends).&lt;/li&gt;
&lt;li&gt;put 1000 words in “Additional Methods”.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You still need 300 word version as a “Methods Summary” for print.&lt;/p&gt;
&lt;p&gt;“Additional” appears in online html only. This must repeat any critical info from the Summary (along with references).  It cannot use figures or tables, but should have short bold headings.  Cannot duplicate anything in the Supplement.&lt;/p&gt;
&lt;p&gt;Option (B) is probably best, and just say “see supplement for details”.  (As Drake 2010 does).&lt;/p&gt;
&lt;h1 id=&quot;appendices&quot;&gt;Appendices&lt;/h1&gt;
&lt;h2 id=&quot;models&quot;&gt;Models&lt;/h2&gt;
&lt;h2 id=&quot;parametric-bootstrap&quot;&gt;Parametric Bootstrap&lt;/h2&gt;
&lt;h2 id=&quot;likelihoodaic&quot;&gt;Likelihood, AIC&lt;/h2&gt;
&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;
&lt;h1 id=&quot;misc&quot;&gt;MISC&lt;/h1&gt;
&lt;p&gt;Quantifying risk → realizing we often don’t have power to detect → improving power with likelihood approach.&lt;/p&gt;
&lt;p&gt;But also mention issues like we address the single replicates problem, (also less vulnerable to applying in the case when the bifurcation is the wrong type, because models won’t fit well, but everything has a variance so you don’t realize you’re applying the wrong theory…)&lt;/p&gt;
&lt;p&gt;Replacing prophesy with Science&lt;/p&gt;
&lt;p&gt;risk – probability – chance&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Holling C (1973). “Resilience And Stability of Ecological Systems.” &lt;em&gt;Annual Review of Ecology And Systematics&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 0066-4162, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.es.04.110173.000245&quot;&gt;http://dx.doi.org/10.1146/annurev.es.04.110173.000245&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;May R (1977). “Thresholds And Breakpoints in Ecosystems With A Multiplicity of Stable States.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/269471a0&quot;&gt;http://dx.doi.org/10.1038/269471a0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Carpenter S, Foley J, Folke C and Walker B (2001). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;413&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/35098000&quot;&gt;http://dx.doi.org/10.1038/35098000&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Bascompte J, Brock W, Brovkin V, Carpenter S, Dakos V, Held H, van Nes E, Rietkerk M and Sugihara G (2009). “Early-Warning Signals For Critical Transitions.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature08227&quot;&gt;http://dx.doi.org/10.1038/nature08227&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hastings A and Wysham D (2010). “Regime Shifts in Ecological Systems Can Occur With no Warning.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2010.01439.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2010.01439.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S and Rudolf V (2008). “Crossing Habitat Boundaries: Coupling Dynamics of Ecosystems Through Complex Life Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Sebastian J. Schreiber, (2003) Allee Effects, Extinctions, And Chaotic Transients in Simple Population Models. &lt;em&gt;Theoretical Population Biology&lt;/em&gt; &lt;strong&gt;64&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0040-5809(03)00072-8&quot;&gt;10.1016/S0040-5809(03)00072-8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;C. Wissel, (1984) A Universal Law of The Characteristic Return Time Near Thresholds. &lt;em&gt;Oecologia&lt;/em&gt; &lt;strong&gt;65&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00384470&quot;&gt;10.1007/BF00384470&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals examples and tracking graphs</title>
	 <link href="/2011/03/19/warning-signals-examples-and-tracking-graphs.html"/>
   <updated>2011-03-19T20:52:26+00:00</updated>
   <id>/03/19/warning-signals-examples-and-tracking-graphs</id>
   <content type="html">&lt;p&gt;Working on more examples for the notebook. Currently exploring a collection of simulated examples. In particular, would be useful to have simulated examples that look as realistic in data-density as possible (i.e. fewer sample points, also shorter sampling interval relative to timescale, so doesn’t look like a fuzzy caterpillar. Second, would be good to include examples on data simulated from non-linearized systems made to represent some richer bifurcation examples. Finally it would be good to include as many real-data examples as reasonable.&lt;/p&gt;
&lt;h3 id=&quot;running-at-m-0.03-n500&quot;&gt;Running at m = 0.03, N=500&lt;/h3&gt;
&lt;p&gt;very clear in likelihood and rather clear in summary statistics as well, though summary statistics null remains highly variable. 1600 replicates&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5135/5534015439_d8089c1e21_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5291/5531339094_b9ff913ceb_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5173/5530753225_6a486687f8_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.02-still-with-n-500-nice-19&quot;&gt;Rerunning at m=-0.02 still with N = 500 nice 19&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5093/5540597051_153f31e85c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5094/5540149387_6de217dea4_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5256/5540149185_46de9fb206_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.03-with-n-50-nice-1&quot;&gt;rerunning at m=-0.03 with N = 50 nice 1&lt;/h3&gt;
&lt;p&gt;pretty hopeless:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5016/5541051116_0b98381e1d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5016/5540268369_1d1cede1ea_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5051/5540849966_4ea51e10cc_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.05-with-n-50-nice-0&quot;&gt;rerunning at m=-0.05 with N = 50 nice 0&lt;/h3&gt;
&lt;p&gt;(hits collapse at end of time), can clearly tell apart, Though with notable uncertainty in indicator statistics, though variance performs substantially better than autocorrelation.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5253/5540480089_b8e8e12cc5_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5057/5540287643_c70bf339b6_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5134/5540869288_2af4d6f227_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;better-tracking-of-computational-objects&quot;&gt;Better tracking of computational objects&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Problem:&lt;/strong&gt; Saving .Rdat files to match the script-name and tracking those files in git does not provide a good map between code and results. Running the same script simultaneously with different parameters would mean that the datafile was overwritten by the first and could have hashtags on figures not correspond to the current version of the data commit.&lt;/p&gt;
&lt;p&gt;This also means tracking binary .Rdat files in git, which both takes up extra space and isn’t readable by diff/display tools.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Rather than only running differently-named scripts simultaneously (or avoiding runs on the the same repository code) it makes more sense to track the data to the computational object directly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The .Rdat files should be saved using a unique hash name corresponding to the result.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;They shouldn’t be revision managed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This should be handled automatically within social_plot in the socialR package.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This identifier needs to be by flickr id, as git hashtag isn’t unique to the result; the graph is the computational object.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now implemented in package. Can store all datafiles in a local repository, no need to keep them on the cloud server as they can always be reproduced by rerunning the code – storing the .Rdat output is really about efficiency and convenience.&lt;/p&gt;
&lt;p&gt;For completeness this might store the git hash too. Could play with ls environment. Getting ls environment right to save the appropriate data requires manipulating R environments, as ls() inside a function returns only what that function sees.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    if(save){
        save(list=ls(globalenv()), file=paste(flickr_id, &amp;quot;.Rdat&amp;quot;, sep=&amp;quot;&amp;quot;))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;computational-notebook-to-do&quot;&gt;Computational Notebook to-do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Considering a git guide for notebook: setting up, jumping back to a hashtag version, running the code to make any figure, etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;flickr guide?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AWS/EC3 guide&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Approximate Bayesian Computing (algorithms) methods</title>
	 <link href="/2011/03/19/approximate-bayesian-computing-abc-methods.html"/>
   <updated>2011-03-19T11:07:50+00:00</updated>
   <id>/03/19/approximate-bayesian-computing-abc-methods</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://matsen.fhcrc.org/&quot;&gt;Erick Matsen&lt;/a&gt; asked me about the question at the end of Luke Harmon’s phyloseminar critiquing Approximate Bayesian Computing ABC methods.  The question wasn’t any more specific, though Luke recognized the paper.  Searching the literature didn’t turn anything up, asking &lt;a href=&quot;http://www.mendeley.com/profiles/leonardo-de-oliveira-martins/&quot;&gt;Leo&lt;/a&gt; through the &lt;a href=&quot;http://www.mendeley.com/groups/517931/bayesian-mcmc/&quot;&gt;MCMC group&lt;/a&gt; on Mendeley I think this is the paper:&lt;/p&gt;
&lt;p&gt;﻿Robert, C.P. et al. Lack of confidence in ABC model choice. &lt;em&gt;PNAS&lt;/em&gt; &lt;strong&gt;I&lt;/strong&gt;, 8(2011). (&lt;a href=&quot;http://arxiv.org/abs/1102.4432&quot;&gt;arXiv&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Seems a more pointed critique to ABC then Templeton’s discussion (Templeton, 2010) particularly as the lead author is a critic of Templeton (Berger &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;
&lt;p&gt;At first I thought this would be a relatively intuitive argument that the method is often applied when we lack appropriate sufficient statistics for models.  Of course it comes down to a question of sufficient statistics, but the result is somewhat stronger,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;a straightforward proof that a model-wise sufficient statistic is usually not sufficient across models, i.e. for model comparison.  An immediate corollary is that the ABC-MC approximation does not converge to the exact Bayes factor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hence the emphasis on model choice in the title – lacking sufficient statistics for the particular model would obviously impact posterior density estimation even within models.&lt;/p&gt;
&lt;p&gt;There’s some rather excellent discussion of these issues on &lt;a href=&quot;http://xianblog.wordpress.com/2011/03/08/error-in-abc-versus-error-in-model-choice/&quot;&gt;Christian Robert’s blog&lt;/a&gt;, again thanks to Leo for pointing me to this, still some more reading to do on this before we here more about ABC from Brian O’Meara on &lt;a href=&quot;http://phyloseminar.org/&quot;&gt;phyloseminar&lt;/a&gt; next week.&lt;/p&gt;
&lt;h3 id=&quot;update&quot;&gt;Update&lt;/h3&gt;
&lt;p&gt;Dan Lawson (comments below) drew my attention to another paper treating this problem of model-wise sufficient statistics Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011.  The authors propose a potentially straight-forward work-around: define a model M in which both the original models M1 and M2 are embedded.  They then demonstrate for exponential family models that sufficient statistics for M are sufficient statistics for comparing M1 and M2 by Bayes factors, if I’ve followed the argument correctly.  I’ll try to work out an example in a phylogenetics context in the notebook when I get a chance.&lt;/p&gt;
&lt;h3 id=&quot;further-reading&quot;&gt;Further reading&lt;/h3&gt;
&lt;p&gt;Search also led me to stumble across two nice books applying this in R.&lt;/p&gt;
&lt;p&gt;Robert, C.P. &amp;amp; Casella, G. &lt;em&gt;Introducing Monte Carlo Methods with R (Use R)&lt;/em&gt;. 284 (Springer Verlag: 2009), (&lt;a href=&quot;http://www.amazon.com/Introducing-Monte-Carlo-Methods-Use/dp/1441915753&quot;&gt;Amazon link&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;﻿Albert, J. &lt;em&gt;Bayesian Computation with R (Use R)&lt;/em&gt;. 300 (Springer: 2009). (&lt;a href=&quot;http://www.amazon.com/Bayesian-Computation-R-Use/dp/0387922970&quot;&gt;Amazon link&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Templeton A (2010). “Coherent And Incoherent Inference in Phylogeography And Human Evolution.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0910647107&quot;&gt;http://dx.doi.org/10.1073/pnas.0910647107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Berger J, Fienberg S, Raftery A and Robert C (2010). “Incoherent Phylogeographic Inference.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1008762107&quot;&gt;http://dx.doi.org/10.1073/pnas.1008762107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Likelihood-Free Estimation of Model Evidence, Xavier Didelot, Richard G. Everitt, Adam M. Johansen, Daniel J. Lawson, (2011) &lt;em&gt;Bayesian Analysis&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1214/11-BA602&quot;&gt;10.1214/11-BA602&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Sam's Practice talk</title>
	 <link href="/2011/03/18/friday-2.html"/>
   <updated>2011-03-18T16:37:40+00:00</updated>
   <id>/03/18/friday-2</id>
   <content type="html">&lt;h2 id=&quot;notes-from&quot;&gt;Notes from:&lt;/h2&gt;
&lt;p&gt;Sam Price’s Practice Job Talk for Hull, UK, next week, in Wainwright lab:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Diversification of mammals predated KT event(Bininda-Emonds &lt;em&gt;et. al.&lt;/em&gt; 2007) (also considerably later, but not right after)&lt;/li&gt;
&lt;li&gt;Ecological shift in wrasses to parrotfishes(Price &lt;em&gt;et. al.&lt;/em&gt; 2010). No evidence of elevate rates of evolution. But, scraping parrotfishes do show difference (starting from base of Hipposcarus-Scarus common ancestor).&lt;/li&gt;
&lt;li&gt;Multiple transitions to/from reef living. 2x faster on coral reefs!  (Price &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;In prep: Omnivores trophic strategy (transitions are always via omnivore).  Carnivore-&amp;gt;omnivore-&amp;gt;herbivore stronger pathway. Herbivores diversify fast, Omnivores slowest, a transition group.(Price &amp;amp; Hopkins in prep)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;my Qs * Mass – how do you weight it (by species number)? presumably in log. * Nice stories, all are ecological shifts. Is there a trend/direction? More ambitious/clearer? What’s the general pattern and story&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Approach&lt;/strong&gt;: Database collection. Trait databases. Phylogeny building, time calibration. Comparative methods.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plan: Continue with approach, apply to conservation (&amp;gt;&amp;gt;how??) &amp;amp; teaching students through applied questions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Future Directions&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Project 1: Increase breath of taxa. Use of fossils. Get real fancy with fossil traits: 3D GIS approach on fossils&lt;/li&gt;
&lt;li&gt;Project 2: Spatial &amp;amp; Climate change. wow. application?&lt;/li&gt;
&lt;li&gt;Project 3: Host shifting on parasites – great data is available. Phylo distance propto shifting rate? breakdown by range overlap, parasite type, transmission, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other group comments&lt;/p&gt;
&lt;h3 id=&quot;peter-applied-evolution-really-strong-pitch-under-utilized-and-very-powerful.&quot;&gt;Peter: Applied Evolution really strong pitch: under-utilized and very powerful.&lt;/h3&gt;
&lt;p&gt;Peter: Sell interesting bio questions and real expertise Matt on reef paper: also is applied: what enviro has less extinction&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Bininda-Emonds O, Cardillo M, Jones K, MacPhee R, Beck R, Grenyer R, Price S, Vos R, Gittleman J and Purvis A (2007). “The Delayed Rise of Present-Day Mammals.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;446&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05634&quot;&gt;http://dx.doi.org/10.1038/nature05634&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Holzman R, Near T and Wainwright P (2011). “Coral Reefs Promote The Evolution of Morphological Diversity And Ecological Novelty in Labrid Fishes.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01607.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01607.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals in Ecological Systems: Revisions and Drake & Griffen Data</title>
	 <link href="/2011/03/17/warning-signals-in-ecological-systems-drake-griffen-data.html"/>
   <updated>2011-03-17T09:59:18+00:00</updated>
   <id>/03/17/warning-signals-in-ecological-systems-drake-griffen-data</id>
   <content type="html">&lt;h2 id=&quot;manuscript-revisions&quot;&gt;Manuscript revisions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Heard back from Alan this morning on manuscript, need to cut wordcount in half, from 3000 to 1500 words.&lt;/li&gt;
&lt;li&gt;Should emphasize the countless and utterly arbitrary choices made in every one of these analyses.&lt;/li&gt;
&lt;li&gt;Should emphasize our approach can be applied without replicates. (also without interpolating/having evenly sampled data)&lt;/li&gt;
&lt;li&gt;Should do coefficient of variation on non-detrended data(?) should discuss?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;chemostat-data&quot;&gt;Chemostat data&lt;/h2&gt;
&lt;p&gt;This morning Alan sent me the data used by Drake &amp;amp; Griffen (Drake &amp;amp; Griffen, 2010). Step one: reread Drake &amp;amp; Griffen.&lt;/p&gt;
&lt;h3 id=&quot;notes-on-reading&quot;&gt;Notes on reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Based on hypothesized transcritical bifurcation.  Data does not show the pattern expected by transcritical bifurcation though – mean should stay constant as the value of r changes in the logistic model, and yet they emphasize finding a change in this as if that is expected (i.e. Figure 1b inset).  And then they decide not to detrend.  Meanwhile Scheffer paper uses saddle-node example in which the mean should change and they assume it should not, and do detrend.   All backwards.&lt;/li&gt;
&lt;li&gt;Main article uses only ensemble data over 30 deteriorating environment and 30 from the control group.&lt;/li&gt;
&lt;li&gt;Note they also use a composite index – despite the fact that everything except CV is wrong more often then it is right (see supplement)&lt;/li&gt;
&lt;li&gt;Detrending subtracts a loess smooth instead of kernel smoothing. They use the raw (non-detrended data) after showing it has a better classification rate.  Ok for a “best case” test, but rather poor statistical form to pick whatever method gets the highest “correct” rate.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;So how do the classify a warning signal?&lt;/em&gt; They start deteriorating the environment after some time interval into the experiment (to remove transients).  They estimate the likely point of the bifurcation (without any treatment of uncertainty).  They calculate the warning signal over this interval of 16 data points, then take “any increase or local maximum” in this window. (sliding window size of 8 points).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;from-the-supplement&quot;&gt;From the supplement&lt;/h4&gt;
&lt;p&gt;Table A1 shows false positive and false negative rates on the individual runs after classification. Almost all individual runs are classified as no-warning. CV has a 2:3 chance of catching the warning signals in the collapsing group, other stats do worse than random.&lt;/p&gt;
&lt;h3 id=&quot;replicating-results&quot;&gt;Replicating Results&lt;/h3&gt;
&lt;p&gt;All results can be rerun, generating the plots again, by executing main.R. Caution, produces too many plot windows and errors.&lt;/p&gt;
&lt;p&gt;Open main.R, run the library loads, source preprocess.R and ensembles.R&lt;/p&gt;
&lt;h3 id=&quot;reanalysis-independently-exploring-data&quot;&gt;Reanalysis: Independently exploring data&lt;/h3&gt;
&lt;p&gt;Applying my methods to a single replicate from a warning signals example: (&lt;a href=&quot;https://github.com/cboettig/private/commit/fc52893e97de7013f0810692c717ffa97e3cc64c&quot;&gt;see code&lt;/a&gt;)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    id &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;det.set$ID[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]
      w&amp;lt;-&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;co&quot;&gt;#size of moving window in terms of sampling periods&lt;/span&gt;
      pop&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;populations$day[populations$ID==id],&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;populations$x[populations$ID==id])
      pop&amp;lt;-pop[&lt;span class=&quot;kw&quot;&gt;order&lt;/span&gt;(pop$day),]
    
    interval &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop$day &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;154&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop$day &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;271&lt;/span&gt;
    X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop[interval,]&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5176/5535292129_d5bce24322_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5219/5535642555_b095cc981c_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5178/5535302309_6bf8e9db4d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;No real hope of detecting a warning signal in this example. Applying my method to the ensemble average data, need to group first by day – will have to figure out how to do this, differs in syntax between methods, i.e.,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    cv.det&amp;lt;-&lt;span class=&quot;kw&quot;&gt;aggregate&lt;/span&gt;(timeseries$y[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],&lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;timeseries$day[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]),cv)
    ## while skew requires a bit more prep
    det.set&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ID=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;unique&lt;/span&gt;(timeseries$ID2[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]),&lt;span class=&quot;dt&quot;&gt;deteriorating=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
    const.set&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ID=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;unique&lt;/span&gt;(timeseries$ID2[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]),&lt;span class=&quot;dt&quot;&gt;deteriorating=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    deteriorating&amp;lt;-&lt;span class=&quot;kw&quot;&gt;rbind&lt;/span&gt;(det.set,const.set)
    populations&amp;lt;-&lt;span class=&quot;kw&quot;&gt;merge&lt;/span&gt;(populations,deteriorating)
    skew.const&amp;lt;-&lt;span class=&quot;kw&quot;&gt;aggregate&lt;/span&gt;(populations$x[populations$deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;],&lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;populations$day[populations$deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]),skewness)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note uses skewness from the package “moments,” perhaps a better choice than the moments from the psych package.&lt;/p&gt;
&lt;h4 id=&quot;handling-ensembles-properly&quot;&gt;Handling Ensembles properly&lt;/h4&gt;
&lt;p&gt;Having ensemble data, particularly form a test group and control group, provides some unique opportunities.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;I can draw from these directly, rather than from simulated data, to perform the parametric bootstrap of likelihood-based model fits to illustrate how distinct the data really are relative to their MLE estimates.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I can integrate the approach over datasets: treating each replicate as individual and performing fits, simulation, and posterior re-estimation for model comparisons.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.”, &lt;em&gt;Nature&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
	 <link href="/2011/03/16/wednesday.html"/>
   <updated>2011-03-16T23:49:35+00:00</updated>
   <id>/03/16/wednesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updated dependencies of warningsignals package.  Removed old dependencies, migrated montecarlotest into package, removing the pmc dependency.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated my webpage teaching statement (lunch break)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;montecarlotest wasn’t getting sfLibrary(warningsignals) called in yesterday’s runs, so redoing this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing – conclusion, finalized organization, sent off to Alan.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Panel for models.  Appendix for model derivations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Panel for approach/algorithm.  Appendix for algorithm implementation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added references&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
	 <link href="/2011/03/15/tuesday-2.html"/>
   <updated>2011-03-15T22:38:08+00:00</updated>
   <id>/03/15/tuesday-2</id>
   <content type="html">&lt;h2 id=&quot;variance-and-warning-signals&quot;&gt;Variance and warning signals&lt;/h2&gt;
&lt;p&gt;Sebastian has several examples of dynamical systems that decrease in variance as they approach a bifurcation. In some sense this is not surprising, both are through the collapse of periodic attractors. Figure 2d in TPB paperSchreiber, 2003 has an example in a discrete system, and Figure 5a in the Ecology Letters paper (Schreiber &amp;amp; Rudolf, 2008) has a continuous-time example. Consider for instance the supercritical Hopf bifurcation, in which a stable limit cycle vanishes into an unstable node, as in a van der Pol oscillator,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{d x}{dt} = -\mu(1-y^2) x-y \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\frac{dy}{dt}= x \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Reading&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some quick background reading on GTR+I+G, &lt;a href=&quot;http://www.carlboettiger.info/archives/1197&quot;&gt;see post here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-simulation-examples&quot;&gt;Further simulation examples&lt;/h2&gt;
&lt;p&gt;Yesterday’s runs often show inadequate power to distinguish even by likelihood. Trying slightly stronger signal of collapse (faster destabilization rate).&lt;/p&gt;
&lt;h3 id=&quot;code-library-updates&quot;&gt;Code library updates&lt;/h3&gt;
&lt;p&gt;Improved tag and comment handling for strings, in flickr upload through socialR, thanks to Gabriel on statscicomp for this one&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## basic syntax is:
paste(c(&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;), collapse=&amp;quot; &amp;quot;)  
## lets me grab all model parameters into comment
comment &amp;lt;- paste(c(names(pars), &amp;quot;:&amp;quot;, pars, &amp;quot;\\&amp;quot;, names(sampling), &amp;quot;:&amp;quot;, sampling, &amp;quot;nboot:&amp;quot;, nboot), collapse=&amp;quot; &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;since flickr_upload protocol wants a single element string for comments and tags. Should use these to check against hashtags to ensure parameters are handled correctly. May want to incorporate into the interface somehow.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Created profile on &lt;a href=&quot;http://nationallabnetwork.org&quot;&gt;National Lab Network&lt;/a&gt; for education/outreach after reading a rather interesting paper in PLoS (Rumala &lt;em&gt;et. al.&lt;/em&gt; 2011) discussing the program.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Data management videos from Marcel, still need posting and writeup.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Interview with first Dean candidate 4:15-5:30.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Schreiber S and Rudolf V (2008). “Crossing Habitat Boundaries: Coupling Dynamics of Ecosystems Through Complex Life Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rumala B, Hidary J, Ewool L, Emdin C and Scovell T (2011). “Tailoring Science Outreach Through E-Matching Using A Community-Based Participatory Approach.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001026&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allee Effects, Extinctions, And Chaotic Transients in Simple Population Models, Sebastian J. Schreiber, (2003) &lt;em&gt;Theoretical Population Biology&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0040-5809(03)00072-8&quot;&gt;10.1016/S0040-5809(03)00072-8&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Model identifiability in phylogenetic inference GTR+I+G</title>
	 <link href="/2011/03/15/models-in-phylogenetic-inference.html"/>
   <updated>2011-03-15T13:07:13+00:00</updated>
   <id>/03/15/models-in-phylogenetic-inference</id>
   <content type="html">&lt;p&gt;Another phylogenetics paper (Perelman &lt;em&gt;et. al.&lt;/em&gt; 2011) using GTR+I+G inspired me to look back over the discussion and objections with this model.  This model is the basis of 100s of publications, 40 alone in Sys Bio in 2006(Allman &lt;em&gt;et. al.&lt;/em&gt; 2008). There’s a decent &lt;a href=&quot;http://treethinkers.blogspot.com/2009/04/when-we-fail-mrbayes.html&quot;&gt;discussion on Dechronization&lt;/a&gt; about the issue. There’s some treatment of identifiability on this issue, such as 2001 Sys Bio (Rogers, 2001) which suggests this is possible and a nice paper in Adv. Applied Prob (Allman &lt;em&gt;et. al.&lt;/em&gt; 2008) that critiques this “proof” and provides one of the few proofs of any model being identifable: GTR+G.  Despite their critique of the earlier proof, Elizabeth, Cecile and John take the position that the claim may well be true, but the proof is not as trivial as Rogers suggests.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Furthermore, bridging either of the gaps in [11] is not a trivial matter.  Though we suspect that Rogers’ statement of identifiability is correct, at least for generic parameters, we have not been able to establish it by his method&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The strange thing about having a proportion of invariant sites (I) along with Gamma-distributed among site rate variation (G) mostly seems to come from the potential for poor convergence behavior in MCMC routine, since much the same fit could be provided by increasing the number of invariant sites as tightening the gamma distribution.  From :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The first gap is in the use of an unjustified claim concerning graphs of the sort exemplified by Figure 3 of that paper. As this claim plays a crucial role in the entire argument, the statement above remains unproven.  The second gap, though less sweeping in its impact, is still significant. As-suming the unjustified graphical claim mentioned above could be proved, the argument of [11] still uses an assumption that the eigenvalues of the GTR rate matrix be distinct. While this is true for generic GTR parameters, there are exceptions, including the well-known Jukes-Cantor and Kimura 2-parameter models [4]. Without substantial additional arguments, the reasoning given in [11] cannot prove identifiability in all cases.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The first claim referred to is between two distributions of I+$ $ with $ $ appearing graphically distinct.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Perelman P, Johnson W, Roos C, Seuánez H, Horvath J, Moreira M, Kessing B, Pontius J, Roelke M, Rumpler Y, Schneider M, Silva A, O’Brien S, Pecon-Slattery J and Brosius J (2011). “A Molecular Phylogeny of Living Primates.” &lt;em&gt;Plos Genetics&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pgen.1001342&quot;&gt;http://dx.doi.org/10.1371/journal.pgen.1001342&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allman E, Ané C and Rhodes J (2008). “Identifiability of A Markovian Model of Molecular Evolution With Gamma-Distributed Rates.” &lt;em&gt;Advances in Applied Probability&lt;/em&gt;, &lt;strong&gt;40&lt;/strong&gt;. ISSN 0001-8678, &lt;a href=&quot;http://dx.doi.org/10.1239/aap/1208358894&quot;&gt;http://dx.doi.org/10.1239/aap/1208358894&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rogers J (2001). “Maximum Likelihood Estimation of Phylogenetic Trees is Consistent When Substitution Rates Vary According to The Invariable Sites Plus Gamma Distribution.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1080/106351501753328839&quot;&gt;http://dx.doi.org/10.1080/106351501753328839&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Peter's talk </title>
	 <link href="/2011/03/14/peters-talk.html"/>
   <updated>2011-03-14T22:29:55+00:00</updated>
   <id>/03/14/peters-talk</id>
   <content type="html">&lt;p&gt;Peter spoke in Sebastian’s lab meeting about a spatially explicit Moran model, for which he derives Fisher’s wave equation and an ancestry process.  Here’s what he says,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;the general plan is to describe a simple spatial model of adaptation (or, could be of invasion…); and use it to derive (Fisher’s) traveling wave; the corrections that arise if you don’t assume the population is infinitely large; and describe how to follow lineages back through the expanding wave.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5296/5528100944_b55256a3e7_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5258/5529674885_1de485dc68_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5136/5529688199_bf7f6a54ef_o.jpg&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals, Monday</title>
	 <link href="/2011/03/14/warning-signals-monday.html"/>
   <updated>2011-03-14T11:18:59+00:00</updated>
   <id>/03/14/warning-signals-monday</id>
   <content type="html">&lt;p&gt;Set up a few long runs of simulated data to better illustrate the effects of sampling time and density, and better resolve the distributions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Longer baseline run, nice 19, indicator_vs_likelihood.R 1600 reps, m=-0.015, N=500, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Longer sampling, same interval: nice 18, stronger_signal.R 160 reps m=-0.015, N = 2500, T=500&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fails to compute, looks like poor estimates of model fits.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Denser sampling, nice 17: indicator_vs_likelihood.R 160 reps, m=-0.015, N=2500, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Longer less dense sampling, nice 16: indicator_vs_likelihood.R 160 reps, m=-0.015, N=500, T=500. Fails to compute, looks like poor estimates of model fits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Less dense sampling, nice 16: indicator_vs_likelihood.R 160 reps, m=-0.015, N=50, T=100.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Results pulled in below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-03-14 00:00:00” max_upload_date=“2011-03-15 23:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;bifurcations&quot;&gt;Bifurcations&lt;/h2&gt;
&lt;h3 id=&quot;transcritical-bifurcation&quot;&gt;Transcritical bifurcation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Canonical form:&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dx}{dt} = -r_t x^2 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;driven by changing sign on $ r_t $&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Example biological model &lt;/strong&gt;(with stochasticity):&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX_t = r_t X_t (1-X_t/K)dt + \sigma dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Linearized form:&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX_t = r_t  (K-X_t)dt + \sigma dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;saddle-node&quot;&gt;Saddle-node&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Canonical form&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \frac{dx}{dt} = r - x^2 \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Driven by changing sign on $ r_t $&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;** Example biological model:**&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX_t = \left( \frac{e K x^2}{X^2 + h_t^2} - e X_t - a_t\right) dt +   \sigma \sqrt{ \frac{e K x^2}{X^2 + h_t^2} + e X_t + a_t} dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Either $ a_t$ or $ e$ decreasing through zero can force this through a saddle-node bifurcation, &lt;a href=&quot;http://www.carlboettiger.info/archives/108&quot;&gt;see this entry&lt;/a&gt;.  Either of these can be approximated as a quadratic in the neighborhood of the stable point, which gives the bifurcation the canonical form,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ dX = r_t - (\theta - X_t)^2 dt + \sqrt{\sigma (r_t+ (\theta-X_t)^2) }dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Linearized&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \phi_t = \sqrt{r_t} + \theta \]&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;\[ dX = 2 \sqrt{ r_t } \left(\phi_t - X_t\right)  + \sigma \sqrt{ \phi_t } dB_t \]&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;previous-entries&quot;&gt;Previous entries:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/461&quot;&gt;On estimating quadratic models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/452&quot;&gt;Challenges in quadratic models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/108&quot;&gt;Visualizing Saddle-node types&lt;/a&gt; – should add bifurcation diagram, and transcritical bifurcations to this set&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/468&quot;&gt;Linearized models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writingfigures&quot;&gt;Writing/figures&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need a panel and figure explaining the models&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need a panel and figure explaining the algorithm&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Parametric bootstrap monte carlo&lt;/p&gt;
&lt;h2 id=&quot;notebook-notes&quot;&gt;Notebook notes&lt;/h2&gt;
&lt;p&gt;Pasting in from word (or the visual editor?) turns LaTeX minus signs into longer dashes, causing the latex interpreter to fail. Rather annoying syntax error to find.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals: summary stats vs likelihood on real and simulated data</title>
	 <link href="/2011/03/11/warning-signals-summary-stats-vs-likelihood-on-real-and-simulated-data.html"/>
   <updated>2011-03-11T14:35:05+00:00</updated>
   <id>/03/11/warning-signals-summary-stats-vs-likelihood-on-real-and-simulated-data</id>
   <content type="html">&lt;p&gt;Added bar of observed tau on real data to the tau distributions. Fixed the tau-distribution method, running new data and real examples now.&lt;/p&gt;
&lt;p&gt;Simulated data: can tell tau apart for instance, for autocorrelation (see photostream for variance, code hash for parameters, etc). &lt;img src=&quot;http://farm6.staticflickr.com/5298/5518459610_b4a79201a7_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;While can’t really tell anything based on the tau on the autocorrelation for the Deuterium data for Glaciation III (which has just about the clearest signal of the deuterium set): &lt;img src=&quot;http://farm6.staticflickr.com/5251/5517841341_5a20b049e4_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Waiting to see how the likelihood statistics compare on these examples.&lt;/p&gt;
&lt;p&gt;Today’s runs: [flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-03-11 00:00:00” max_upload_date=“2011-03-11 23:59:59”]&lt;/p&gt;
&lt;p&gt;With more replicates, simulated data shows the increased power of the likelihood approach relative to the summary statistics:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5132/5518595002_6fd35d8d2d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5140/5518595068_abb5a72cbe_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Likelihood-based approach for the same data: &lt;img src=&quot;http://farm6.staticflickr.com/5258/5519026318_9e0e5dd5d0_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;caco3-data&quot;&gt;CaCO3 data&lt;/h4&gt;
&lt;p&gt;The model fit to CaCO3 data actually suggests a stabilizing pattern as the best fit, despite the fact that the estimated autocorrelation is positive. This produces null distributions with largely negative Tau trends in variance (seen in the real data as well) and a negative overall pattern in autocorrelation. The models can be identified by likelihood, though in this case it for a trend of increasing rather than decreasing eigenvalue.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5096/5517792569_f634b329a0_o.png&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5096/5517792569_f634b329a0_o.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5220/5518384482_55998356c0_o.png&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5220/5518384482_55998356c0_o.png&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;http://farm6.static.flickr.com/5255/5518867116_dd06e88cef.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5255/5518867116_dd06e88cef.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;manuscript-working-notes&quot;&gt;Manuscript working notes&lt;/h3&gt;
&lt;p&gt;Should make plots for a panel showing how the nonlinear S curve model reduces to a quadratic saddle-node bifurcation picture which reduces to a linear OU model (with moving-average, changing noise and stability, both pictorially and by equations).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Numerical challenges in likelihood estimation of time-dep OU models</title>
	 <link href="/2011/03/10/numerical-challenges-in-likelihood-estimation-of-time-dep-ou-models.html"/>
   <updated>2011-03-10T23:46:46+00:00</updated>
   <id>/03/10/numerical-challenges-in-likelihood-estimation-of-time-dep-ou-models</id>
   <content type="html">&lt;p&gt;Worried about accurate maximum likelihood estimates of parameters, as the optimization could still converge on values not far from the starting conditions (not as surprising as the starting parameters are estimated intelligently first from the summary statistics) but could also vary depending on initial conditions.&lt;/p&gt;
&lt;p&gt;Second, while it requires some re-parameterization, the stationary model for both linearized transcritical (LTC) bifurcation model and the linearized saddle-node (LSN) model are identically Ornstein-Uhlenbeck models. As this model is stationary, it’s unnecessary to continue numerically integrating the SDE to get the moments of the probability distribution, I can just use the analytic solution for the moments. I’ve written this in as a model class “constOU” in the likelihood_bifur_models.R library, which is of course much faster:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;constOU &amp;lt;- function(Xo, to, t1, pars){
    Dt &amp;lt;- t1 - to
    Ex &amp;lt;- Xo*(1 - exp(-pars[&amp;quot;Ro&amp;quot;]*Dt)) + pars[&amp;quot;theta&amp;quot;]*exp(-pars[&amp;quot;Ro&amp;quot;]*Dt) 
    Vx &amp;lt;- 0.5*pars[&amp;quot;sigma&amp;quot;]^2 *(1-exp(-2*pars[&amp;quot;Ro&amp;quot;]*Dt))/pars[&amp;quot;Ro&amp;quot;]
    if(pars[&amp;#39;Ro&amp;#39;] &amp;lt; 0 ) Vx = Inf 
    if(pars[&amp;#39;sigma&amp;#39;] &amp;lt; 0 ) Vx = Inf 
    return(list(Ex=Ex, Vx=Vx))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Turning these parameters into those used by LTC should not require any scaling, while the estimated Ro becomes root Ro in LSN.&lt;/p&gt;
&lt;p&gt;As I explored earlier, with linear change in stability the analytic expression for the moments gives some integrals that can be solved, but still leaves some to be done numerically, so integrating the moment equations directly seems just as well. Note that I’m still using the Gaussian character of the model to integrate the moments, by using the linear noise approximation:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## LSN
    moments &amp;lt;- function(t,y,p){ 
        sqrtR &amp;lt;- sqrt(R(t,pars)) 
        yd1 &amp;lt;- 2*sqrtR*(sqrtR+pars[&amp;#39;theta&amp;#39;] - y[1]) 
        yd2 &amp;lt;- -2*sqrtR*y[2] + p[&amp;quot;sigma&amp;quot;]^2*(sqrtR+pars[&amp;#39;theta&amp;#39;])
        list(c(yd1=yd1, yd2=yd2))
    }
## LTC
    moments &amp;lt;- function(t,y,p){ 
        yd1 &amp;lt;- R(t,pars)*(pars[&amp;#39;theta&amp;#39;] - y[1]) 
        yd2 &amp;lt;- -2*R(t,pars)*y[2] + p[&amp;quot;sigma&amp;quot;]^2 ##check?
        list(c(yd1=yd1, yd2=yd2))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;improving-speed&quot;&gt;Improving speed?&lt;/h3&gt;
&lt;p&gt;Attempting to improve the speed of the time-dependent fits. Most of the time is used by lsoda, not surprisingly. Worried that this time was simply in the initialization/allocation/cleanup of the integrator, which has to be called for each timestep in every calculation of the likelihood. If true, moving this into C I could have only a single allocation of the ode integrator which I could use for all timesteps, and I’d get a substantial speed increase.&lt;/p&gt;
&lt;p&gt;R’s profile of time spent in lsoda:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$by.total
                          total.time total.pct self.time self.pct
&amp;quot;setmodel&amp;quot;                    322.26      99.7      0.00      0.0
&amp;quot;lapply&amp;quot;                      322.06      99.6      0.62      0.2
&amp;quot;&amp;lt;anonymous&amp;gt;&amp;quot;                 321.96      99.6    122.98     38.0
&amp;quot;setLTC&amp;quot;                      321.60      99.4      0.04      0.0
&amp;quot;FUN&amp;quot;                         321.38      99.4      2.34      0.7
&amp;quot;lik.gauss&amp;quot;                   320.02      99.0      0.02      0.0
&amp;quot;dc.gauss&amp;quot;                    319.78      98.9      0.00      0.0
&amp;quot;fn&amp;quot;                          319.38      98.8      0.00      0.0
&amp;quot;optim&amp;quot;                       319.38      98.8      0.00      0.0
&amp;quot;updateGauss&amp;quot;                 319.38      98.8      0.00      0.0
&amp;quot;lsoda&amp;quot;                       318.88      98.6     15.56      4.8
&amp;quot;.Call&amp;quot;                       286.84      88.7     17.42      5.4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Not so much. Whole day of coding, debugging a few typos, and still bad performance when given long time intervals for the ode. Not clear why this is happening. See &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/57b3ef3b9272bb656006b227ad7809e6d9bcb865&quot;&gt;code here&lt;/a&gt;, may simply pull from future package.&lt;/p&gt;
&lt;p&gt;Estimating Ro and the initial step-size for Nelder-Meade seem to be related to the issue – shrinking the step-size reduces the optimizer stalling, as does removing the dependence on “m” (the time-dependence) in the integration.&lt;/p&gt;
&lt;h4 id=&quot;no-go&quot;&gt;No go&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5258/5517529987_8f209d24a8_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Whether the time is really being lost in the allocation also isn’t clear. We can compare this at least in the context of the C code: 5399 runs code initializing only once per likelihood calc (over 50 pts). Most time is spent applying the ode evolver. 5556 runs the code initializing every interval. So overall doesn’t seem like this approach can save as much time as I had hoped. Pity I couldn’t get profile results from R’s lsoda alloc first. Lot of programming just to perform these profiles.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5091/5518135110_0783b062e0_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;better-optimized-searching&quot;&gt;Better optimized searching&lt;/h3&gt;
&lt;p&gt;Several decent approximation routines to the likelihood of a generic (i.e. including our time-heterogeneous coefficients) SDE in Iacus’s sde package for R. Should probably pursue these instead, and continue the R based implementation. Need further study on convergence of estimates, but hopefully with faster likelihood optimization first. Will require a bit more exploring. Meanwhile, need more time on writing.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals data examples</title>
	 <link href="/2011/03/09/warning-signals-data-examples.html"/>
   <updated>2011-03-09T16:31:56+00:00</updated>
   <id>/03/09/warning-signals-data-examples</id>
   <content type="html">&lt;p&gt;Working on a little data exploration while writing up manuscript. I have been puzzled why it appears that most estimates of tau on the CaCO3 data infer negative correlation, as in&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5134/5493714284_6dfb9b4e02_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Despite the fact that there seems to be a loss of stability in the model:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(warningsignals)
load(&amp;quot;CaCO3.Rdat&amp;quot;)
timedep$pars  
          Ro            m        theta        sigma 
  8.36841588  -0.03347119  -2.86194248 282.03234042 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So m is negative, so that the system is loosing stability, but only very gradually. Collapse occurs at R = 0, and the timeseries covers units of 0 to 5, so&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;timedep$pars[&amp;quot;Ro&amp;quot;] + max(time(X)) timedep$pars[&amp;quot;m&amp;quot;]
8.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is a decrease from 8.36 to 8.2, not much of a loss.&lt;/p&gt;
&lt;p&gt;We see simulating under this model that sometimes we get a positive and sometimes a negative correlation; consider two random examples:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5512862925_3b80fe6b3e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5093/5512860127_2ce1b32982_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;deuterium-data&quot;&gt;Deuterium Data&lt;/h3&gt;
&lt;p&gt;Running the “processed” deuterium data with interpolation and “detrending” to try and match Dakos(Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) results. They don’t report the window average, though I try to guess by rule of thumb: bw.nrd(x) on the timeseries, clearly I do not get the exact detrending, and don’t even recover a positive correlation in two of the datasets:&lt;/p&gt;
&lt;h4 id=&quot;glaciation-i&quot;&gt;Glaciation I&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5292/5513028899_3f89261e16_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;glaciation-ii&quot;&gt;Glaciation II&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5260/5513029045_46ceff3743_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;glaciation-iii&quot;&gt;Glaciation III&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5012/5513029239_5988131e9d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;glaciation-iv&quot;&gt;Glaciation IV&lt;/h4&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5097/5513640246_c6d9e8f4bc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;In automating the function which interpolates and detrends, it also guesses the number of points to use in the interpolation as equal to the number in the original dataset, (the original paper tends to add points instead).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Bodega evolution Tutorial: behind the scenes difficulties in R packages</title>
	 <link href="/2011/03/07/bodega-phylogenetics-tutorial-behind-the-scenes-difficulties-in-r-packages.html"/>
   <updated>2011-03-07T21:22:42+00:00</updated>
   <id>/03/07/bodega-phylogenetics-tutorial-behind-the-scenes-difficulties-in-r-packages</id>
   <content type="html">&lt;p&gt;Just finished my tutorial for comparative methods on continuous traits in R, which I’ll be presenting on Wednesday with &lt;a href=&quot;http://www.jbwhittall.com/&quot;&gt;Justen Whittall&lt;/a&gt;.  The &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous%5FCharacter%5FEvolution%5F%28Boettiger%29%5F2011&quot;&gt;tutorial is up&lt;/a&gt; on the Bodega Phylogenetics Wiki, together with the necessary data files.&lt;/p&gt;
&lt;h3 id=&quot;errors-that-shouldnt-happen-a-few-package-bugs-in-simulation-functions&quot;&gt;Errors that shouldn’t happen: a few package bugs in simulation functions&lt;/h3&gt;
&lt;p&gt;Assembling the tutorial exposed a few more frustrations in the R packages.  Consider simulating OU with rTraitCont:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Load the libraries, simulate a tree
require(geiger)
require(TreeSim)
tree &amp;lt;- sim.bd.taxa(100,1,1,0)[[1]]
## This is OK
&amp;gt;  x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=.3, theta=0, root.value=0)
&amp;gt; mean(x)
[1] 0.3305515
## This is still OK
 x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=3, theta=0, root.value=0)
&amp;gt; mean(x)
[1] 0.01494487
## This is OBVIOUSLY WRONG
x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=10, theta=0, root.value=0)
mean(x)
[1] -24.13565&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What’s happening? rTraitCont numerically integrates: [latex syntax=“display”] x(t_2) = x(t_1) - (t_2-t_1)( x(t_1) - ) + (t_2-t_1) Where t’s are the times at each node and [latex syntax=“inline”]~ N(0,1) [/latex]&lt;/p&gt;
&lt;p&gt;The exact equation would be: [latex syntax=“display”] x(t_2) = x(t_1) e&lt;sup&gt;{-t}+(1-e&lt;/sup&gt;{-t}) + ( 1 -e^{-2t} ) . [/latex]&lt;/p&gt;
&lt;p&gt;The approximation is fine as long as $ (t_2-t_1) $ is small, which is why we get into trouble with large alpha. While this isn’t implemented, we can meanwhile turn sim.char into a OU simulation by rescaling the tree,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; x &amp;lt;- sim.char(ouTree(tr,alpha=10), matrix(1), root=0)[,1,1]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;though it doesn’t let us allow the root and the optimum (theta) to differ.&lt;/p&gt;
&lt;p&gt;Another stumbling block I hit came from the way geiger does birth-death simulations:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tr &amp;lt;- birthdeath.tree(b=1, d=0, taxa.stop=100)
x &amp;lt;- sim.char(tr, matrix(1))[,1,1]
fitContinuous(tr, x)

  Fitting  BM model:
  Error in solve.default(phyvcv) : 
    system is computationally singular: reciprocal condition number = 1.53896e-18&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which doesn’t happen using the birth-death simulated tree instead. The reason is that birthdeath.tree simulation creates a final pair of branches with zero length, while sim.bd.taxa method does not:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; which(tr$edge.length==0)
[1] 163 164
&amp;gt; which(tree$edge.length==0)
integer(0)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;errors-that-should-happen-simulations-are-not-always-what-you-would-expect&quot;&gt;Errors that should happen: simulations are not always what you would expect&lt;/h3&gt;
&lt;p&gt;One theme I draw out in the tutorial is that expectations – averages – aren’t everything. Felsenstein’s example is &lt;em&gt;expected&lt;/em&gt; to create an artificial correlation between two traits – it’s not guaranteed: I start the students simulating data on this tree and testing for that correlation, though a substantial fraction won’t find it.&lt;/p&gt;
&lt;h4 id=&quot;can-likelihood-inform-the-data-transform&quot;&gt;Can likelihood inform the data transform?&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; x &amp;lt;- exp(sim.char(tree, matrix(1))[,1,1])
&amp;gt; bm &amp;lt;- fitContinuous(tree, x)
Fitting  BM model:
&amp;gt; bm_log &amp;lt;- fitContinuous(tree, log(x))
Fitting  BM model:
&amp;gt; bm_log[[1]]$aic
[1] 269.2097
&amp;gt; bm[[1]]$aic
[1] 2137.334&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yup. Why do we continue to look at whether there’s a significant correlation between branch length and contrast? Does not seem a substantial test of model adequacy. We also don’t tend to think of transforms as models.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals: Comparing Methods on Climate Data</title>
	 <link href="/2011/03/01/warning-signals-comparing-methods-on-climate-data.html"/>
   <updated>2011-03-01T16:51:54+00:00</updated>
   <id>/03/01/warning-signals-comparing-methods-on-climate-data</id>
   <content type="html">&lt;p&gt;Continuing my exploration in applying these techniques to real climate data.  Applying the Kendall’s Tau based approach on real data.&lt;/p&gt;
&lt;p&gt;Greenhouse Earth, CaCO3 data:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5295/5489514762_f8c9a6fa42_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Glaciation I-IV (deuterium data)&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5257/5489563736_33a34fa14e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5259/5488967119_ae49dc1dfa_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5015/5489564102_61f857cb7d_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5056/5489564230_eeeb03e8f2_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;These use the unadjusted timeseries, and hence don’t reproduce the values of Kendall’s tau statistic reported in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).  In fact they don’t even agree on the sign – visually many of the datasets are certainly decreasing in variance. I ran the Monte-Carlo distributions for  tau on models estimated from these data-sets with and without warning, for variance (left) and autocorrelation (right), in the CaCO3 data:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5487867329_6f2f9f9b60_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5014/5488464534_d6733a5707_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;and again the models with a trend show an actual decrease in the variance and autocorrelation, (just as the real data does), as well as rather low power to distinguish.  The opposite trend is observed by (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) after detrending and interpolating the data.&lt;/p&gt;
&lt;h2 id=&quot;detrending-and-interpolating&quot;&gt;Detrending and Interpolating&lt;/h2&gt;
&lt;p&gt;We can try both interpolating and detrending the data to compare more directly (R functions make this easy.  We follow the original work using &lt;em&gt;ksmooth&lt;/em&gt; for kernel smoothing mean which is subtracted out, and &lt;em&gt;approx&lt;/em&gt; for linear interpolation).&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5173/5490180354_b16fe6a469_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Top plot shows the raw data (blue), interpolated data (red) and trend subtracted from the data (gray).  Lower curve shows the autocorrelation, AR1 coefficient over the moving window and it’s score in Kendall’s tau test.[ref] Note some effort required to produce these nicer plots.  Particularly, R makes it rather unintuitive how to specify that a greek letter is equal to a variable.  &lt;em&gt;expression&lt;/em&gt; is typically used to display math/greek, but doesn’t work for including values of a variable.  After wasting some time, posted to our statcompsci lsit and got the answer in about 30 seconds from Duncan: the key is the &lt;em&gt;substitute&lt;/em&gt; command.  See the c&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/738265dad8c57abd9bda26234e66c9d510511c51/warningsignals/R/tau_dist_montecarlo.R&quot;&gt;ode in show_stats function in the tau_dist_montecarlo.R file&lt;/a&gt;.[/ref]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5489563269_c027c1deb3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Supplement describes the functions used by (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008), many of which are from R (some, like linear interpolation, is done in matlab).  They use autocorrelation calculated with &lt;em&gt;“ar.ols”&lt;/em&gt;, while I have been using the &lt;em&gt;acf&lt;/em&gt; function. I compare the differences with warning_ar.ols with warning_autocorr (acf) (right; &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/d7b49ec24bbcc9c02f36e7688c2f1d8bac80d3ff/warningsignals/demos/compare_ar1_examples.R&quot;&gt;code)&lt;/a&gt; The ar.ols is substantially slower to evaluate (seconds per call on this data).  I also migrated to the built in cor.test(method=“kendall”) in “stats” package rather than the “Kendall” function in the extension package “Kendall” for consistency.&lt;/p&gt;
&lt;p&gt;Now set to rerun the above results on the detrended, interpolated data…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals on Real data continued</title>
	 <link href="/2011/02/28/warning-signals-on-real-data-continued.html"/>
   <updated>2011-02-28T12:08:03+00:00</updated>
   <id>/02/28/warning-signals-on-real-data-continued</id>
   <content type="html">&lt;p&gt;Continuing my tweaks to code to apply warning signals to the climate data used in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).  After adjusting my code to deal with variably spaced sampling intervals, I reread the &lt;a href=&quot;http://www.pnas.org/cgi/data/0802430105/DCSupplemental/Supplemental_PDF#nameddest=STXT&quot;&gt;supplement&lt;/a&gt; – I had forgotten that they don’t actually consider data with variable time-scales, but instead interpolate the curves to have equally spaced sampling intervals.&lt;/p&gt;
&lt;p&gt;Obviously this is not ideal.  It is true that the autocorrelation would be impacted by non-equally spaced data, while there is no reason to do so for the variance indicator.  Interpolation will decrease the observed variance (clearly), and increase the autocorrelation.&lt;/p&gt;
&lt;p&gt;They also “detrend” the data, which unfortunately must also be somewhat arbitrary and could bias the results.  Certainly for the simulated data there is no reason to detrend the data, since there are no external trends represented (of course this does provide a consistency with the original arbitrary procedure).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We chose a bandwidth in such a way that we do not overfit while still removing the long-term trends visible in the records.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For the purposes of comparison I’ll have to add some code to include this detrending option.&lt;/p&gt;
&lt;h2 id=&quot;code-status-variable-timescales&quot;&gt;Code Status: Variable Timescales&lt;/h2&gt;
&lt;p&gt;Basic code checks for the time-series data seem to imply that everything is working (modulo checking the handling of the negative time values, discussed below). Still troubleshooting the handling of non-ts objects:&lt;/p&gt;
&lt;p&gt;This works fine:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const_pars
        Ro      theta      sigma 
  5.000000 100.000000   6.591166 
&amp;gt; Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,10,length=200))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=1000))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;as does this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,40,length=200))
const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=100))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But this creates warnings but still works: NAs:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,10,length=50))
const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=1000))
warnings()
Warning Messages: 
1: In rnorm(n, mean = P$Ex, sd = sqrt(P$Vx)) : NAs produced&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And this with the real data, errors:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; caco3 &amp;lt;- read.table(&amp;quot;caco3.txt&amp;quot;)
&amp;gt; caco3 &amp;lt;- data.frame(&amp;quot;MYYrs&amp;quot;=-caco3$V1, &amp;quot;CaCO3&amp;quot;=caco3$V2)
&amp;gt; g_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -32  # Data with collapse (for plot)
&amp;gt; p_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -34  # Data used in warning signal
&amp;gt; 
&amp;gt; X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=caco3$MYYrs[p_ca], &amp;quot;data&amp;quot;=caco3$CaCO3[p_ca])
&amp;gt; 
&amp;gt; # Rather annoying to have time backwards and negative, lets reverse this.
&amp;gt; X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=rev(X[,1] - min(X[,1])), &amp;quot;data&amp;quot;=rev(X[,2]))
&amp;gt; 
&amp;gt; pars &amp;lt;- c(Ro=5.0, m= -.04, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, const_pars, X, control=list(maxit=1000))
Error in optim(pars, likfn, method = method, ...) : 
  function cannot be evaluated at initial parameters

Enter a frame number, or 0 to exit   

1: updateGauss(const_LTC, const_pars, X, control = list(maxit = 1000))
2: gaussian_process.R#79: optim(pars, likfn, method = method, ...)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ah ah! Real data contains replicate time samples (or unresolved time intervals at least). These produce -Inf in the call to dc.gauss, so log-likelihood sums to NaN.&lt;/p&gt;
&lt;p&gt;Replicate samples should be averaged out or removed from data-set first. As usual there’s already a &lt;a href=&quot;http://stuff.mit.edu/afs/athena.mit.edu/software/r_v2.11.1/lib/R/library/limma/html/avereps.html&quot;&gt;clever little R function&lt;/a&gt; in some&lt;a href=&quot;http://www.bioconductor.org/packages/2.6/bioc/html/limma.html&quot;&gt;obscure package&lt;/a&gt; to do this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(limma)
X &amp;lt;-avereps(X, ID=X[,1])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So looks like the entire code will run (data proccessing, formatting, etc). Now to check convergence:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;caco3 &amp;lt;- read.table(&amp;quot;caco3.txt&amp;quot;)
caco3 &amp;lt;- data.frame(&amp;quot;MYYrs&amp;quot;=-caco3$V1, &amp;quot;CaCO3&amp;quot;=caco3$V2)
g_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -32  # Data with collapse (for plot)
p_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -34  # Data used in warning signal
X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=caco3$MYYrs[p_ca], &amp;quot;data&amp;quot;=caco3$CaCO3[p_ca])
# Rather annoying to have time backwards and negative, lets reverse this.
X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=rev(X[,1] - min(X[,1])), &amp;quot;data&amp;quot;=rev(X[,2]))
## Also really annoying that there are replicate values, luckily a quick averaging call will remove them. 
require(limma)
X &amp;lt;-avereps(X, ID=X[,1])
pars &amp;lt;- c(Ro=5.0, m= -.04, theta=mean(X[,2]), sigma=sd(X[,2])*5*2)
const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2])*5*2)
const &amp;lt;- updateGauss(const_LTC, const_pars, X, control=list(maxit=1000))
timedep &amp;lt;- updateGauss(timedep_LTC, pars, X, control=list(maxit=1000))
llik_warning &amp;lt;- 2*(loglik(timedep)-loglik(const))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I would also like to add an error-handler for this in setmodel, but as it takes the whole timeseries at once rather than entry by entry the check requires more effort (and seems silly to check the whole series for replicate time entries on each call).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/e3c83d5a3387a7e0b37be75557b220184f0ecd47&quot;&gt;Code&lt;/a&gt; also updated to make intelligent estimates of initial parameters for optim() routine (i.e. theta set to data mean, etc).&lt;/p&gt;
&lt;p&gt;Results should appear when complete in the gallery below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“CaCO3” min_upload_date=“2011-02-28 00:00:00” max_upload_date=“2011-03-02 23:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;data-status&quot;&gt;Data Status&lt;/h2&gt;
&lt;p&gt;I realized the interpolation problem when breaking the data into the four glaciation periods specified in Table S1 and not having the same number of points as specified.&lt;/p&gt;
&lt;p&gt;Times on the data are given as time-before-present, which is actually a bit annoying (would reverse the end and initial conditions, fine for a stationary process, not so much for the warning signal fit!)  Making the quantities negative at least restores the correct ordering of the data.&lt;/p&gt;
&lt;p&gt;Some handling of this can be seen in the code above.&lt;/p&gt;
&lt;p&gt;and back to writing…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals on Real Data?</title>
	 <link href="/2011/02/27/warning-signals-on-real-data.html"/>
   <updated>2011-02-27T16:24:03+00:00</updated>
   <id>/02/27/warning-signals-on-real-data</id>
   <content type="html">&lt;p&gt;Grabbed the data used in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008), which is includes climate data from the Deuterium levels in the Vostok ice core (Petit &lt;em&gt;et. al.&lt;/em&gt; 1999), showing transitions into the last several ice ages,  and calcium carbonate from Eocene “greenhouse” climate (Tripati &lt;em&gt;et. al.&lt;/em&gt; 2005), and carbon-14 data from the Younger Dryas (Hughen, 2000).  Data is all freely provided through NOAA.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot;&gt;CaCO3  data file&lt;/a&gt;(Tripati &lt;em&gt;et. al.&lt;/em&gt; 2005), NOAA entry.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/vostok/deutnat.txt&quot;&gt;Deuterium data file&lt;/a&gt; (Petit &lt;em&gt;et. al.&lt;/em&gt; 1999), &lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/metadata/noaa-icecore-2453.html&quot;&gt;NOAA entry.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;C-14 &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/hughen2000/cariaco2000_pc56_greyscale.txt&quot;&gt;greyscale data file&lt;/a&gt;,(Hughen, 2000) &lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/pubs/hughen2000/hughen2000.html&quot;&gt;NOAA entry&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Data is also added to the warningsignals package.&lt;/p&gt;
&lt;p&gt;Broke deuterium data into chunks for each ice age, and truncated the CaCO3 data to the time interval used for early warning, as in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).&lt;/p&gt;
&lt;p&gt;(example data figures and analysis coming)&lt;/p&gt;
&lt;h3 id=&quot;real-timeseries-vs-regular-sampling&quot;&gt;Real Timeseries vs regular sampling&lt;/h3&gt;
&lt;p&gt;The data in each of the above intervals are not sampled on a regular time interval, as is assumed by the R timeseries object I’m using for my default data-type (for consistency with the sde R package – I’ve never really enjoyed forcing my data into this format and now its more obvious why).&lt;/p&gt;
&lt;p&gt;To fit this data to the models in which a warning signal is present, this means that the likelihood function will need to be passed a different time-step delta at each interval, which will require a bit of tweaking at a rather low-level in the code, since it changes the logic of the computation a bit.&lt;/p&gt;
&lt;p&gt;Made edits to package functions (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/943adc11d94a89fe37a0c16887734035e6517443&quot;&gt;see git log&lt;/a&gt;) to generalize this to arbitrary time intervals.  Data can now be specified in data frame or matrix with time in first column and data in the second, or as a timeseries as before.  Requires testing.&lt;/p&gt;
&lt;h2 id=&quot;roc-curves&quot;&gt;ROC Curves&lt;/h2&gt;
&lt;p&gt;Alan suggested taking a look at the unfortunately-named receiver-operator characteristics (ROC) to emphasize the trade-off between false alarms and missed detections.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://upload.wikimedia.org/wikipedia/commons/8/8c/Receiver_Operating_Characteristic.png&quot;&gt;&lt;img src=&quot;http://upload.wikimedia.org/wikipedia/commons/8/8c/Receiver_Operating_Characteristic.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I don’t actually find the curve more useful than just seeing the two distributions themselves, but possibly useful as it has made appearances in the theoretical ecology literature already (M.A. Lewis).&lt;/p&gt;
&lt;h2 id=&quot;manuscript-still-revisingwriting&quot;&gt;Manuscript: Still Revising/Writing…&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Petit J, Jouzel J, Raynaud D, Barkov N, Barnola J, Basile I, Bender M, Chappellaz J, Davis M, Delaygue G, Delmotte M, Kotlyakov V, Legrand M, Lipenkov V, Lorius C, PÉpin L, Ritz C, Saltzman E and Stievenard M (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;399&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/20859&quot;&gt;http://dx.doi.org/10.1038/20859&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tripati A, Backman J, Elderfield H and Ferretti P (2005). “Eocene Bipolar Glaciation Associated With Global Carbon Cycle Changes.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;436&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature03874&quot;&gt;http://dx.doi.org/10.1038/nature03874&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hughen K (2000). “Synchronous Radiocarbon And Climate Shifts During The Last Deglaciation.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;290&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.290.5498.1951&quot;&gt;http://dx.doi.org/10.1126/science.290.5498.1951&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Is BM nested in OU?  Understanding likelihoods of ouch</title>
	 <link href="/2011/02/25/is-bm-nested-in-ou-understanding-likelihoods-of-ouch.html"/>
   <updated>2011-02-25T20:16:37+00:00</updated>
   <id>/02/25/is-bm-nested-in-ou-understanding-likelihoods-of-ouch</id>
   <content type="html">&lt;p&gt;A quick run of the example ouch code given by&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; ?bimac &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;will produce something of a surprise for most users:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(ouch)
data(bimac)
tree &amp;lt;- with(bimac,ouchtree(node,ancestor,time/max(time),species))
h1 &amp;lt;- brown(log(bimac[&amp;#39;size&amp;#39;]),tree)
h2 &amp;lt;- hansen(log(bimac[&amp;#39;size&amp;#39;]),tree,bimac[&amp;#39;OU.1&amp;#39;],sqrt.alpha=1,sigma=1)
c(&amp;quot;BM LogLik&amp;quot;=h1@loglik, &amp;quot;OU LogLik&amp;quot;=h2@loglik)

BM LogLik OU LogLik
 17.33129  15.69682&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These models are supposed to be nested, right? Set OU’s $ $ parameter to zero and you get BM, so how does it manage to do &lt;em&gt;worse&lt;/em&gt; in log likelihood?  This very data gets analyzed in the original (2004) paper(Butler &amp;amp; King, 2004), and the two models get the same log likelihood (Table 1).   I asked Aaron about this at Evolution last summer, and he tells me it comes from assuming the root state comes from the stationary distribution.  To quote the development log (OCHANGELOG file in pkg/inst):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2008-05-23 11:05 kingaa&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;assume that root state is a random variable drawn from the stationary distribution of the process in the regime that the root node occupies&lt;/p&gt;
&lt;p&gt;the latter involves changes to the weight matrix, to the covariance matrix, and to the regime.spec routine&lt;/p&gt;
&lt;p&gt;Unfortunately I’m not able to grab the version of ouch before this change was made but after the code was moved into C, as that stage wasn’t committed to CRAN (&lt;a href=&quot;http://cran.r-project.org/src/contrib/Archive/ouch/&quot;&gt;archive history&lt;/a&gt;) and wasn’t yet on &lt;a href=&quot;http://ouch.r-forge.r-project.org/&quot;&gt;RForge&lt;/a&gt; svn.&lt;/p&gt;
&lt;p&gt;We can write down the likelihood of the OU model from the multivariate normal:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ -2 \log L = [X(T) - E(X(T))]^{\prime} V^{-1} [X(T) - E(X(T))] + N\log(2\pi) + \log(\det(V)) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the expected trait values &lt;em&gt;E(X)&lt;/em&gt; and covariance matrix &lt;em&gt;V&lt;/em&gt; are defined from $ , $ and $ $ and the root state: &lt;span class=&quot;math&quot;&gt;\[ E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta (1- e^{-\alpha t}) \]&lt;/span&gt; The &lt;em&gt;i,j&lt;/em&gt; element of the covariance matrix is &lt;span class=&quot;math&quot;&gt;\[ V_{ij} = \frac{\sigma^2}{2\alpha} (1 - e^{-2 \alpha s_{ij} }) e^{-2\alpha (t-s_{ij} )} \]&lt;/span&gt; where the nodes are all measured at time t (present day) and have diverged for a time $ t-s_{ij} $ (thus shared time $ s_{ij} $ since $ X_0 $.)&lt;/p&gt;
&lt;p&gt;Well, we can estimate $ X_0$ and $ $ separately, but there’s really no information to estimate these independently (and we may expect poor numerical behavior). Clearly the best we can do is set $ X_0 = $ and this reduces to $ X_0 = $ as in BM model. As the log likelihood has no absolute scale anyway, we could just say the mean is just a constant proportionality and ignore it all together, taking the likelihood from the second two terms (and saving the cost of a matrix inversion). Clearly this is not the choice made by the current OUCH package.&lt;/p&gt;
&lt;p&gt;Instead, the argument is that X_0 is still a parameter, which we are choosing to set $ X_0 = $, and if we assume that it the root is at the stationary distribution, then we know the probability density of this assertion $ X_0 = $ from the stationary normal distribution (note that in the stationary distribution samples are all independent draws with mean $ $ and variance &lt;span class=&quot;math&quot;&gt;\(\sigma^2/2\alpha}\)&lt;/span&gt;) so that the probability density is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\sqrt{\frac{\alpha}{\pi \sigma^2}}\]&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I expected that subtracting the log of this quantity from the log-likelihood would give me the corrected value, but it does not:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; h2@loglik + log( h2@sqrt.alpha / sqrt(pi * h2@sigma^2))
[1] 15.81422&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So I’m a bit puzzled exactly where the correction comes from that makes OU score worse. More to the point, the penalty for estimating something we’re not estimating seems strange. Why treat this as part of the likelihood at all?&lt;/p&gt;
&lt;p&gt;Of course the reason for treating the E(X) terms becomes more important in the multiple peaks models, where: &lt;span class=&quot;math&quot;&gt;\[ E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta_1 (1- e^{-\alpha t_1})  + \theta_2 (1- e^{-\alpha t_2})  + \ldots \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and so setting $ X_0 = _1 $ doesn’t make the term vanish. Still, it seems unclear why this must be treated as an estimated statistic when it isn’t really, any more than it is in BM.&lt;/p&gt;
&lt;p&gt;For that matter, the BM model in OUCH considers itself as having 2 degrees of freedom, for the root state/phylogenetic mean and the diversification rate $ $.  This is likewise unclear – certainly it is possible to compute such a statistic as the phylogenetic mean under BM, but it’s still a one-parameter model as far as likelihood estimation, where we just use the $ V $ to compute the likelihood (which for this model we can analytically compute the value of $ $ which maximizes this).&lt;/p&gt;
&lt;p&gt;[ref]Note that the command “sessionInfo()” will return the version number for attached packages.[/ref]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Butler M and King A (2004). “Phylogenetic Comparative Analysis: A Modeling Approach For Adaptive Evolution.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;164&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/426002&quot;&gt;http://dx.doi.org/10.1086/426002&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylo: Luke Harmon</title>
	 <link href="/2011/02/25/phyloseminar-luke-harmon.html"/>
   <updated>2011-02-25T14:36:16+00:00</updated>
   <id>/02/25/phyloseminar-luke-harmon</id>
   <content type="html">&lt;p&gt;My notes on Luke Harmon’s excellent talk on &lt;a href=&quot;http://phyloseminar.org/&quot;&gt;Phyloseminar&lt;/a&gt; this morning.  See the &lt;a href=&quot;http://phyloseminar.org/recorded.html&quot;&gt;recording&lt;/a&gt; of Luke’s actual talk to know what he said, below are my thoughts and notes to myself having watched the talk.&lt;/p&gt;
&lt;p&gt;Luke summarizes his goal rather nicely as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Analyzing the data that people actually have to answer the questions they actually want to know&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For him, this focuses on incomplete trees and non-Brownian models.   Two of the three methods he discussed cover incomplete trees, two use BM and one doesn’t care about character evolution to begin with.  All use the birth-death model of speciation, despite the worrying assumption that species are, on average, increasing exponentially.  Despite the tally, I’m pretty excited about the methods proposed (well, the second two), because they move us in that direction with a decent expression of the uncertainty resulting from the data people actually have (by virtue of being Bayesian.  Not that you have to be Bayesian to do this, but somehow bootstrapping and confidence intervals don’t seem standard practice in implementation of comparative methods in Frequentist quantities, while the Bayesian ones always show you the posteriors.)&lt;/p&gt;
&lt;h2 id=&quot;medusa-fossil-medusa&quot;&gt;Medusa &amp;amp; Fossil Medusa&lt;/h2&gt;
&lt;h3 id=&quot;medusa&quot;&gt;Medusa&lt;/h3&gt;
&lt;p&gt;Dealing with incomplete trees: Rabosky et al 2007(Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007) incomplete trees partition the likelihood:&lt;/p&gt;
&lt;p&gt;$ L = L_p + L_t $&lt;/p&gt;
&lt;p&gt;phylogenetically resolved, taxonomic (unresolved part of the tree).  Calculate the likelihood of the birth-death parameter values on the &lt;em&gt;T&lt;/em&gt; unresolved parts of the tree (where the _i_th clade has $ n_i$ taxa) simply as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \log L_t = \sum_{i=1}^T \log(1-\beta_i) + \sum _{i=1}^T(n_i -1)\log \beta_i\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \beta_i = \frac{\exp(rt_i)-1}{exp(rt_i) - a}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;em&gt;a&lt;/em&gt; is the extinction fraction (death rate over birth rate) and &lt;em&gt;r&lt;/em&gt; the diversification rate (birth rate minus death rate).&lt;/p&gt;
&lt;p&gt;Stepping through the tree proposing and accepting/rejecting rate shifts by AIC: uses a rule-of-thumb difference of 4 AIC units.  Luke suggests larger trees should use a larger difference.  Obviously I’d prefer something more concrete given the poor performance AIC &lt;a href=&quot;http://www.carlboettiger.info/archives/635&quot;&gt;tends to have in&lt;/a&gt;other comparative approaches.&lt;/p&gt;
&lt;h3 id=&quot;fossil-medusa&quot;&gt;Fossil Medusa&lt;/h3&gt;
&lt;p&gt;Luke asks us: so what if we know that there were more extinct taxa at one point than are represented by $ n_i$ tip taxa? The expectation under the birth death model is that of exponential growth in total number of species.  (Since we are using the birth-death model, this outcome is still possible, and indeed is included in the probability above.  Because it is very unexpected outcome, it contributes rather little to that probability though.)&lt;/p&gt;
&lt;p&gt;We could make this observation more probable by assuming that at some point the diversification rate shifted around the time of this observation, either slowing down or even resulting in a net extinction rate.  _&lt;strong&gt;Fossil Medusa &lt;/strong&gt;_does this by estimating different the likelihood of getting up to the $ m_i$ extinct taxa by the observed time, and then letting it assume a new rate to get to the &lt;span class=&quot;math&quot;&gt;\(n_i\)&lt;/span&gt; present-day taxa starting with $ m_i$ taxa[ref]Must require a new equation to have starting condition that isn’t a single species: should be a simple rescaling.[/ref]&lt;/p&gt;
&lt;p&gt;This seems strange to me– The location of this shift is placed by the fossil dates, there is no reason to believe it couldn’t have occurred earlier or later.  This is worrisome as rate estimates depend strongly on branch length.  Second, we have to justify that the fossils of lost species still have a common ancestor at the beginning of this unresolved clade.  Does this require that the $ m_i$ extinct taxa actually all co-occur at the given time, or just existed somewhere in the interval?  Certainly the former seems to be the assumption of the method, but may be hard to establish in the data(?)&lt;/p&gt;
&lt;p&gt;Luke observes that typical birth death estimates result in zero extinction estimates. because it reduces uncertainty and makes the data more probable, and that models lack density dependence sensu Dan Rabosky’s recent work (Rabosky &amp;amp; Glor, 2010)&lt;/p&gt;
&lt;p&gt;Luke also observes the multiple comparisons issue inherent in the Medusa approach.&lt;/p&gt;
&lt;h2 id=&quot;auteur&quot;&gt;Auteur&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.wsu.edu/~storfer/eastman/&quot;&gt;Jon Eastman&lt;/a&gt; has implemented a RJMCMC (see(GREEN, 1995)) of multiple diversification rates on phylogenetic tree.  Assumes Brownian motion and a tree known without error etc etc but seems like a fantastic step forward to me.  As a reversible jump model, it allows proposals of split and merge events where the diversification rate can change on the tree.  This moves us away from the rather problematic requirement to compare “painted” trees, or propose diversification rate relative to an inferred ancestral history of another discrete trait (which is interesting if that’s the hypothesis, and can be integrated over the stochastic character mappings – but it requires such a trait whose history motivates the rate shifts, which is rather restrictive!).&lt;/p&gt;
&lt;p&gt;Note: this seems to be similar to the spirit of Liam’s MCMC method for rate variation; see for the &lt;a href=&quot;http://phytools.blogspot.com/2011/02/mcmc-method-for-rate-variation.html&quot;&gt;description&lt;/a&gt; on his development blog.&lt;/p&gt;
&lt;h2 id=&quot;mecca&quot;&gt;MECCA&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.eeb.ucla.edu/gradstudents/slater/Graham/Graham_J_Slater.html&quot;&gt;Graham Slater’s&lt;/a&gt; ABC approach in which unresolved clades are simulated by birth-death process.  Gives posterior distributions on parameter estimates.  Can be applied to differences in diversification rates.  I think the particularly innovative thing here is in testing the ability of an ABC approach (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010) to get us out of the challenge of missing taxa in a meaningful, model-driven way.  I’m actually rather nervous about ABC when it hinges on a set of parameters that are rather far from being sufficient statistics.  The probability of the birth-death rates depends very strongly on the number of taxa, and very weakly on the topology, so it’s a rather weak way to fill in the missing topology.&lt;/p&gt;
&lt;p&gt;Essentially this can be seen as a correction to diversification rate estimates in the following sense.  Treating the clade as an unresolved polytome would underestimate diversification rates, because it gives longer time of independent drift for traits to diversify.  Forcing a birth-death tree structure makes a rather twiggy tree to replace the unresolved section, which results in an estimate of diversification rate $ $ that will be much higher, and probably an overestimate relative to any density-dependent tree structure.&lt;/p&gt;
&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;
&lt;p&gt;At the end a mention of a couple other new directions that I agree are dead on.  Traits connected to diversification rates, as in recent work from  FitzJohn and Sally Otto’s group at UBC(FitzJohn &lt;em&gt;et. al.&lt;/em&gt; 2009),(FitzJohn, 2010). – very interesting, but as Luke points out, a great way to make your trait estimates really susceptible to the missing taxa problem.  (Luke answers a seminar question on the impact of missing taxa – Brownian diversification rate isn’t very sensitive to this, while things that depend directly on predicting number of species, such as birth and death rates, are hugely effected).&lt;/p&gt;
&lt;p&gt;Also mentions  Dan Rabosky concerns over estimations in rates (Rabosky, 2010).  I couldn’t agree more that realistic diversification models are crucial.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rabosky D, Donnellan S, Talaba A and Lovette I (2007). “Exceptional Among-Lineage Variation in Diversification Rates During The Radiation of Australia’S Most Diverse Vertebrate Clade.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;274&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2007.0924&quot;&gt;http://dx.doi.org/10.1098/rspb.2007.0924&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D and Glor R (2010). “From The Cover: Equilibrium Speciation Dynamics in A Model Adaptive Radiation of Island Lizards.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1007606107&quot;&gt;http://dx.doi.org/10.1073/pnas.1007606107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GREEN P (1995). “Reversible Jump Markov Chain Monte Carlo Computation And Bayesian Model Determination.” &lt;em&gt;Biometrika&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. ISSN 0006-3444, &lt;a href=&quot;http://dx.doi.org/10.1093/biomet/82.4.711&quot;&gt;http://dx.doi.org/10.1093/biomet/82.4.711&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FitzJohn R, Maddison W and Otto S (2009). “Estimating Trait-Dependent Speciation And Extinction Rates From Incompletely Resolved Phylogenies.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;58&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syp067&quot;&gt;http://dx.doi.org/10.1093/sysbio/syp067&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FitzJohn R (2010). “Quantitative Traits And Diversification.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq053&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq053&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D (2010). “Primary Controls on Species Richness in Higher Taxa.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq060&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq060&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>ESA 2011 Abstract: Limits to Detection of Early Warning Signals</title>
	 <link href="/2011/02/23/esa-2011-abstract.html"/>
   <updated>2011-02-23T17:58:45+00:00</updated>
   <id>/02/23/esa-2011-abstract</id>
   <content type="html">&lt;p&gt;Just submitted my abstract to for an oral presentation at the &lt;a href=&quot;http://www.esa.org/austin/&quot;&gt;Ecological Society of America 2011&lt;/a&gt;meeting in Austin, based on my recent work on early warning signals.  Here it is:&lt;/p&gt;
&lt;h2 id=&quot;limits-to-detection-of-early-warning-signals-of-population-collapse&quot;&gt;Limits to Detection of Early Warning Signals of Population Collapse&lt;/h2&gt;
&lt;h3 id=&quot;backgroundquestionmethods&quot;&gt;Background/Question/Methods&lt;/h3&gt;
&lt;p&gt;The recognition that ecosystems can undergo sudden shifts to alternate, less desirable stable states has led to the desire to identify early warning signs of these impending collapses.  This search has been motivated by the mathematics of bifurcations, in which sudden shifts result not from direct perturbations to the state (i.e. the population abundance, through mechanisms such as over-harvesting)  but to a slowly changing parameter that impacts the system stability.  While these collapses cannot be anticipated by observing only the mean dynamics (as described by a deterministic model), signs of the impending collapse are expressed in the random perturbations, or noise, inherent in real systems.  The mathematical theory of early warning signs exploits this fact by seeking to detect patterns such as “critical slowing down” of these perturbations due to the gradual loss of stability which leads to a bifurcation.&lt;/p&gt;
&lt;p&gt;While much attention has been given to emphasizing the existence both of sudden collapses and of signs of critical slowing down, little attention has been paid to its detection.  Faced with only finite data, any method risks both false alarms and failed detection events.  We believe that weighing these risks must be the burden of management policy, while research must first provide a reliable way to quantify the relative risks of each.  We present a method which quantifies this risk and show how to decrease the uncertainty inherent in common summary-statistic approaches through the use of a likelihood based modeling approach.&lt;/p&gt;
&lt;h3 id=&quot;resultsconclusions&quot;&gt;Results/Conclusions&lt;/h3&gt;
&lt;p&gt;We demonstrate that commonly used correlation tests applied to summary statistics such as autocorrelation and variance are both inappropriate and insufficient tests of early warning signals.&lt;/p&gt;
&lt;p&gt;Our method estimates directly the parameters of a generalized model of the bifurcation postulated by early warning signals theory, with and without the presence of a gradual change leading towards collapse.  Using Monte Carlo simulation we generate the distribution of warning-signal statistics expected under each model.  From this we can quantify the risk of false alarms and missed detection.  We then show how applying this approach to the data directly rather than the summary statistic increases the power of detection.  We illustrate the approach in both simulated and empirical data of sudden ecological shifts.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday: Writing, Mendeley groups, Notebook plugin tweaks</title>
	 <link href="/2011/02/21/monday-2.html"/>
   <updated>2011-02-21T23:45:37+00:00</updated>
   <id>/02/21/monday-2</id>
   <content type="html">&lt;h2 id=&quot;a-day-of-writing&quot;&gt;A day of Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewed Chris’s manuscript.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Completed my revisions to phylogenetics mansucript, meeting with Peter tomorrow to discuss.  Still need to work through the discussions of model adequacy Goldman, 1993, Cox’s delta (1961/62), and going beyond (simulations by under both null and test distributions).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Meanwhile, a few thoughts:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reproducible-research&quot;&gt;Reproducible Research&lt;/h2&gt;
&lt;p&gt;Mentioned in &lt;a href=&quot;http://www.carlboettiger.info/archives/1044&quot;&gt;Thursday’s entry&lt;/a&gt; coming across Victoria Stodden’s post on Reproducible research standards such as practiced by Journal of Biostatistics.  So I was quite excited to see the &lt;a href=&quot;http://www.stanford.edu/~vcs/AAAS2011/&quot;&gt;slides and audio&lt;/a&gt;from this year’s AAAS meeting Symposium on reproducible research.  I found the presentation of &lt;a href=&quot;http://www-stat.stanford.edu/%7Edonoho&quot;&gt;David Donoho&lt;/a&gt;, Stanford University; &lt;a href=&quot;http://www.stanford.edu/%7Egavish&quot;&gt;Matan Gavish&lt;/a&gt; particularly visionary as a simple yet powerful idea: URIs for all computational objects.  They have a working pilot of “&lt;a href=&quot;http://www.stanford.edu/~gavish/vcr/&quot;&gt;verifiable computational research“&lt;/a&gt; scheme which is worth checking out.  I’m tempted to start subscribing to UC3 EZID’s DOI system and start tagging my computational objects already.  They discuss integration of this system with LaTeX and common computing languages.&lt;/p&gt;
&lt;p&gt;I would love to figure out a simple and potentially platform independent way to integrate this into my notebook workflow, tracking my computational objects with a common identifier.  It’s something I’ve already wanted to do on a basic level, for instance be able to track back the various locations I’ve embedded a flickr image of a computational result, and have that result link directly to the code that created it.  So far I can mimic this with my flickr images including the git commit versions in the description, but it’s not nearly as nice and smooth as a common device identifier that could track the code, the images, the notebook entries in semantic, computer readable manner.&lt;/p&gt;
&lt;h2 id=&quot;thoughts-on-mendeley-groups&quot;&gt;Thoughts on Mendeley Groups&lt;/h2&gt;
&lt;p&gt;Hit the cap on Mendeley group size (20) for my phylogenetics comparative methods group.  Have to decide whether to make it an Open group, where members join without request, group size is not capped, but members cannot access pdfs directly.  While my Future of Science (89 members, 51 followers) is a Public Open group, I’ve made my research-area groups Public Invite only groups.  The permissions associated with the types can be a bit difficult to keep straight, so I took a moment to jot them down here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Public Open group: Members can edit meta-data, followers can only see the meta-data.  Everyone can comment in the group forum.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Public Invite-only group: Members (limited to 20) can view/edit pdfs.  Followers can only see metadata.  Everyone can comment in group forum.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Private group: Members can view/edit pdf.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of these groups have been joined only by those I invite or already know, but I have received numerous requests from various users to join the groups.   It probably would have made the most sense to encourage them to follow these groups, but that works against the goal of an open group fostering community discussion around the topic.&lt;/p&gt;
&lt;p&gt;On top of this are my personal categories.  I try to keep these in one-to-one correspondence with my groups.  Before this year, categories  just had the option of public feeds.  While the new groups are more powerful, and many users may want rather different category structure than group structure, I find it rather inconvenient that notes and updates to metadata I make on my copy don’t appear on the copy in the group, and vice versa.  An option to sync these would be very useful.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5468232335_cbab61d0bc_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;In other news, the I’m entertained to see the live Mendeley Advisors map with visible push-pins on via Google maps, right.&lt;/p&gt;
&lt;h2 id=&quot;new-wordpress-plugins-for-notebook&quot;&gt;New Wordpress Plugins for notebook&lt;/h2&gt;
&lt;p&gt;Martin Fenner has set up a multi-user multi-blog &lt;a href=&quot;http://blogs.xartrials.org&quot;&gt;Wordpress site&lt;/a&gt;for users to explore Wordpress as a scientific publishing platform, and has made included a rather inspiring list of useful plugins as options.  I went through these last week and started to identify those that might be useful in my notebook as well.&lt;/p&gt;
&lt;p&gt;I have just checked out &lt;a href=&quot;http://wordpress.org/extend/plugins/flickpress/&quot;&gt;flickpress&lt;/a&gt; – has a nice built-in embedder to search my library or any library, filtering by license, etc.  Does not have gallery, and GUI embedder is much slower than shortcode.  The self-generating gallery based on entering in search terms and a date window to capture all simulation results of a given set of tags in a certain time window is particularly wonderful.&lt;/p&gt;
&lt;p&gt;Advantages are that image can be imported into media library, and image is visible in the preview (which probably also means the image is captured by things like epub, where the flickr-gallery only grabs the shortcode in the epub).  Suppose one could use both.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/wp-rdfa/&quot;&gt;wp-rdfa&lt;/a&gt; allows semantic information in posts through FOAF and Dublin core (gives post author, title and date information in links).&lt;/p&gt;
&lt;p&gt;Started using &lt;a href=&quot;http://wordpress.org/extend/plugins/post-revision-display/&quot;&gt;Wordpress Post Revision Display&lt;/a&gt;. While generally my posts do not change content, (though later revisions add more content) this seemed very much in the spirit of the notebook to provide a user-viewable version of the notebook revisions, which is otherwise sited as a major advantage of a wiki over a blog-structured notebook.&lt;/p&gt;
&lt;p&gt;Google Docs embedder. Though don’t have a need for this at the moment, could be very nice to include collaborative writing and an easy way to add spreadsheets (though wp-tables reloaded provides a nice way to do this already.)&lt;/p&gt;
&lt;p&gt;MathJax plug-in looks great, but I can only get it to render the shortcode, not the svg of the equation itself.&lt;/p&gt;
&lt;p&gt;wp-ToC: A table of contents generator based on the hierarchical headers.  While I generally use multiple posts to separate out different ideas, this could be quite useful in some longer posts that use multiple headings.  There’s a variety of other ToC plugins, at this stage I think the simplest and lightest one would be the most valuable (not sure if this one meets that definition).&lt;/p&gt;
&lt;p&gt;Plugins have been incredibly useful in extending functionality, though I am a little wary of overloading the demands on my server.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Bodega evolution Workshop: Continuous Characters R session planning</title>
	 <link href="/2011/02/19/bodega-phylogenetics-workshop-continuous-characters-r-session-planning.html"/>
   <updated>2011-02-19T03:45:09+00:00</updated>
   <id>/02/19/bodega-phylogenetics-workshop-continuous-characters-r-session-planning</id>
   <content type="html">&lt;p&gt;Preparing for the Bodega Phylogenetics workshop.  I’ll be covering the R tutorial following&lt;a href=&quot;http://www.jbwhittall.com/&quot;&gt;Justen Whittall’s&lt;/a&gt; introduction to continuous characters:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In my intro lecture i will discuss Felsenstein 1985 (including a little phylo signal), then follow with some alternatives (including the OU model). I can also discuss the tree transformations ala Pagel’s kappa, delta, etc. and mention multivariate approaches to detecting correlated characters in a phylogenetic context.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I’m toying with the idea of a brief (~1hr) phylogenetic signal / model inference exercise:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Students simulate a dataset under assigned model (a few different ones varying in tree size, phylogenetic signal, etc)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Students than exchange datasets with neighbors, without disclosing models and parameters, and attempt to guess which model, parameter values, etc the other has used.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I might pool the group data that evening and summarize in a slide or two next morning?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Practice simulating models as a way to understand them,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrate potential and the limitations of these inferences&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrate the importance of having sufficient data, not just the model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;give this kind of analysis a more empirical rather than black-box feel&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Begun development of tutorial in R package, &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/bodega&quot;&gt;see code&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Friday</title>
	 <link href="/2011/02/18/friday.html"/>
   <updated>2011-02-18T15:21:41+00:00</updated>
   <id>/02/18/friday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Spoke with Prof. Jim Carey about getting Data Mangement Workshop videocast with Cametasia (and possibly Adobe Connect for live streaming).  Jim has worked with Entomology seminar series, and UCTV on videocasting seminars, see his recent PLoS Biology paper Carey &lt;em&gt;et. al.&lt;/em&gt; 2010.&lt;/li&gt;
&lt;li&gt;Spoke with Marissa about some of the &lt;a href=&quot;http://www.nceas.ucsb.edu/ecoinfo/tools&quot;&gt;resources at NCEAS&lt;/a&gt;. Learned a bit about data standards from &lt;a href=&quot;http://www.nbii.gov/portal/server.pt?open=512&amp;amp;objID=236&amp;amp;mode=2&amp;amp;cached=true&quot;&gt;FGDC&lt;/a&gt; and &lt;a href=&quot;http://www.nbii.gov&quot;&gt;NBII&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Working on manuscript revisions (phylogenetics)&lt;/li&gt;
&lt;li&gt;Writing (warning signals)&lt;/li&gt;
&lt;li&gt;Revised Weds post, reviewing context for Goldman 1993 Goldman, 1993 relative to original simulation-based parametric bootstrap of Cox’s statistic as illustrated in (McLachlan, 1987) in mixture models.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;McLachlan G (1987). “on Bootstrapping The Likelihood Ratio Test Stastistic For The Number of Components in A Normal Mixture.” &lt;em&gt;Applied Statistics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 00359254, &lt;a href=&quot;http://dx.doi.org/10.2307/2347790&quot;&gt;http://dx.doi.org/10.2307/2347790&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;University of California Research Seminar Network: A Prospectus, James R. Carey, John Christian Laursen, Steven D. Glaser, Stephen Raphael, Gregory H. Miller, John Crawford, Timothy F. Lane, Patricia J. LiWang, Kimberly Hammond, Theodore Groves, Jean-Francois Pittet, David Stuart, Phokion G. Kolaitis, Laura Serwer, Mengfei Chen, Kenneth Feer, (2010) &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000289&quot;&gt;10.1371/journal.pbio.1000289&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/02/17/thursday-4.html"/>
   <updated>2011-02-17T23:55:56+00:00</updated>
   <id>/02/17/thursday-4</id>
   <content type="html">&lt;p&gt;Mostly working on manuscript revisions throughout this week.  Haven’t really learned to integrate this workflow into the notebook.  In some ways it makes more sense not to, as it interrupts the flow of the research description.  But then it looks like I’m not doing anything when I have nothing meaningful in the entry.  Perhaps I should just put a heading saying “Writing.”&lt;/p&gt;
&lt;h2 id=&quot;mornings-reading-reproducible-research&quot;&gt;Morning’s reading:  Reproducible Research&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5052/5458617811_7cc1c32510_o.png&quot; /&gt; Victoria Stodden &lt;a href=&quot;http://blog.stodden.net/2011/02/15/letter-re-software-and-scientific-publications-nature/&quot;&gt;highlights&lt;/a&gt; the Journal of Biostatistics approach to Reproducible Research.  They have an Associate Editor of reproducibility who marks published papers with D, C, and/or R to indicate that they include all the data, all code, or an R if the AER successfully executes the code on the data to reproduce the results.(Peng, 2009).  The system is purely optional, but visible which papers do and do not attempt to comply.  For instance, the image shows an example of a paper making the R stamp(Lee &lt;em&gt;et. al.&lt;/em&gt; 2009)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-work&quot;&gt;Other work&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Discussing web platforms for student2student program with Nick &amp;amp; Sarah – a website to help connect K12 teachers and with graduate student outreach efforts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing-and-revisions&quot;&gt;Writing and Revisions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Received Peter’s revisions for phylogenetics manuscript.  Peter was able to grab the manuscript from git, make his edits and send me a git link to his repository, and I could easily merge the changes into my copy.  Would be better if I used more line-breaks, rather than writing each paragraph without a linebreak, since the diff files display line-by-line changes.  But otherwise, a very smooth process.&lt;/li&gt;
&lt;li&gt;Capturing workflow on the manuscript is better done through the git log then through the notebook, i.e. for this paper:&lt;/li&gt;
&lt;/ul&gt;
&lt;embed src=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commits/master/writeups/likelihoodRatio/likelihoodRatio.tex&quot; width=&quot;100%&quot; height=&quot;400&quot;/&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Peng R (2009). “Reproducible Research And Biostatistics.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp014&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lee D, Ferguson C and Mitchell R (2009). “Air Pollution And Health in Scotland: A Multicity Study.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp010&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp010&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Weds & Framing warning signals manuscript</title>
	 <link href="/2011/02/16/weds-framing-warning-signals-manuscript.html"/>
   <updated>2011-02-16T23:56:41+00:00</updated>
   <id>/02/16/weds-framing-warning-signals-manuscript</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting-10a&quot;&gt;Alan Meeting, 10a&lt;/h2&gt;
&lt;p&gt;Good meeting discussing warning signals manuscript details and organization.  Particularly on the best way to present  some of the major conceptual and semantic elements: there are many ways to describe the same thing, each of which carries a lot of semantic baggage.&lt;/p&gt;
&lt;p&gt;Do we choose to present this as:&lt;/p&gt;
&lt;h4 id=&quot;as-hypothesis-testing&quot;&gt;As Hypothesis Testing&lt;/h4&gt;
&lt;p&gt;Null = isn’t a loss of stability (distribution produced by the MLE model of no stability loss), hypothesis = there is (distribution produced by, MLE model with stability loss) determine p value for falsely rejecting the null and the power of the statistical test.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Advantages: familiar framework, though heavily misunderstood.  For instance, the existing warning signals literature uses correlation tests on the windowed averages of the warning signal statistics.  Only the&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Problems with this approach:  Seen as old-school.  Often misunderstood.  Used incorrectly in the current approaches – they test a null that points are uncorrelated, having generated each of those points from overlapping windows in the same data set (which is also a time series!)  Somehow those using information-criteria based model choice imagine they are working in a different statistical paradigm by not attempting to quantify error.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;as-model-choice&quot;&gt;As Model Choice&lt;/h4&gt;
&lt;p&gt;Comparison of nested models – stability loss has an extra parameter for the rate of decay.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Can be expressed as information criteria or likelihood ratio tests, (distribution of LR isn’t chi-squared since loss of stability model is restricted to only decreasing values, so null model is at the limit of parameter range).  IC don’t quantify the probability of error we are trying to illustrate.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Might compare Bayesian framework: we would compare posterior odds, or reversible jump across models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So, some discussion of whether it was going to be necessary to mention information criteria performance at all, and if so, where (intro/body vs methods/supplement?)  Alan suggests emphasizing.  More to juggle in the intro&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;model-adequacy-goodness-of-fit&quot;&gt;Model Adequacy / Goodness of Fit&lt;/h4&gt;
&lt;p&gt;Perhaps “Model Adequacy” is the best way to describe this, if only because it is already used(Sullivan &amp;amp; Joyce, 2005) in describing parametric bootstrap approach.  References Goldman (1993)Goldman, 1993 in which this is done following Cox 1961/62, but as a model adequacy test in the following way:&lt;/p&gt;
&lt;p&gt;The focal model (whose “adequacy” we wish to test) is treated as the null, and the arbitrarily general model is treated as the test model (ironically it is the test model, not the null model, which is being used as the benchmark).  Goldman specifies the most unconstrained model for the phylogenetic inference from alignment data that still has i.i.d. sites.  Then adequacy is assessed then by whether or not the observed ratio falls in the tails of the distribution.&lt;/p&gt;
&lt;p&gt;This test of adequacy does not seem the sense in which Cox  (1962) originally proposed the method, which was more along the lines of our general model test.  Other work(McLachlan, 1987) has also applied the approach in the model selection sense that we use it, rather than Goldman’s test of adequacy.&lt;/p&gt;
&lt;p&gt;Note that none of the proposed methods simulate under the test distribution.&lt;/p&gt;
&lt;h4 id=&quot;as-data-adequacy&quot;&gt;As Data Adequacy&lt;/h4&gt;
&lt;p&gt;Because we simulate under both models, we have the unique ability to emphasize how likely we are to be able to distinguish between the models being compared.&lt;/p&gt;
&lt;p&gt;Each of the statistical paradigms described above set model choice decisions (the null model should only be rejected at certain probability, the better model should trade off complexity of added parameters, etc).  It is the role of management to trade off between the risk of false alarm and the risk of undetected events.  Our approach provides the relative rates of each kind of error given the data and leaves this choice to the decision-maker.  Further, it provides a clear illustration of how these error rates depend on the amount of data available – another key facet absent from the standard emphasis.  For this reason it’s tempting to emphasize this as a different framework, though any might be used (despite the fact that many of the above are used incorrectly).&lt;/p&gt;
&lt;h2 id=&quot;manuscript-notes&quot;&gt;Manuscript Notes&lt;/h2&gt;
&lt;p&gt;Considering best way to phrase the warning signals approach&lt;/p&gt;
&lt;p&gt;Present as a Simulation-study style study vs methodological style (non-parametric bootstrapping)?&lt;/p&gt;
&lt;p&gt;Focus on difference between summary statistic vs a full likelihood approach, or focus on estimating error rates and having sufficient information to tell (regardless of the statistic)?&lt;/p&gt;
&lt;p&gt;Current paper uses the former of both, following the outline&lt;/p&gt;
&lt;p&gt;(detection has risks &amp;amp; limits)&lt;/p&gt;
&lt;p&gt;(exist != detection)&lt;/p&gt;
&lt;p&gt;(Explains detection problem)&lt;/p&gt;
&lt;p&gt;(Simple = General: Introducing the theory)&lt;/p&gt;
&lt;p&gt;(summary statistics no substitute for the full data)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5055/5411537354_6583bfc4a6_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5172/5406203293_6d756a27d4_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5260/5411625926_2f8fb084b2_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sullivan J and Joyce P (2005). “Model Selection in Phylogenetics.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.ecolsys.36.102003.152633&quot;&gt;http://dx.doi.org/10.1146/annurev.ecolsys.36.102003.152633&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McLachlan G (1987). “on Bootstrapping The Likelihood Ratio Test Stastistic For The Number of Components in A Normal Mixture.” &lt;em&gt;Applied Statistics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 00359254, &lt;a href=&quot;http://dx.doi.org/10.2307/2347790&quot;&gt;http://dx.doi.org/10.2307/2347790&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Citation tools & Future of Publishing</title>
	 <link href="/2011/02/16/citation-tools-future-of-publishing.html"/>
   <updated>2011-02-16T23:04:50+00:00</updated>
   <id>/02/16/citation-tools-future-of-publishing</id>
   <content type="html">&lt;p&gt;There has been a lot of rapid development in scientific tools based on a Wordpress platform recently, perhaps spurred in part by the recent &lt;a href=&quot;https://sites.google.com/site/beyondthepdf/&quot;&gt;Beyond-the-PDF&lt;/a&gt; and &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/01/11/having-fun-with-citations-at-scienceonline2011/&quot;&gt;sessions in Science Online&lt;/a&gt; conferences.  A new &lt;a href=&quot;https://groups.google.com/forum/#!forum/wordpress-for-scientists&quot;&gt;discussion group&lt;/a&gt; has emerged around these tools, &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/02/04/discussing-wordpress-for-scientists/&quot;&gt;as described by Martin Fenner&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I have been exploring better tools for citation management within my lab notebook. Recently I have been using the &lt;a href=&quot;http://wordpress.org/extend/plugins/papercite/&quot;&gt;papercite plugin&lt;/a&gt;to add citations from my BibTeX files, which are generated from Mendeley, as I &lt;a href=&quot;http://www.carlboettiger.info/archives/570&quot;&gt;described earlier&lt;/a&gt;.  This has a few performance issues on server load and memory, and a somewhat limited format/appearance options, but more importantly lacks some of the features of being developed in these other citation packages.&lt;/p&gt;
&lt;p&gt;To begin, see Martin’s very compelling piece on  &lt;a href=&quot;http://blogs.plos.org/mfenner/2010/12/11/citations-are-links-so-where-is-the-problem/&quot;&gt;citations are links&lt;/a&gt;.  Certainly a link (&lt;em&gt;i.e.&lt;/em&gt;, to the pdf article) can be  _part _of a citation, but there’s a lot that can be done once we start thinking of the citation itself as a link.  Wordpress has a nice interface to handle and organize links, which until now has mostly puzzled me as a overdeveloped blogroll.  The &lt;a href=&quot;http://wordpress.org/extend/plugins/bibtex-importer/&quot;&gt;Import BibTeX&lt;/a&gt; plugin can read my bibliography files and transform each citation into a link in the Wordpress interface, attaching categories corresponding to the source type and to tags I add, (such as to which Mendeley collection the article belongs).  Then the &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/&quot;&gt;Link to Link&lt;/a&gt; plugin makes it easy to search and insert these references into my posts.  Currently this can’t be done using the bibtex keys, which is a minor bother.&lt;/p&gt;
&lt;p&gt;Here’s where things start to get more interesting.  The links can embed machine-readable semantic information that adds meta-data to the citation, such as if the citation provides background, methods, supports or disagrees with a claim being made.  This can be made visible to the user, but more interestingly this can also be tracked by a computer, which allows for the generation of much more detailed citation statistics.  A standard Citation Typing Ontology has been developed and described by David Shotton[cite source=‘doi’]10.1186/2041-1480-1-S1-S6[/cite] and &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/02/14/how-to-use-citation-typing-ontology-cito-in-your-blog-posts/&quot;&gt;CiTO is now implemented&lt;/a&gt;in Link to Link code.  While Link to Link seems to have the 10 most common citation types, the ontology provides many more, as listed in the  &lt;a href=&quot;http://imageweb.zoo.ox.ac.uk/pub/2009/citobase/cito-20091124-1.4/cito-content/owldoc/&quot;&gt;CiTO types&lt;/a&gt; documentation.&lt;/p&gt;
&lt;p&gt;Finally, the automatic bibliographic information is displayed by the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;Kcite&lt;/a&gt; plugin, currently using the DOI or PMID, which integrates with the Link to Link code.  Having installed both plugins and checked the configuration boxes in link to link which allow it to use the kcite shortcode and CiTO syntax, I’m able to highlight some text, select the citation through the search box opened by clicking the Link to Link icon and have it automatically insert the Kcite shortcode using the DOI:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[cite source=&amp;#39;doi&amp;#39; rel=cito:cites]10.1186/2041-1480-1-S1-S6[/cite]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;At the moment this doesn’t quite work as it seems the rel=cito text disrupts the kcite intepretation of the shortcode.  Without this it renders correctly.&lt;/p&gt;
&lt;p&gt;Note that in general Link to Link with CiTO works with anything with a URL, and will still embed the CiTO information in the link if no DOI is available, just not add the kcite bibliography.&lt;/p&gt;
&lt;p&gt;Also not sure why the kcite bibliography includes the link to the json format, seems it shouldn’t display this.  Still active discussion on the mailing list on these topics, and it’s been quite impressive to see how fast development has been moving on these so far.&lt;/p&gt;
&lt;h3 id=&quot;things-id-like-to-see&quot;&gt;THings I’d like to see&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;How to expose/search CiTO meta-data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;kcite option for citing by (Author,year) footnote text, not just by number, like so [1].&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Basic fixes: Kcite currently errors with the rel=cito:cites text.  Should at least ignore that text until support is built in for CiTO.  Apparently link2link should be rendering this with quotes: rel=cito:‘cites’.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;toggle json display.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;why-store-citations-in-a-link-library-in-wordpress&quot;&gt;Why store Citations in a link library in Wordpress?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Link2Link requires uploading Bibtex file to add the reference to wordpress link library.  Mendeley automatically generates the bibliography – would be great if this could be automatically placed online (i.e. by dropbox) and read in by Wordpress rather than having to manually update.  Having to import bibtex every time I add a new article, and then search for the added article via link2link, is rather inefficient.  Can merely grab the doi from Mendeley and insert with kcite.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The most obvious advantage of having the references in the Wordpress link library is the ability for link2link to search them and grab the DOI, though searching Mendeley for the DOI is just as easy.  So why else would this be useful?  A few thoughts:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The link library allows for adding semantic markup to the link, though currently Wordpress  does this only for &lt;a href=&quot;http://codex.wordpress.org/Defining_Relationships_with_XFN&quot;&gt;XFN&lt;/a&gt; (XHTML Friends Network), designed to describe people.  Having CiTO directly in the link editor beside XFN would be nice, though not particularly more functional.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Potential to use blogroll functions of wordpress to display the library listed in the links, though in general Mendeley groups seem a much more powerful way to do this.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Data Mangement on UC3 Merritt Repository</title>
	 <link href="/2011/02/16/data-mangement-on-uc3-merritt-repository.html"/>
   <updated>2011-02-16T19:06:11+00:00</updated>
   <id>/02/16/data-mangement-on-uc3-merritt-repository</id>
   <content type="html">&lt;p&gt;I’ve been trying to learn a little more about the potential for data management solutions through the &lt;a href=&quot;http://www.cdlib.org/services/uc3/merritt/index.html&quot;&gt;UC3 Merritt repository&lt;/a&gt;, and decide how this compares to commercial alternatives such as Amazon S3, Picasa/Flickr (obviously for images only), and field-specific and publication specific repositories such as Dryad.  Merritt email support have been very helpful in answering my questions and concerns.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Persistence&lt;/strong&gt;:  of the data itself, of the  URLs &amp;amp; object identifiers, of access to the data?  Not surprisingly they have standard redundancy backup procedures for archival standards in place.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Object identifiers&lt;/strong&gt;:  UC3 also provides DOIs for objects which can be purchased independently of archiving in the Merritt repository and are indexed in Web of Science.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cost and pricing structure&lt;/strong&gt;: $1040/Tb/year, prorated for how much storage you actually use.  No charge for upload/download, unlike S3.  &lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/index.html&quot;&gt;EZID&lt;/a&gt; for DOIs are separate charge:  Annual charge unlimited number of DOIs: $75/user, $375/group, or $1,125 for whole university&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;The Good:&lt;/strong&gt; An institutional repository seems like a safer bet than an Internet business, even if it’s as large as Amazon or Google.  After all, the UC’s have been around a lot longer.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Not-So-Good&lt;/strong&gt;: The big concern for me here is that this is guaranteed (both for IDs and for data itself) only as long as you are (or someone else is) paying the annual fee.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Other Concerns:&lt;/strong&gt; Can I automate script to upload, download, and embed data?  The wealth of tools available for Flickr or Github through the user-extensible API makes it very easy to integrate these repositories into my workflow.  I am still unclear how easy this would be with the UC3 archiving services.&lt;/p&gt;
&lt;p&gt;Still promising: The staff recognize these challenges, particularly in their contrast to the standard short-term grant-based funding model of science and in working with the research institutions for support covering these costs.  Further, it seems the details aren’t set in stone yet, but are an evolving part of the system:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s a tough question for which we don’t have a comprehensive answer at the moment. Our fee model does not match up well with the funding model of grant projects–our costs are ongoing, our accounting rules prohibit us from carrying funds across fiscal years, yet our customers may have funding for only a limited time period.  We want to partner with organizations committed to the long-term preservation of their digital content. We would work with our partners to find new organizational homes if their commitment changed, due to changes in funding and priorities. This isn’t really an answer, other than to say that we view the relationship as a partnership, and we want to help our partners succeed in their goals for long-term preservation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;–Merritt helpdesk.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
	 <link href="/2011/02/15/tuesday.html"/>
   <updated>2011-02-15T23:20:18+00:00</updated>
   <id>/02/15/tuesday</id>
   <content type="html">&lt;p&gt;In at 8:30.  10a and still getting through Google Reader journals, emails.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finished up yesterday’s entry and posted.&lt;/li&gt;
&lt;li&gt;Exploring some of the new developments in Wordpress for scientists.   Some trouble with the link2link code interfacing with kcite.  No luck yet on mathjax: renders the shortcode instead of the equations, i.e &lt;span class=&quot;math&quot;&gt;\(dx = \sigma d B_t\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;NIMBioS workshop inquiry: Offering a workshop on HPC in R, I was curious about the scope and depth of the workshop.  Sounds like it aims at getting researchers to move R code from desktop level to running on&lt;a href=&quot;http://rdav.nics.tennessee.edu/&quot;&gt;RDAV Kraken&lt;/a&gt; through NSF’s teragrid.  Still not quite clear on what functions or tools this involves teaching (R packages?  basic server access/bash/ssh etc?)&lt;/li&gt;
&lt;li&gt;Working out final plans for &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Data Management Workshop&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Merritt databases inquiries, see my &lt;a href=&quot;http://www.carlboettiger.info/archives/1019&quot;&gt;notes here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;And back to writing on the warning signals paper…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;cpb-seminar&quot;&gt;CPB Seminar&lt;/h2&gt;
&lt;p&gt;Student Dave Harris on ecological niche modeling, including  interactions and phylogenetic information with GLM approach. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday</title>
	 <link href="/2011/02/14/monday.html"/>
   <updated>2011-02-14T23:37:00+00:00</updated>
   <id>/02/14/monday</id>
   <content type="html">&lt;p&gt;Excellent CPB visiting weekend with perspective students Thurs evening - Sunday morning.  Hosting students, etc doesn’t make for much of a research entry Friday.  Catching up with many things today.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.esa.org/austin/call_contributed.php#I&quot;&gt;ESA registration&lt;/a&gt;. Topics, Abstract&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Checking in with Alan&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Data workshop: create &amp;amp; post advertisement, &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;map out subject areas&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://bit.ly/hMuxi1&quot;&gt;Reading: Syst Bio issue&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated pubmed author alerts&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Checking in with Peter &amp;amp; Graham on revisions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/2011_Workshop&quot;&gt;Bodega Phylogenetics Workshop&lt;/a&gt; planning– check in with Rich and Justen&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phytools.blogspot.com/2011/02/reading-trees.html&quot;&gt;Mentioned&lt;/a&gt; in Liam’s Comparative Phylogenetics Methods blog, to address reading in simmap trees.  Liam’s keeping an impressively thorough but readable development log on his blog, worth following the progress on this particular challenge of reading in the full stochastic character mapping information from Newick format trees.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Contact Jeff for GTC, check AV equipment&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSGF reimbursements: ESA registration, Evolution, ievobio, SICB registration, hotels, flights.  Bodega&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;deep-lab-meeting&quot;&gt;DEEP lab meeting&lt;/h3&gt;
&lt;p&gt;Nick lured most of the Hastings lab to DEEP group meeting discussing &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;Mumby, Hastings &amp;amp; Edwards 2007&lt;/a&gt;, but instead presented on some of the questions he is investigating in quantifying the phylogenetic diversity of zooxanthellae coral symbionts.  First called our attention to a somewhat strange statistic of ‘flexibility’ summing weighted differences in substitutions across a fast and slow gene.  Discussed more natural methods predicated on an ultrametric tree – Peter proposed a common metric of distance which Erik Matsen has a fast algorithm for calculating. Gives distances  between tree distributions but not a baseline (is basically amount of work required to transform one distribution into the other through movements along the tree.  Discussed whether there was a meaningful null baseline (such as equal splits of probability coming up from the root.  Sebastian also proposed cumulative branch length as a possible metric, discussion was still in high swing when I had to leave for 5pm meeting.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
	 <link href="/2011/02/10/thursday-2.html"/>
   <updated>2011-02-10T17:00:44+00:00</updated>
   <id>/02/10/thursday-2</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Organizing for &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Future of Data workshop&lt;/a&gt;.  Confirming time/room booking, etc.  Science makes open access a special issue on &lt;a href=&quot;http://www.sciencemag.org/site/special/data/&quot;&gt;Dealing with Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Hosting visiting prospective CPB student, scheduling events.&lt;/li&gt;
&lt;li&gt;Going over edits questions with Peter R. on phylogenetics manuscript.&lt;/li&gt;
&lt;li&gt;Editing/pruning plugins – starting to choke my Wordpress hosting.  Folks at DreamHost have been very helpful, hopefully no key plugins are off. Apparently deactivating doesn’t necessarily prevent plugin from contributing to the memory load. papercite is now off, ok since migrating to M. Fenner’s system anyway.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Still To Do&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Revisions on lambda section significance, send manuscript to Brian&lt;/li&gt;
&lt;li&gt;PMC for Laser simulations – what’s going on with “a” estimate and wide uncertainty&lt;/li&gt;
&lt;li&gt;Peter’s question applied to bootstraps over trees (say, dist generated from bd simulation) vs parameter bootstraps of sigma vs stochastic mapping.  (email Peter back too about parameter bootstraps)&lt;/li&gt;
&lt;li&gt;Alan manuscript: both conceptual figures, methods section&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic Monte Carlo for the Laser package</title>
	 <link href="/2011/02/09/phylogenetic-monte-carlo-for-the-laser-package.html"/>
   <updated>2011-02-09T18:17:54+00:00</updated>
   <id>/02/09/phylogenetic-monte-carlo-for-the-laser-package</id>
   <content type="html">&lt;p&gt;Laser simulations: First ensuring example has expected behaviour, can in general get the expected likelihood differences between fits of Yule and birth-death models.&lt;/p&gt;
&lt;p&gt;Estimated models had been appearing identical in the runs (on left), seems to have been a bug.  Distributions appear roughly the same across different tree sizes and values of death rate.  General pattern of likelihood tests is reminiscent of the lambda models: high variability in likelihood ratios under bd simulations relative to the pure-birth simulations.  Needs further exploration&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5252/5431596429_00c6592c62_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5052/5431604457_21d4aa790f_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;looking-at-parameter-estimation&quot;&gt;looking at parameter estimation&lt;/h2&gt;
&lt;p&gt;(a la lambda estimation)&lt;/p&gt;
&lt;p&gt;Left: r = b-d, should be easy to estimate.   Surprised by tendancy to overestimate: r should be near 1-0.5=.5.  Right, a = d/b, should be harder to estimate, but uncertainty seems small.  However, note it greatly underestimates the true value of a=0.5 .&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4110/5432286552_21878947e5_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5299/5432286138_3e6f76e6c6_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Estimates of d tend to be high (left), though estimates of birth seem reasonable? (right)&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]http://www.flickr.com/photos/cboettig/5431673885/[/flickr]&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]http://www.flickr.com/photos/cboettig/5431671921/[/flickr]&lt;/p&gt;
&lt;p&gt;Pure-birth model estimates seem reasonable.&lt;/p&gt;
&lt;p&gt;[flickr size=“small”]http://www.flickr.com/photos/cboettig/5432281984/[/flickr]&lt;/p&gt;
&lt;h2 id=&quot;code-progress&quot;&gt;Code progress&lt;/h2&gt;
&lt;p&gt;Added parameter plotting routine (currently in demo code) and  functions for handling of parameter bootstrap plotting.&lt;/p&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;p&gt;the loglik function should have the option to recalculate likelihood, not just lookup the value attached to the fit object.  The likelihood functions are rather buried in laser though.&lt;/p&gt;
&lt;p&gt;For some reason bd.taxa.sim doesn’t behave properly on wiglaf.&lt;/p&gt;
&lt;p&gt;diversitree, brownie.light, error estimates over trees vs over bootstrapping.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Why ONS? From a discussion with friends</title>
	 <link href="/2011/02/08/why-ons-from-a-discussion-with-friends.html"/>
   <updated>2011-02-08T14:36:19+00:00</updated>
   <id>/02/08/why-ons-from-a-discussion-with-friends</id>
   <content type="html">&lt;p&gt;I agree that the key is open data, and it really only helps if that data is discoverable, and better if it’s in a central repository. The open notebook community is pretty focused on figuring out ways to automate and link the data from the notebook. For instance, many solubilities recorded for chemicals given in wikipedia automatically link to the open notebook entries describing the experiment wherein the data was collected, check out &lt;a href=&quot;http://en.wikipedia.org/wiki/Benzoic_acid&quot; class=&quot;uri&quot;&gt;http://en.wikipedia.org/wiki/Benzoic_acid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are lots of other reasons though.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Ensuring that key results are reproducible. Papers need to be linked to their data, and the data to the notebook.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Notebook is a great learning tool. I’ve learned how others keep and organize notes, and what software tools they use that facilitate this through their open notebooks. New students in my department read my notebook to learn how to get started &amp;amp; get organized for research, particularly theorists where the work is less structured.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Standardization: Because I learn what tools and conventions others use to keep notes, record and link data, the approaches I use are more standardized than everyone having a secret custom solution.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Null results: People also don’t have time to publish null results, which wouldn’t be such a problem if it were in the notebook.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Publications are slow. I know what groups are working on interesting problems in my field from conferences before I see their papers, but the notebook would make it instantaneous.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avoid needless repetition: Lots of labs waste effort doing the same thing as another group, trying to beat them to the punch. That’s a waste of tax money – why work on a question if someone else will be able to answer it if you just sit back and wait?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Good for collaborators – Has helped me find collaborators, keep them updated on my work, and get feedback.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Good for my advisors – easy for them to see what I’m working on&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Catch and correct mistakes – I make fewer mistakes because I’m more careful knowing it’s public, but others also point out when I make mistakes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Better motivation – I feel pressured to get things done fast and well because my tardiness or sloppiness would be visible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Increase my impact/name recognition – My notebook is better read and better referenced/linked to/quoted than either of my publications. Why? I don’t know, but their are lots of journals, but not lots of notebooks; because my notebook is a web-native object that is open and easy to discover and access, because open notebooks are controversial and hence interesting to discuss.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;the-social-lab-notebook&quot;&gt;The Social Lab Notebook?&lt;/h1&gt;
&lt;p&gt;I’m a theorist.  A student.  An ecologist.  I work with ideas.  I also conduct experiments – the numerical kind.  Theoretically, these are perfectly replicable, all the way down to the random number generation.  In practice: not so much.  I develop code. I’m fortunate to build my code upon a rich set of general purpose ( = quite well developed and documented) and highly specialized (= buggy) open source tools.  The code implements methods I invent.  That’s my “academic” contribution – the ideas.  That’s what counts.  It requires some math.  It requires big computers.  It requires an understanding of the scientific questions, and how to translate them into the language of math and computers.&lt;/p&gt;
&lt;p&gt;I was never taught to keep a notebook – the cost of not being in a wet lab.  Tracking the different elements of this process is something of a challenge.  Good tools exist to track&lt;/p&gt;
&lt;h3 id=&quot;discussion-ideas&quot;&gt;Discussion ideas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Use dedicated tools for scientists or general purpose tools?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How do you document the thoughts behind the process?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scalable research model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sharing&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;scale&quot;&gt;Scale&lt;/h3&gt;
&lt;p&gt;Read. Do. Write. Reading about what’s being done and writing up what has been done appear to compete with doing science. Can we integrate these processes through tools such as a social lab notebook? Avoid lag &amp;amp; limited reporting.&lt;/p&gt;
&lt;h3 id=&quot;communication&quot;&gt;Communication&lt;/h3&gt;
&lt;p&gt;The academic journal was a big breakthrough in scientific communication.  Before then, when you discovered something of significant interest, you had to sit down and write a letter to any  colleague who didn’t work down the hall, explaining what you had done.  Then they might read your letter to some of their colleagues.  If you were lucky, this might be at  a meeting of many scientists, such as the Royal Society of London, and you wouldn’t have to write them all separately.  Then in 1665, the Royal Society published those letters so they could be read by those who couldn’t be there in person – significantly advancing the ease and speed at which scientific knowledge was disseminated.  345 years later, little has changed.   We have more journals, and consequently spend more time figuring out which letters go in which journals, but the pulse and scale of the scientific enterprise remains set by the beating of these organs.&lt;/p&gt;
&lt;p&gt;(Several studies have shown most submissions that are rejected are eventually published elsewhere:) Wijnhoven, B. P. L., &amp;amp; Dejong, C. H. C. 2010. Fate of manuscripts declined by the British Journal of Surgery. &lt;em&gt;British Journal of Surgery&lt;/em&gt; 97: 450-454. &lt;a href=&quot;http://dx.doi.org/10.1002/bjs.6880&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.1002/bjs.6880&lt;/a&gt; McDonald, R. J., Cloft, H. J., &amp;amp; Kallmes, D. F. 2009. Fate of Manuscripts Previously Rejected by the American Journal of Neuroradiology: A Follow-Up Analysis. &lt;em&gt;American Journal of Neuroradiology&lt;/em&gt; 30: 253-256. &lt;a href=&quot;http://dx.doi.org/10.3174/ajnr.A1366&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.3174/ajnr.A1366&lt;/a&gt; Groves, T. 2009. Nine in 10 articles rejected by NEJM appear in another journal. &lt;em&gt;BMJ&lt;/em&gt; 339: b3777. &lt;a href=&quot;http://dx.doi.org/10.1136/bmj.b3777&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.1136/bmj.b3777&lt;/a&gt; Hall, S. A., &amp;amp; Wilcox, A. J. 2007. The Fate of Epidemiologic Manuscripts: A Study of Papers Submitted to Epidemiology. &lt;em&gt;Epidemiology&lt;/em&gt; 18: 262-265. &lt;a href=&quot;http://dx.doi.org/10.1097/01.ede.0000254668.63378.32&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.1097/01.ede.0000254668.63378.32&lt;/a&gt; Liesegang, T. J., Shaikh, M., &amp;amp; Crook, J. E. 2007. The outcome of manuscripts submitted to the American Journal of Ophthalmology between 2002 and 2003. &lt;em&gt;American Journal of Ophthalmology&lt;/em&gt; 143: 551-560. &lt;a href=&quot;http://dx.doi.org/10.1016/j.ajo.2006.12.004&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.1016/j.ajo.2006.12.004&lt;/a&gt; Opthof, T., Furstner, F., van Geer, M., &amp;amp; Coronel, R. 2000. Regrets or no regrets? No regrets! The fate of rejected manuscripts. &lt;em&gt;Cardiovascular Research&lt;/em&gt; 45: 255-258. &lt;a href=&quot;http://dx.doi.org/10.1016/s0008-6363%2899%2900339-9&quot; class=&quot;uri&quot;&gt;http://dx.doi.org/10.1016/s0008-6363(99)00339-9&lt;/a&gt; Cronin, B., &amp;amp; McKenzie, G. 1992. Documentation note: the trajectory of rejection. &lt;em&gt;Journal of Documentation&lt;/em&gt; 48: 310-317.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Notes during revisions on phylogenetics manuscript</title>
	 <link href="/2011/02/08/notes-during-revisions-on-phylogenetics-manuscript.html"/>
   <updated>2011-02-08T13:47:10+00:00</updated>
   <id>/02/08/notes-during-revisions-on-phylogenetics-manuscript</id>
   <content type="html">&lt;p&gt;I have made the revisions to attempt to address Graham’s annotations and Peter’s comments. (revisions are also up on the git repo.)   I have added a brief section introducing the models immediately after the introduction. I also rewrote more of the PMC method to include definitions of p and power in the context of comparing model likelihood ratios. I moved the AIC section up before I talk about the other comparisons. How does this whole section work overall where I use a different comparison of models to discuss a different issue/phenomena anyway? Recall I use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;OU.3 v OU15&lt;/strong&gt;: illustrate AIC problem (though I illustrate this in all four comparisons). clearly prefers the simpler model (why does that seem strange that this has good power? the models are very different)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;BM v OU.3:&lt;/strong&gt; Quantify model choice, p &amp;amp; power. Prefers complex model.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;OU.3 v OU.4&lt;/strong&gt;: how to compare non-Nested models. Prefers simpler model (just).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;BM v OU.1:&lt;/strong&gt; too limited by power to tell&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some issues/questions remaining:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;I’d still appreciate any comments on the organizational structure.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I also think we need to give a bit more attention to the figures – do we have the right number of figures, or is there something we should add? Curves shaded to indicate the definitions of p and power? Should they be presented in the 2x2 panels or separately? How would you revise the conceptual figure?  Parameter distributions?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Last paragraph describing PMC before the Anoles example is a bit of a grab-bag of details, I don’t know what should be included and what shouldn’t, could definitely use more advice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let me know if there are any parts either of you would prefer to write&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I’d just like to chat briefly about the statistical interpretations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Do we have adequate references?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;stats-refining-language&quot;&gt;Stats: Refining language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;estimator vs statistic?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define: choosing the wrong model. One selects models based on AIC. Information-criteria based model choice doesn’t “fail to reject the null model” because it doesn’t consider a model as a null.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MLE is biased estimator of &lt;em&gt;expected&lt;/em&gt; likelihood. MLE likelihood is always higher. AIC is motivated as unbiased estimator of expected likelihood (i.e. if estimated likelihood from replicate simulations of process, vs estimating from a single realization, the single realization likelihood estimate will be higher).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;More on comparison to Bayesian approach in Discussion?  Mention earlier?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model choice of fixed parameters; when frequentist interpretation doesn’t make as much sense: see “&lt;a href=&quot;http://www.carlboettiger.info/archives/386&quot;&gt;Two Questions&lt;/a&gt;” entry.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;meeting-with-graham&quot;&gt;Meeting with Graham&lt;/h3&gt;
&lt;p&gt;Discussing further with Graham this afternoon.  Good brief meeting, covered most of above.  Next steps:&lt;/p&gt;
&lt;p&gt;Revise lambda discussion as to significance of the particular example, discussion of danger in interpreting parameter values estimated with inadequate data.&lt;/p&gt;
&lt;p&gt;Have Brian look over manuscript.&lt;/p&gt;
&lt;p&gt;Tighten up language, explanations, figures, etc.&lt;/p&gt;
&lt;h2 id=&quot;peters-question-on-variation-in-parameter-estimates&quot;&gt;Peter’s question on variation in parameter estimates&lt;/h2&gt;
&lt;p&gt;Discussed estimating standard error of heterogeneous Brownian motion models (Brownie-style) with Peter by repeating MLE estimates over stochastic character mappings and over an ensemble of trees.  What aspects can contribute most to remarkably high variation in estimates?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals & hpc</title>
	 <link href="/2011/02/04/warning-signals-computing.html"/>
   <updated>2011-02-04T18:30:12+00:00</updated>
   <id>/02/04/warning-signals-computing</id>
   <content type="html">&lt;p&gt;Morning has been rather difficult trying to get simulations up and running.  Parallel library isn’t running on zero or one, variety of errors that seemed to be machine dependent and reminiscent of the ~./sfCluster problem, 3 hrs of debugging revealed this was indeed just a bug in my updated code.  (In changing to my object-oriented simulate.gauss and update.gauss functions rather than calling the specific functions directly I hadn’t updated all the function calls).&lt;/p&gt;
&lt;h3 id=&quot;updated-runs&quot;&gt;Updated Runs&lt;/h3&gt;
&lt;p&gt;The comparison between tau curves compares simulations under the case with no loss in stability with the case of gradual loss (same initial stability but adds a gradual loss rate), while the Monte Carlo test compares simulations between models that have both been estimated from the same data set.  The latter two models are more similar, as estimates of constant rate put that constant near the average, whereas the Tau simulations leave it at the initial value of what it assumes in the changing rate model.  (That is, one has the model for the stability parameter $ R(t) = R_0$ while the other has $ R(t) = R_0 + m t$, and in the Tau comparison the $ R_o$ values agree, whereas in the estimation they differ.  )&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-02-04 00:00:00” max_upload_date=“2011-02-06 23:59:59”]&lt;/p&gt;
&lt;h3 id=&quot;writing&quot;&gt;WriTing&lt;/h3&gt;
&lt;p&gt;Have continued quite a bit of writing on the manuscript followed by a very good meeting with Alan.&lt;/p&gt;
&lt;h3 id=&quot;trouble-with-amazon-amis&quot;&gt;Trouble with Amazon AMIs&lt;/h3&gt;
&lt;p&gt;Some trouble with Amazon computing I still haven’t solved.  I go to launch my amazon cloud using my existing AMIs and they don’t exist&lt;/p&gt;
&lt;p&gt;I go to re-add my amazon AMI using&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ec2-register cboettig-private-bucket/image.manifest.xml -n cboettig-ami -C ~/.ec2/cert-H....pem -K ~/.ec2/pk-H...pem --region us-west-1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and I get error&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Invalid or unaccessible kernel id in ami manifest:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Will have to post on the developer forum to see if I can learn what is going on, does not seem that AWS support covers technical questions.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Progress on warning signals</title>
	 <link href="/2011/02/03/progress-on-warning-signals.html"/>
   <updated>2011-02-03T18:30:15+00:00</updated>
   <id>/02/03/progress-on-warning-signals</id>
   <content type="html">&lt;p&gt;Going several directions at once in tweaking the warning signals code to make sure I have clear comparisons that are not resulting from any limitations in the numerical algorithms.  Performing a variety of error checks, etc:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Comparing fixed models vs comparing models estimated from the data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ensure that const model doesn’t attempt to estimate m (doesn’t impact likelihood anyway&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ensure only positive values of sigma are returned (trying use trigger in setLTC and setLSN to return infinite variance if sigma is negative)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tau distributions compare totally separate null and test models, rather than ones both estimated from the same dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Today’s simulations [flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-02-02 00:00:00” max_upload_date=“2011-02-03 23:59:59”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>To podcast or not to podcast university lectures</title>
	 <link href="/2011/02/01/to-podcast-or-not-to-podcast-university-lectures.html"/>
   <updated>2011-02-01T13:27:53+00:00</updated>
   <id>/02/01/to-podcast-or-not-to-podcast-university-lectures</id>
   <content type="html">&lt;p&gt;Today in graduate teaching community we’re discussing the value of podcasts which rapidly becoming the standard expectation of in university lectures.  There weren’t podcasts when I was a student, at least never in the classes I’d taken -though I’ve often wished I had access to complete recordings of my university lectures.  Most wouldn’t be valuable, but some I would still wish to go back to long after the fact, not so much to recall content but to remember the styles and stories my notes fail to capture.&lt;/p&gt;
&lt;p&gt;[bibshow file=Education.bib]&lt;/p&gt;
&lt;p&gt;Caitlin discusses how there is as yet little evidence for or against the value of simply recording lectures on improving student performance, however there is substantial improvement from the use of podcasts as supplemental materials.[bibcite key=Heilesen2010]  Sometimes these are done by the students, sometimes put out by the professor as a weekly introduction or review, sometimes to address the most commonly asked questions in office hours.  The most intriguing example I find is her discussion of math and engineering classes that have used prepared podcast to invert the system of instruction, so that class time is used to solve “homework problems” and home time to listen to the lectures.  Student production also seems particularly valuable.&lt;/p&gt;
&lt;p&gt;Thinking about the value of radio-style story-telling, sharing/reusing  available resources.  (Radiolab and&lt;a href=&quot;http://uctv.tv&quot;&gt;UC TV&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;[/bibshow]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>The Future of Data: Plans for a UC Davis workshop</title>
	 <link href="/2011/02/01/the-future-of-data-preparing-researchers-to-face-new-funding-and-publishing-policies.html"/>
   <updated>2011-02-01T09:40:59+00:00</updated>
   <id>/02/01/the-future-of-data-preparing-researchers-to-face-new-funding-and-publishing-policies</id>
   <content type="html">&lt;p&gt;I have been working with several of the faculty of UC Davis to prepare a workshop for our department to (1) help make our researchers &lt;strong&gt;aware&lt;/strong&gt; of the new requirements for NSF proposals and journal submissions with regard to data archiving, (2) To explore what &lt;strong&gt;new opportunities&lt;/strong&gt; this creates and what &lt;strong&gt;tools&lt;/strong&gt; exist that will help our researchers take maximum advantage of it, and (3) to engage our research community in the discussion of &lt;strong&gt;future standards&lt;/strong&gt; for sharing, standardizing, rewarding and funding the archiving of data.&lt;/p&gt;
&lt;p&gt;I’m very pleased that we have an excellent panel of supportive faculty:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://strong.ucdavis.edu/&quot;&gt;Don Strong&lt;/a&gt;, Editor-in-Chief of &lt;strong&gt;Ecology&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/faculty/holyoak/&quot;&gt;Marcel Holyoak&lt;/a&gt;, Editor-in-Chief, &lt;strong&gt;Ecology Letters&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://phylogenomics.blogspot.com&quot;&gt;Jonathan Eisen,&lt;/a&gt; Editor-in-Chief, &lt;strong&gt;PLoS Biology&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://two.ucdavis.edu/~me/&quot;&gt;Alan Hastings&lt;/a&gt;, founding Editor-in-Chief, &lt;strong&gt;Theoretical Ecology&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/FacultyInfo.aspx?ID_Number=83&quot;&gt;Robert Hijmans&lt;/a&gt;, Asst Professor of Environmental Science &amp;amp; Policy and expert in software infrastructure for reproducible research.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cdlib.org/cdlinfo/2010/05/19/patricia-cruse-digital-preservation-pioneer/&quot;&gt;Trisha Cruse&lt;/a&gt; Director of UC Curation Center at the University of California Digital Library&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We are currently working out the format of the workshop.  The current draft consists of three 1.5hr sessions, progressing through the three main goals above in an interactive format.&lt;/p&gt;
&lt;h3 id=&quot;why-archive&quot;&gt;1) Why Archive?&lt;/h3&gt;
&lt;h5 id=&quot;weds-march-2nd-230-4p-lsa-1022&quot;&gt;(Weds March 2nd 2:30-4p, LSA 1022)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;New &lt;a href=&quot;http://www.cdlib.org/services/uc3/datamanagement/funding.html&quot;&gt;requirements from funders&lt;/a&gt; and publishers.&lt;/li&gt;
&lt;li&gt;Recommended practice: What’s ideal, what’s acceptable, what isn’t?&lt;/li&gt;
&lt;li&gt;Types/levels of archiving.  Why repositories?&lt;/li&gt;
&lt;li&gt;Funding data repositories.&lt;/li&gt;
&lt;li&gt;Access embargoes.  Citing data/getting credit.&lt;/li&gt;
&lt;li&gt;Panel Q&amp;amp;A&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;leveraging-data-archives-logistics&quot;&gt;2) Leveraging data archives: logistics&lt;/h3&gt;
&lt;h5 id=&quot;thurs-march-3nd-230-4p-pes-3001&quot;&gt;(Thurs March 3nd 2:30-4p, PES 3001)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;The major repositories.&lt;/li&gt;
&lt;li&gt;Discovering data.&lt;/li&gt;
&lt;li&gt;Citing data.  Metadata, DOIs, formats, persistent data&lt;/li&gt;
&lt;li&gt;Sharing/archiving code?&lt;/li&gt;
&lt;li&gt;Linked data, ontologies &amp;amp; Semantic web.&lt;/li&gt;
&lt;li&gt;Tools for reproducible research.&lt;/li&gt;
&lt;li&gt;Panel Q&amp;amp;A&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;looking-ahead-new-scale-new-science&quot;&gt;3) Looking ahead: new scale, new science?&lt;/h3&gt;
&lt;h5 id=&quot;fri-march-4nd-230-4p-pes-3001&quot;&gt;(Fri March 4nd 2:30-4p, PES 3001)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Challenges and Opportunities (&lt;em&gt;i.e.&lt;/em&gt; &lt;a href=&quot;http://www.sciencemag.org/content/331/6018/692.short&quot;&gt;&lt;em&gt;Science&lt;/em&gt; issue&lt;/a&gt;,&lt;a href=&quot;http://www.sciencemag.org/content/331/6018/703.short&quot;&gt;&lt;em&gt;Science&lt;/em&gt; re: Ecology&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Integrated databases, standards for data&lt;/li&gt;
&lt;li&gt;Dryad “publication model” vs DataONE model, etc&lt;/li&gt;
&lt;li&gt;Reproducible research&lt;/li&gt;
&lt;li&gt;UC3’s “data publication” concept?&lt;/li&gt;
&lt;li&gt;Future of credit: Will you be scooped or will you be famous?&lt;/li&gt;
&lt;li&gt;What roll we can/should have in shaping future standards, expectations &amp;amp; requirements&lt;/li&gt;
&lt;li&gt;Panel Q&amp;amp;A&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;
&lt;p&gt;See the recent discussion of these issues in &lt;a href=&quot;http://www.sciencemag.org/cgi/doi/10.1126/science.331.6018.692&quot;&gt;Science&lt;/a&gt;, &lt;a href=&quot;http://www.nature.com/doifinder/10.1038/nj7333-295a&quot;&gt;Nature&lt;/a&gt;, &lt;a href=&quot;http://linkinghub.elsevier.com/retrieve/pii/S0169534710002697&quot;&gt;TREE&lt;/a&gt;, &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20073990&quot;&gt;Am Nat&lt;/a&gt;, and elsewhere.   I have started assembling a list of resources in my December notes: _&lt;a href=&quot;http://www.carlboettiger.info/archives/502&quot;&gt;Thoughts on the New Policies for Data Archiving at NSF and in Common Journals&lt;/a&gt;. _In addition, there’s more detail available on the &lt;a href=&quot;https://www.nescent.org/wg_dryad/Main_Page&quot;&gt;Dryad Wiki&lt;/a&gt; and from Dryad here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/depositing&quot;&gt;Depositing Data&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/using&quot;&gt;Using Data&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/partners&quot;&gt;Dryad Partners (Publishers)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/jdap&quot;&gt;Archiving Policy&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some great information also available from UC3:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cdlib.org/services/uc3/datamanagement&quot;&gt;UC3 Data Management Guidelines.&lt;/a&gt; In addition to summarizing the requirements, UC3 is also developing a “TurboTax” tool for data management:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;In the next month or so we are going to roll out a rule based tool that will ask the researcher a series of questions based on the funding organization that are applying to and will generate a Data Management Plan.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://merritt.cdlib.org/&quot;&gt;Merritt Repository services&lt;/a&gt;,  launched in late summer 2010.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/&quot;&gt;EZID Identifier services&lt;/a&gt;:   obtain and manage long-term identifiers (DOI, ARK) for their digital content.  Can assign identifiers to anything: scientific datasets, technical reports, audio files, digital photographs, and non-digital objects as well.  This spring the objects with DOIs  will appear in Web of Science. (Annual charge unlimited number of DOIs: $75/user, $375/group, or $1,125 for whole university)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consultation services: Individual consultation, also more workshops  on data citation, data sharing, and data rights this Fall.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;We have been actively thinking about data and building services that support the management, preservation, and publication of data.  We are just about to embark on a project that will create an Excel add-in that will make it easy to archive, share, and publish data embedded in Excel.  We are also actively involved in the DataONE project.  We recently presented &lt;a href=&quot;http://www.cdlib.org/services/uc3/docs/dax.pdf&quot;&gt;a paper&lt;/a&gt; at the Beyond the PDF workshop at UCSD that outlines some of our ideas surrounding data publication.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;your-input&quot;&gt;Your Input?&lt;/h2&gt;
&lt;p&gt;What would you like to see?  Structure, organization, topics?&lt;/p&gt;
&lt;p&gt;[iframe http://friendfeed.com/science-2-0/e68945dc/i-m-planning-workshop-at-ucdavis-on-future-of?embed=1 480 400]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals: Indicators vs Likelihood continued</title>
	 <link href="/2011/01/31/warning-signals-indicators-vs-likelihood-continued.html"/>
   <updated>2011-01-31T16:49:22+00:00</updated>
   <id>/01/31/warning-signals-indicators-vs-likelihood-continued</id>
   <content type="html">&lt;p&gt;Continuing to explore examples&lt;/p&gt;
&lt;p&gt;Some difficulty in the “snowfall” parallel computation engine, removing the ~/.sfCluster directory seems to reset the error “unable to unserialize nodes…”  Also don’t have good handling of variable names for tracking the boostrapping of parameters.  For the moment have just added a toggle to suppress these to avoid dim mismatch in rownames command.  Strange that this happens to the indicator_vs_likelihood code but not to the nearly-identical call to montecarlotest() in lin_bifur_models.R.&lt;/p&gt;
&lt;p&gt;Various simulation/analyses runs from today: [flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-01-31 00:00:00” max_upload_date=“2011-02-01 8:59:59”]&lt;/p&gt;
&lt;p&gt;trying still-harder-to-detect change (m=-.01) Running right now on zero:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;at nice 15: indicator_vs_likelihood.R&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at nice 19:  indicator_vs_likelihood.R (with more reps?)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at 18: LTC.R&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at 17: LSN.R&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>more Phylogenetic signal metrics & Brownie comparison</title>
	 <link href="/2011/01/31/more-phylogenetic-signal-metrics-brownie-comparison.html"/>
   <updated>2011-01-31T16:31:42+00:00</updated>
   <id>/01/31/more-phylogenetic-signal-metrics-brownie-comparison</id>
   <content type="html">&lt;p&gt;Blomberg’s K estimates on trees of different sizes. Estimates differ across the distribution of possible data generated by BM model and generated from white noise. In principle, the K statistic should be able to distinguish between data simulated between these two. Of course, the ability to do this depends on the size and structure of the phylogenetic tree – Blomberg’s K is not an estimate of whether the phylogeny is sufficiently structured as to be informative.&lt;/p&gt;
&lt;p&gt;Small trees can be unreliable, but larger trees quickly gain substantial separation between the K estimated under the BM vs white-noise simulations.&lt;/p&gt;
&lt;p&gt;The distribution of K statistic under Brownian and white-noise models for a yule-process phylogeny of 20 taxa. &lt;img src=&quot;http://farm6.staticflickr.com/5015/5406205152_e3a1b1f9b6_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Simulated yule trees of increasing size and the power to distinguish between distributions of kappa expected under BM and WN models. Each point is the power at 95% confidence computed from plots like the first one (see Flickr collection for more). &lt;img src=&quot;http://farm6.staticflickr.com/5298/5405605465_665aa4b88f_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/9d332ded36df6816c2e203179f79e00ce8d39e51/pmc/demos/blombergK.R&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Birth-death trees are very twiggy and pretty informative, early-bursting style trees are not. Estimation is harder when tree is stretched a bit (using lambda-transformation) into a less twiggy shape. &lt;img src=&quot;http://farm6.staticflickr.com/5253/5406251752_7cffe2cc69_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-01-31 00:00:00” max_upload_date=“2011-01-31 23:59:59”]&lt;/p&gt;
&lt;p&gt;Example shows power in a statistic that is not also a model parameter.  Might be interesting to repeat with lambda model either for power between lambda and BM or lambda and OU, but also show how distance between statistic and parameter change.  As ABC methods become more prevalent, such analysis between statistic and likelihood become more important.&lt;/p&gt;
&lt;h2 id=&quot;other-topics&quot;&gt;Other topics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Interesting &lt;a href=&quot;https://mailman.stat.ethz.ch/pipermail/r-sig-phylo/2011-January/000923.html&quot;&gt;discussion on r-sig-phylo&lt;/a&gt; today about model choice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should discuss/demonstrate why release of constraint differs from Brownie (variable diversification rate) model. Started testing Liam’s Brownie.lite code and  &lt;a href=&quot;http://phytools.blogspot.com/2010/12/reading-simmap-trees-into-r.html?showComment=1296508405893#c571277624611079904&quot;&gt;read.simmap function.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Notes on Bokma 2010: evolution in drifts and jumps</title>
	 <link href="/2011/01/31/notes-on-bokma-2010-evolution-in-drifts-and-jumps.html"/>
   <updated>2011-01-31T12:15:45+00:00</updated>
   <id>/01/31/notes-on-bokma-2010-evolution-in-drifts-and-jumps</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq029&quot;&gt;Bokma 2010&lt;/a&gt; asks if there is an analytic expression for the likelihood in the evolutionary model he describes.&lt;/p&gt;
&lt;p&gt;The trait value of the process is determined by two things – a Brownian motion random walk (diffusion) with rate parameter $ s_a^2$ and speciation events. Under a speciation event, the trait jumps to a new value that differs from it’s parent’s by some amount chosen from zero-mean normal distribution with variance $ s_c^2$. Speciation events occur as a Poisson process at rate $ $. Species go extinct at rate $ $, terminating the process along that branch.&lt;/p&gt;
&lt;p&gt;First, observe that in the purely speciational case in the limit where $ s_c^2$ is small and $ = 0$, we have a diffusion limit to a Brownian process. However, in Bokma’s model, the branches don’t assume the trait value of their ancestor as their starting point $ x_a$, but draw a random step away from there: $ x_a + N(0, s_c^2)$. This is equivalent to lengthening a branch by a factor of $ s_c^2$ for every node (branching event) it has since its common ancestor. This creates a pattern that is in principle distinguishable from the purely gradual Brownian model. Of course the inference problem faces the difficulty of extinctions such that the number of nodes cannot be known.&lt;/p&gt;
&lt;p&gt;Bokma asks if it is possible to write down the likelihood function for the birth-death parameters and trait parameters. Under the standard BM+birth/death models, these are independent and we have analytic forms for both. In the pure birth model, we can still estimate the likelihoods independently, as the estimated birth rate $ $ does not influence the number of nodes and thus the number of jumps in the cladogenetic evolution. Bokma’s likelihood (eq 2 in the paper) only becomes a challenge when the number of nodes is unknown because of the extinctions. Bokma proposes the ABC approach, simulating realizations of the birth-death process and trait evolution under different values of the parameters and using some distant metric between observed and simulated values in place of the likelihood.&lt;/p&gt;
&lt;p&gt;It seems an efficient analytical approximation would simply assign the expected number of extinction events to be observed along each branch. As there is the same amount of total time in each data point, I first assumed the number of expected cladogenetic events would be the same for each data point, and thus just be a rescaling of the tree. Of course this ignores the information that some have surviving branch events, while others do not – so rather, this would be conditional on the number of branching events already known: The number of ancestral nodes between the tip and the root given the number/position of those that persisted to present day (and the birth &amp;amp; death parameters) can already be estimated from the birth-death likelihood function. This should be known, will have to look it up (conditional probability those lineages haven’t gone extinct and any others born in that time have – just this time it is maximized/varied over events while birth-death parameters are held fixed). Knowing the number of expected events, the branches can be lengthened appropriately by factors of &lt;span class=&quot;math&quot;&gt;\(\sigma_c\)&lt;/span&gt; and then the diversification rate $ _a$ estimated.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals of differing stregths by likelihood and by indicator</title>
	 <link href="/2011/01/28/warning-signals-of-differing-stregths-by-likelihood-and-by-indicator.html"/>
   <updated>2011-01-28T17:59:25+00:00</updated>
   <id>/01/28/warning-signals-of-differing-stregths-by-likelihood-and-by-indicator</id>
   <content type="html">&lt;p&gt;Strong indicator example: m=-0.049, T=100, Ro=5 &lt;img src=&quot;http://farm5.staticflickr.com/4128/5396328748_905705671d_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;And likelihood ratio monte carlo model choice (nonparametric bootstrap) has no trouble: &lt;img src=&quot;http://farm6.staticflickr.com/5097/5396319992_5978a8e101_o.png&quot; /&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5395727335_72ecdd1908_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Less strong stability loss, m=-0.02 &lt;img src=&quot;http://farm6.staticflickr.com/5180/5396518585_75141322be_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;How statistics perform: &lt;img src=&quot;http://farm6.staticflickr.com/5138/5396518355_6ff3beceaa_o.png&quot; /&gt;&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5136/5397114836_59a641380f_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic Signal metrics</title>
	 <link href="/2011/01/28/phylogenetic-signal-metrics.html"/>
   <updated>2011-01-28T17:52:39+00:00</updated>
   <id>/01/28/phylogenetic-signal-metrics</id>
   <content type="html">&lt;p&gt;Blomberg’s K distribution under data simulated from BM on the geospiza tree (red) compared to simulating independent random draws from the Normal distribution.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5256/5396480381_145d947577_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Would be good to compare with differing size trees.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning signals vs model choice</title>
	 <link href="/2011/01/27/warning-signals-vs-model-choice.html"/>
   <updated>2011-01-27T17:11:14+00:00</updated>
   <id>/01/27/warning-signals-vs-model-choice</id>
   <content type="html">&lt;p&gt;Continuing writing and experimentation for examples in the warning signals manuscript, figuring out how to explain the need for  the likelihood-based model comparison approach rather than the standard method of summary statistics.&lt;/p&gt;
&lt;p&gt;The traditional approach computes a particular “leading indicator”, such as variance or autocorrelation, in a sliding window along the time series. If the system is loosing stability approaching a bifurcation, it’s leading eigenvalue must go through zero and hence shows critical slowing down, with the associated pattern of increasing autocorrelation an increasing variance.&lt;/p&gt;
&lt;p&gt;Stating this trend isn’t the same as quantifying it statistically.  What corresponds to an actual increase vs a random fluctuation?  Typical approaches of the literature use a correlation test to check this.  Unfortunately, the time series points aren’t independent, so the null expectation isn’t zero correlation.  In fact, statistically significant correlation is observed in almost every simulation in which no warning signal is present: &lt;img src=&quot;http://farm5.staticflickr.com/4084/5393748789_5a1fc0ae7c_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The tau parameter of Kendall’s correlation test should give some indication of the strength of trend.  By simulating many times from both a null model and a relatively dramatic warning signal model, we see little correspondence between larger tau values and existence of the warning signal:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5140/5394363432_dfb662249a_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Despite the weakness of the leading indicators, these two signals should be quite distinguishable by likelihood:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Likelihood Fits  
&amp;gt; timedep &amp;lt;- updateGauss(timedep_LTC, pars=c(Ro=5, m=0, theta=100, sigma=1), warning, control=list(maxit=1000))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, pars, warning, control=list(maxit=1000))
&amp;gt; llik_warning &amp;lt;- 2*(loglik(timedep)-loglik(const))

&amp;gt; timedep_no &amp;lt;- updateGauss(timedep_LTC, pars, no_warning, control=list(maxit=1000))
&amp;gt; const_no &amp;lt;- updateGauss(const_LTC, pars, no_warning, control=list(maxit=1000))
&amp;gt; llik_nowarning &amp;lt;- 2*(loglik(timedep_no)-loglik(const_no))

&amp;gt; llik_warning
[1] 18.95433
&amp;gt; llik_nowarning
[1] 0.882028&lt;/code&gt;&lt;/pre&gt;
</content>
 </entry>
 
 <entry>
   <title>McElreath: A Bayesian approach to hierarchical modeling, using R to build our own estimator from scratch</title>
	 <link href="/2011/01/26/mcelreath-a-bayesian-approach-to-hierarchical-modeling-using-r-to-build-our-own-estimator-from-scratch.html"/>
   <updated>2011-01-26T17:12:18+00:00</updated>
   <id>/01/26/mcelreath-a-bayesian-approach-to-hierarchical-modeling-using-r-to-build-our-own-estimator-from-scratch</id>
   <content type="html">&lt;p&gt;CPB workshop continues, introduction to Bayesian inference.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5391045675_a98fe0fc33_o.jpg&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;http://xcelab.net/rm/&quot;&gt;McElreath&lt;/a&gt; discusses (slides):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bayes Theorem&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ P(\theta | D) = \frac{Pr(D|\theta) Pr(\theta )}{Pr(D)} \]&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Philosophy of Priors, Uninformative Priors&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Confidence intervals / credible intervals for free&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computing the posterior: Directly or by MCMC&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nice visual example of updating prior as we add data:&lt;/p&gt;
&lt;p&gt;[gist id=“797795”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;King Markov and the chain islands.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Evaluating: Burn in , autocorrelation.  Thinning (saves memory).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metropolis2.R bad mixing.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare better and worse proposal mechanisms, motivates Gibbs Sampling: propose from the posterior, always accepted.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Richard’s code:&lt;/p&gt;
&lt;p&gt;[gist id=“797782”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Intro Ecology Lecture at University of the Pacific</title>
	 <link href="/2011/01/25/intro-ecology-lecture-at-university-of-the-pacific.html"/>
   <updated>2011-01-25T10:12:06+00:00</updated>
   <id>/01/25/intro-ecology-lecture-at-university-of-the-pacific</id>
   <content type="html">&lt;p&gt;I was invited to give a guest lecture on introductory ecology for an introductory environmental science course at University of the Pacific in Stockton today.  This provided both a nice outreach opportunity and a chance to speak to a full introductory class for 1:45hr, which I haven’t done before.&lt;/p&gt;
&lt;p&gt;I ran the class something as an experiment for myself as much as an instruction.  Having spent considerable time thinking more-or-less abstractly about effective teaching strategies with carefully planned lectures, activities, objectives, and assessments, I found myself suddenly at the other end of the spectrum: faced with giving a long lecture covering pretty much my entire field with little time to prepare and only the fuzziest objectives.  Where to start?  Like any other academic, I began by snatching up the textbook.&lt;/p&gt;
&lt;p&gt;Flipping first to the chapter questions, then to the outline, I saw Population growth curves, types of species interactions, nutrient cycles,  some adaptation and evolution.  The questions and emphasis seemed uninspired, as did I.  I wanted to communicate some of the excitement of the field as I saw it – though bouncing a few stories off of my housemates quickly convinced me that natural history stories were going over much better than my attempt to explain why bet-hedging in a stochastic environment was so cool and deliciously counterintuitive. I had no idea how to prepare, other than that I didn’t have the time or interest to create enough slides to fill 1:45hr of facts and information.&lt;/p&gt;
&lt;p&gt;I settled on constructing the talk around Netlogo simulations in hopes of providing some interaction and a more tangible feel for population dynamics.  I went into the lecture with no notes, only a cursory outline, a set of netlogo simulations, and a desire to hit basic concepts of population dynamics as I see them: exponential growth, density dependence and regulation from above and below. The challenge of coexistence to motivate the concept of niches.&lt;/p&gt;
&lt;p&gt;I muddled my way through with questions, examples, stories, and very disorganized board work, and continually suppressing the urge to write equations.  The students were very nice to me - warned that some might have their heads down the whole time and they were apt to be shy, I found many willing to share, vote, or even call out answers.  It was only rather late in the class when another question showed the class divided on the outcome that I asked them to talk to their neighbors – apprehensive that they’d never been asked before.  With hardly a pause, they all began talking.  By the time chatter quieted, most seemed to reach the right answer.  Though I didn’t have clickers, wish I had tried more think-pair-share moments in the class.&lt;/p&gt;
&lt;h3 id=&quot;sketch-of-some-of-the-topics-i-covered&quot;&gt;Sketch of some of the Topics I covered&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5255/5393662406_ca23bea68b_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Simulation of predation.  Began with example of exponential growth:  immortal grass and no wolves.  Explain each sheep gives birth to a new offspring after a certain time interval of grazing, try to guess what the growth curve will look like.  Students quickly pick up on the need for finite resources, and I turn on the grass to show population stablize.  Trying just wolves and sheep (which aren’t easy to get to coexist with infinite grass!)  to illustrate regulation by predation as a another density-dependent mechanism was somewhat less effective – must practice demos! &lt;img src=&quot;http://farm6.staticflickr.com/5140/5393662380_365a94c6df_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I used the simple birth-death simulation to show that equal rates don’t guarantee coexistence.  Perhaps the challenges with the wolf-sheep dynamics already helped illustrate this, but still comes as a surprise to the students.  Not sure if the message of common resources got across, and probably shouldn’t have attempted a discussion of temporal niches.&lt;/p&gt;
&lt;p&gt;From there I moved away from netlogo and into examples of interactions largely through natural history.  Fun storytelling, but without slides and very limited board work, I’m not sure how much was conveyed.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5213/5393662420_e0cefb4a78_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;I closed with the evolutionary story of the pepper moths, a simulation I’m much more familiar with but also one in which I cannot resist calling attention to many of the interesting ecological dynamics it exhibits – Neutral theory, temporal niches, sudden crashes, competing timescales – all of which probably deserved more time than I gave it.&lt;/p&gt;
&lt;h2 id=&quot;general-reflections&quot;&gt;General Reflections&lt;/h2&gt;
&lt;p&gt;Certainly not my best moment; perhaps redeemed more by the interest the students showed than by any knowledge I really imparted.  During a five-minute break (which allowed me to collect my thoughts as much as them to stretch there legs), a student remarked to the regular instructor, Alex Geddes, “now this is getting exciting!”&lt;/p&gt;
&lt;p&gt;From the sections I had taught some kind of lesson on before, I realized how much experience/practice discussing the material helped organize my thoughts and clarity of presentation.  I’ll have to learn to summarize better as I go along, and provide the kind of structure to the ideas that I’ve learned to do in my outdoor ed courses after so many years: “so there’s there’s really three main parts to  X…”&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>McElreath Hierarchical Models</title>
	 <link href="/2011/01/24/mcelreath-hierarchical-models.html"/>
   <updated>2011-01-24T16:03:31+00:00</updated>
   <id>/01/24/mcelreath-hierarchical-models</id>
   <content type="html">&lt;p&gt;CPB workshop on hierarchal modeling starts off today with Richard McElreath’s introduction.[ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.  As these notes are taken directly during seminar (on my droid phone – saves me transcribing, later) , please forgive  typos and shorthand.[/ref]  “This is a workshop, not a job talk, meaning I’m going to give away the tricks and you have to learn something.  For job talks you just show off.”&lt;/p&gt;
&lt;p&gt;Begins with a sample dataset: bloodpressure dist of individuals by city.  Non-hierarchical way: ignore city data, look at all variation of pop, or compare city means.  Hierarchical models will look at both within &amp;amp; between.&lt;/p&gt;
&lt;p&gt;Intro to statistical models $ y N(a + B x, ) $.  Becomes hierarchical if the a’s are also distributed - a model with “more than one level of stochastic sampling.”  Individuals are clustered or have repeat sampling.&lt;/p&gt;
&lt;p&gt;Compares to old approach: fixed (constant) effects (instead of random) each neighborhood gets an id, rather than coming from a distribution.  (Cites Gelman 2005 rant on meanings of random effects.)   We’ll call our stoch approach “varying effects.”  Nice when (a) not enough data or (b) don’t care about identity of division.  Fixed effect makes sense sometimes; groups are genders, or groups are ordered, etc.&lt;/p&gt;
&lt;p&gt;Common types: varying intercepts, varying slopes.  (All code on smartsite, “I didn’t really saw her in half legs were tucked up in the box.”  )  gives lme4 lmer() examples, if both vary, can also covary.&lt;/p&gt;
&lt;p&gt;Considers Bryk schools math achievement data.  Mentions centering data.  Examples of regression.  Robustness testing by changing model structure.&lt;/p&gt;
&lt;p&gt;—- end of in-seminar notes —.&lt;/p&gt;
&lt;p&gt;Nice basic introduction; tomorrow will take us into model fitting by maximum likelihood rest of the week will take us through to Bayesian hierarchical models, MCMC and Gibbs sampling.  Schedule here: &lt;a href=&quot;http://cpb.ucdavis.edu/Workshops.html&quot; class=&quot;uri&quot;&gt;http://cpb.ucdavis.edu/Workshops.html&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Felsenstein (web) seminar</title>
	 <link href="/2011/01/24/felsenstein-web-seminar.html"/>
   <updated>2011-01-24T11:13:08+00:00</updated>
   <id>/01/24/felsenstein-web-seminar</id>
   <content type="html">&lt;p&gt;Joe Felsenstein on &lt;a href=&quot;http://phyloseminar.org&quot;&gt;phyloseminar&lt;/a&gt; (&lt;a href=&quot;http://evo.caltech.edu/evoGate/player/EVOPlayer.jnlp?fileToPlay=http://phyloseminar.org/recorded/10_felsenstein.evx&quot;&gt;watch here&lt;/a&gt;). This morning. [ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.[/ref] Discusses bridging population genetics &amp;amp; comparative methods: where does covariation in traits across a phylogeny come from?&lt;/p&gt;
&lt;h3 id=&quot;morphometrics&quot;&gt;Morphometrics&lt;/h3&gt;
&lt;p&gt;Using morphometrics (digitized landmarks [though now we can do spherical harmonics, CT scans, etc])  to evolve on a phylogeny under BM rather than use that data to infer phylogeny.  Can we just stick these coordinate info on the tree?  No, need to correct for the arbitrary reference frame (rotation of fish position etc)  can we superimpose all fish?  Fr&lt;a href=&quot;http://twitpic.com/3t1keu&quot;&gt;&lt;img src=&quot;http://twitpic.com/show/thumb/3t1keu.jpg&quot; alt=&quot;Watching Joe Felsenstein presenting on phyloseminar.org with … on Twitpic&quot; /&gt;&lt;/a&gt;ed was right, no, we cannot!  (Nice example on why we need differences).  Use Helmard transition (differences between running ave), loses no biological info, fixes translation but not rotation.  Rotate to max likelihood.&lt;/p&gt;
&lt;p&gt;Infers covariance of landmark points after having the points move by isotropic BM in all points but two, shows can recover that covariance by fitting the BM models and dealing with rotation.&lt;/p&gt;
&lt;h3 id=&quot;fossils&quot;&gt;Fossils&lt;/h3&gt;
&lt;p&gt;Ronquist and Felsenstein independently look at using fossils.  Consider possible rooting of fossils to different places on tree by likelihood.  Max likelihood minimizes the det of the cov matrix.  Works nicely on simulated example on time collaborated tree.  Proposes stretching/scaling tree to address dealing with trees that are not calibrated in real time.&lt;/p&gt;
&lt;h3 id=&quot;threshold-model&quot;&gt;Threshold model&lt;/h3&gt;
&lt;p&gt;(Sewall Wright)  BM threshold, allows variation within species (just throw a Gaussian around a threshold evolving as a cts trait BM, represents species dist.  Attempt with a covariance matrix of discrete binary traits.&lt;/p&gt;
&lt;p&gt;Future: more MCMC won’t help.  Need bigger trees, but models will break down.  [No, models aren’t more accurate on smaller scales]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Shape as well as size influence power of phylogeny</title>
	 <link href="/2011/01/21/shape-as-well-as-size-influence-power-of-phylogeny.html"/>
   <updated>2011-01-21T17:34:57+00:00</updated>
   <id>/01/21/shape-as-well-as-size-influence-power-of-phylogeny</id>
   <content type="html">&lt;p&gt;Finished the runs comparing the power to detect different strengths of selection using different size phylogenetic trees all generated under pure-birth process simulation, and then under trees of the same size but gradually lengthening the tips, (or rather shortening everything but the tips) using the lambda transformation, which puts the informative differences deep in the past where they are less reflected in the stationary state.  Bure-birth (also the constant rate birth-death) trees on the other hand are particularly twiggy and quite informative.  Though I’ve claimed that tree structure, not just size, matters in determining power, I haven’t shown it yet (other than in the trivial case of a star phylogeny), so here we go:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5121/5376804358_12cd91f9cd_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5006/5376203207_741f2818ba_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Graphs show the power to distinguish the strength of selection alpha in an OU model from a purely Brownian model.  I have included the phylogeny from the Anoles dataset of 23 taxa for comparison.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Estimating phylogenetic signal (lambda) on large trees</title>
	 <link href="/2011/01/20/estimating-phylogenetic-signal-lambda-on-large-trees.html"/>
   <updated>2011-01-20T19:21:23+00:00</updated>
   <id>/01/20/estimating-phylogenetic-signal-lambda-on-large-trees</id>
   <content type="html">&lt;p&gt;Used a simulated tree of 600 taxa to show that lambda distribution continues to improve with larger taxa.  Recall the results with 13 taxa and with 23 taxa:&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5370016511 [/flickr]&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“right”]5370635360 [/flickr]&lt;/p&gt;
&lt;p&gt;compare to 281 taxa and then 600 taxa:&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5310150538 [/flickr]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5162/5373621355_de86a334d3_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;By 281 taxa the distribution is at least centered on the true value.  The width of that distribution gets somewhat tighter with more taxa, though the increase is marginal.  Note however that for 600 taxa the model choice problem becomes substantially clearer (compare to 23 taxa)&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5370635644 [/flickr]&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5203/5373622557_0557779746_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Simulations under the lambda model continue to produce a much larger variance in possible likelihoods, creating this very awkward-looking plots with a distribution that is “all-fat” and one that is “all lean,” but the decreasing region of overlap is very clear. ((Clicking on figures gives the git ids to grab the code.  Compare to&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/&quot;&gt;github repository&lt;/a&gt; or just do “git clone git://github.com/cboettig/Comparative-Phylogenetics.git” “git checkout &lt;commitID&gt;” to grab the code))&lt;/p&gt;
&lt;p&gt;Overall these distributions suggest that for simulations under tree-transform models, some data-sets will manage to look very non-Brownian and be easy to identify, but it will always be hard to be that the ones that look very Brownian weren’t produced by lambda.  I believe the point to be largely mute as lambda isn’t really a biological model to begin with (what on earth could be responsible for transforming only the branch lengths that don’t correspond to tip taxa??) If you want a model in which the data can become statistically independent of the phylogeny, OU makes a lot more biological sense…&lt;/p&gt;
&lt;h2 id=&quot;parameter-comparisons&quot;&gt;Parameter comparisons&lt;/h2&gt;
&lt;p&gt;PMC can return the distributions of the parameters as well, just as is done for the lambda parameter in the example above. Doing this for the OU.3 model confirms that while the OU models seem to fit more reliably than the lambda models, their is still much more uncertainty in the tree scaling parameter (alpha) than the other parameters.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5127/5374777304_ef9d670586_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;It is also interesting to compare to the case where the data is simulated by BM but estimated from OU.3:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;large &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[2,])
med &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[3,])
small &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[4,])
sigma_post &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[1,])
alpha_post &amp;lt;- density((bm_v_ouLP$null_sim_test_pars[5,]))&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5285/5374177515_5176a985ab_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;power-curve-comparisons&quot;&gt;Power curve comparisons&lt;/h2&gt;
&lt;p&gt;Rerunning the power-curve examples to use simulated data instead of my &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/08/27&quot;&gt;original example with arbitrary real trees&lt;/a&gt;. Also running examples to show the impact of tree topology on power to detect alpha. Using lambda as a convenient way to distort tree topology. Examples running now&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/08e2a37cd543e04eb5a1b2643dc9148895f5bfcd/pmc/demos/power_curves.R&quot;&gt;, see code&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;writing-continues&quot;&gt;Writing continues&lt;/h2&gt;
&lt;p&gt;Otherwise I’m continuing to work on the manuscript writing for most of the past few days, hope to have a draft out to Graham and Peter tonight.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Robert Hijmans on Models to predict sp response to climate change</title>
	 <link href="/2011/01/19/robert-hijmans-on-models-to-predict-sp-response-to-climate-change.html"/>
   <updated>2011-01-19T12:53:34+00:00</updated>
   <id>/01/19/robert-hijmans-on-models-to-predict-sp-response-to-climate-change</id>
   <content type="html">&lt;p&gt;Notes from seminar.[ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.  [/ref]  Robert speaks to an utterly packed room.  Predicting future range of species:  4 topics.  1 cross-validation, 2 niches, 3 unit (sp?), 4 mechanism.  Presence-absence predictions from machine learning, maxent.&lt;/p&gt;
&lt;p&gt;Opening: AUC for measure of fit- lousy stat!&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Cross-validation: Training data vs test data.  So can compare models, but doesn’t mean anything in absolute terms.  Prediction by distance to known observations of sp occurance works better than bioclim and about as well as maxent-  seems maxent just captures spatial autocorrelation mostly, and not ecology/niche!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;compare niche predictions based on historical range vs current range-  very different.  [You live where humans let you much more than where climate lets you.  Want to forecast potential niche/climate determinants of niche, but these aren’t often the most informative predictors seized upon by the machine learning].&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;units of analysis.  (Brad’s salamanders?)  little evidence that ranges are climate driven.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mechanistic models-  hot topic, but no guarantee of better predictions. Just fitting a story (time management model) isn’t really different.  Food &amp;amp; cold are limiting-  “Gorillas were driven up these mnts and they don’t like it there.  They want global warming”  How about one-tailed limits: rather than having dist around optimum conditions, just have single-sided limits (min H2O but no max).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ends with Levins three model types.&lt;/p&gt;
&lt;p&gt;[my question: Is the result-  all about people, not climate- due to focus on big mammals and crops? ]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Reflections from #scio11: Saturday's Open Science Track</title>
	 <link href="/2011/01/15/reflections-from-scio11-saturdays-open-science-track.html"/>
   <updated>2011-01-15T23:12:45+00:00</updated>
   <id>/01/15/reflections-from-scio11-saturdays-open-science-track</id>
   <content type="html">&lt;p&gt;Have just returned from the amazing and energetic science online 2011 conference, where I will now, like the rest of the attendees, turn to catching up on sleep, following new online acquaintances, struggling not to append #scio11 to everything I write, and composing that nearly obligatory post-event blog entry we all use like a glass of water after a party; with the hope in may help me metabolize the experience.&lt;/p&gt;
&lt;p&gt;Never mind that I don’t actually blog. I just have this lab notebook, normally filled with equations, graphs and code. But it is recordings of my research experience, even if it is written only for me most of the time, so let’s just call this part of research and forgive the conversational tone. Meanwhile I will use the excuse to write more at length for myself the notes I wish to remember than would be seemly in writing in a blog with an audience.  In the spirit of this resembling my daily notebook and also in actually finishing this post, here are my notes and thoughts on Saturday’s amazing blur. &lt;a href=&quot;#fn1&quot; class=&quot;footnoteRef&quot; id=&quot;fnref1&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;saturday&quot;&gt;Saturday&lt;/h3&gt;
&lt;p&gt;I began the day in Kay’s (@&lt;a href=&quot;http://twitter.com/#!/kaythaney&quot;&gt;kaythaney&lt;/a&gt;) Digital Toolbox session, room C, where I would return for each of my sessions that day. It was one of the live-streamed rooms, so all the following sessions should have &lt;a href=&quot;http://scienceonline2011.com/watch-2/&quot;&gt;archived recordings&lt;/a&gt;.  The sessions that followed sequentially in this room fit together like a perfectly flowing conversation, as if each one responding to the former and anticipating the next.  Just further evidence that Bora (&lt;span class=&quot;citation&quot; data-cites=&quot;Boraz&quot;&gt;[@Boraz]&lt;/span&gt;(http://twitter.com/#!/boraz)) and Anton (&lt;span class=&quot;citation&quot; data-cites=&quot;mistersugar&quot;&gt;[@mistersugar]&lt;/span&gt;(http://twitter.com/#!/mistersugar)) must come from magic lamps.&lt;/p&gt;
&lt;p&gt;Next up brought one of my existing luminaries, &lt;a href=&quot;http://twitter.com/#!/skoch3&quot;&gt;Steve Koch&lt;/a&gt;),&lt;a href=&quot;#fn2&quot; class=&quot;footnoteRef&quot; id=&quot;fnref2&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;, with  &lt;a href=&quot;http://libraryadventures.com/&quot;&gt;Kiyomi Deards&lt;/a&gt; and &lt;a href=&quot;http://cloud.lib.wfu.edu/blog/pd/&quot;&gt;Molly Keener&lt;/a&gt; to the panel on data discover-ability and archiving in Open Notebook Science. The session erupted in lively debate on the relative merits of commercial hosting solutions which may offer great discoverability and ease of use until they suddenly go the way of Del.icio.us, or institutional repositories, which are long lived but often unintegrated even amongst themselves. The good-spirited solutions all pointed to doing both and trying to make each better.&lt;/p&gt;
&lt;p&gt;Not that we wouldn’t also question that optimism too, for the next session asked us: “What’s keeping us from open science?” Covering many things, at the heart of this session was the crux of lacking incentives. The promise of altmetrics loomed large, but &lt;a href=&quot;http://friendfeed.com/stevekoch/a0823501/scio11-good-question-from-carl-should-emphasis&quot;&gt;I wondered&lt;/a&gt; if we needed to do focus more on making impact with open science than merely measuring it. For instance, we can surely try to measure the impact of open notebooks and science tweets, but tools for better discovery, standardization, or more semantic open content may go much father to having unmistakable impact.&lt;/p&gt;
&lt;p&gt;The schedule indicates &lt;a href=&quot;#fn3&quot; class=&quot;footnoteRef&quot; id=&quot;fnref3&quot;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; that lunch happened next. though he whirling discussions left me with lots of ideas and names than memories of food or thoughts to my own upcoming panel. But no matter, I would be sitting with the heroes Jean-Claude Bradley (&lt;span class=&quot;citation&quot; data-cites=&quot;jcbradley&quot;&gt;@jcbradley&lt;/span&gt;) and Anthony Williams (&lt;span class=&quot;citation&quot; data-cites=&quot;ChemConnector&quot;&gt;@ChemConnector&lt;/span&gt;), so why worry?&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://m.friendfeed-media.com/a9192c4f24f3b1cc96c306e48bad1c498cab0c23&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Our session on Open Notebook Science quickly gave us reason to worry when the projector which had done fine thus far suddenly refused to work. Nevermind, we all work with technology too frequently to be unfamiliar with its failure - we would do without. If you were there and you’re wondering what you missed, here are my slides.  See &lt;a href=&quot;http://usefulchem.blogspot.com/2011/01/science-online-2011-thoughts.html&quot;&gt;Jean-Claude’s post&lt;/a&gt; for more on our session.&lt;/p&gt;
&lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/6606229&quot; width=&quot;427&quot; height=&quot;356&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px&quot; allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;
&lt;/iframe&gt;
&lt;div style=&quot;margin-bottom:5px&quot;&gt;
&lt;strong&gt; &lt;a href=&quot;http://www.slideshare.net/cboettig/scioslides&quot; title=&quot;Scioslides&quot; target=&quot;_blank&quot;&gt;Scioslides&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig&quot; target=&quot;_blank&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/strong&gt;
&lt;/div&gt;
&lt;p&gt;I described the tools I use to make my notebook more automated and complete and discussed my vision of a social lab notebook.  In face of the observation that many open database efforts face the tragedy of commons effect (many researchers may use the resources but few contribute) I discussed some of the many immediate benefits the practice has had for me.  I must say what an immense treat it is to be able to finish a session and see the immediate feedback and reactions it has generated through the online streams.&lt;/p&gt;
&lt;p&gt;The video recording of our session has now been posted:&lt;/p&gt;
&lt;iframe src=&quot;http://player.vimeo.com/video/20100632&quot; width=&quot;500&quot; height=&quot;281&quot; frameborder=&quot;0&quot; webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;
&lt;/iframe&gt;
&lt;p&gt;
&lt;a href=&quot;http://vimeo.com/20100632&quot;&gt;Open Notebook Science: Pushing Data from Bench to Web Service&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/user2419982&quot;&gt;Smartley-Dunn&lt;/a&gt; on &lt;a href=&quot;https://vimeo.com&quot;&gt;Vimeo&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&quot;http://scienceonline2011.com/watch-2/&quot;&gt;recordings of the other sessions&lt;/a&gt; as well.&lt;/p&gt;
&lt;p&gt;Having broached the idea of &lt;a href=&quot;http://altmetrics.org/manifesto/&quot;&gt;altmetrics&lt;/a&gt; on several occasions already, our next session dove into the details of how we might construct these, what they might measure, and how they would be received. Or as it was more concisely and provocatively phrased by Paul Groth (&lt;span class=&quot;citation&quot; data-cites=&quot;pgroth&quot;&gt;[@pgroth]&lt;/span&gt;(http://twitter.com/#!/pgroth)):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Would you list the number of twitter followers you have on your CV?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The last session dived further into tackling and improving the most common metric: citations. From citations that map to specific parts of articles to ones measuring the sentiment (supports/refutes) or even anticipating the social-cultural context of citations, the potential here is amazing. Jason Hoyt’s (&lt;span class=&quot;citation&quot; data-cites=&quot;jasonHoyt&quot;&gt;[@jasonHoyt]&lt;/span&gt;(http://twitter.com/#!/jasonhoyt)) 140 characters may have captured this session best:&lt;img src=&quot;http://m.friendfeed-media.com/f22753e4ef38225cbad94b61e22a9e5fdb701f23&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;if I do my job right, no one will care about publishing in Nature, Science or Cell…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Indicating that better article discovery and citation tracking through tools such as Mendeley would make the impact factor obsolete.&lt;/p&gt;
&lt;p&gt;The evening banquet featured many highlights, including seeing one of my fellow graduate students in the video competition, the very moving story of Meg Lowman’s (&lt;span class=&quot;citation&quot; data-cites=&quot;canopymeg&quot;&gt;[@canopymeg]&lt;/span&gt;(http://twitter.com/#!/canopymeg)) work researching and inspiring rain-forest conservation, laughing tears at Brian Marlow’s (&lt;span class=&quot;citation&quot; data-cites=&quot;sciencecomedian&quot;&gt;[@sciencecomedian]&lt;/span&gt;(http://twitter.com/#!/sciencecomedian)) humorist routine, and talks deep into the night about &lt;a href=&quot;http://drexel-coas-elearning.blogspot.com/&quot;&gt;innovated ideas in open education&lt;/a&gt; with JC and then the future of publishing with Jason, Mark and Tony (&lt;span class=&quot;citation&quot; data-cites=&quot;jasonPriem&quot;&gt;[@jasonPriem]&lt;/span&gt;(http://twitter.com/#!/jasonpriem), &lt;span class=&quot;citation&quot; data-cites=&quot;science3point0&quot;&gt;[@science3point0]&lt;/span&gt;(http://twitter.com/#!/science3point0), and &lt;span class=&quot;citation&quot; data-cites=&quot;ChemConnector&quot;&gt;[@ChemConnector]&lt;/span&gt;(http://twitter.com/#!/ChemConnector)).&lt;/p&gt;
&lt;p&gt;Many other great discussions throughout the day on and off line that I cannot begin to capture here.  But after all, they are just beginning.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot;&gt;&lt;p&gt;Note this was written up on Jan 17 upon returning to reality with enough time to write, but published under the event date for notebook consistency. Touched up for the Jekyll notebook 2013-07-09, see history in sidebar.&lt;a href=&quot;#fnref1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn2&quot;&gt;&lt;p&gt;pronounced cook, I learned, and all of a sudden understood the &lt;a href=&quot;http://openwetware.org/wiki/User:Skoch3&quot;&gt;chef’s hat symbol&lt;/a&gt; for their lab that has puzzled me for a year!&lt;a href=&quot;#fnref2&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn3&quot;&gt;&lt;p&gt;Also, the schedule lists the full topics and presenters for these sessions, for which reason I should  &lt;a href=&quot;http://scio11.wikispaces.com/Program&quot;&gt;work in a link  to it somewhere.&lt;/a&gt;&lt;a href=&quot;#fnref3&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
 </entry>
 
 <entry>
   <title>evolution- wrightscape</title>
	 <link href="/2011/01/11/phylogenetics-wrightscape.html"/>
   <updated>2011-01-11T15:38:41+00:00</updated>
   <id>/01/11/phylogenetics-wrightscape</id>
   <content type="html">&lt;p&gt;Interesting meeting with Peter to discuss a variety of issues in comparative phylogenetics.  Short notes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Transforming data, log data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trends in directions in convergent traits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;multivariate inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Manuscript&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;Wrightscape&lt;/h3&gt;
&lt;p&gt;First have to test PMC to make sure it works with OUCH classes.  Also adding PMC-required wrappers for wrightscape.  Ended up modifying PMC to handle the case of simulate functions that return replicates, like these packages do.  Both are working now.&lt;/p&gt;
&lt;p&gt;Shows clear differences between models under the release-of-constraint vs simply different optima hypothesis.  Increasing max-iterations of simplex (from 1000 to 10000) to help with poorly convergent cases now. (Recall that object files must be removed to recompile the src code)&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5122/5347054109_475e57bd2a_o.png&quot; /&gt;
&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Warning Signals, Power and Sufficient Statistics</title>
	 <link href="/2011/01/10/warning-signals-power-and-sufficient-statistics.html"/>
   <updated>2011-01-10T15:57:57+00:00</updated>
   <id>/01/10/warning-signals-power-and-sufficient-statistics</id>
   <content type="html">&lt;p&gt;Working on warning signals manuscript. Looking at overall powercurves as a function of sample size and rate of stability loss in both models.  Planning to repeat that analysis with summary statistics approach to illustrate the relative loss in power of the “leading indicator” approach. (simulations just set up to run now, figures should appear below as they complete.  Click on figures for links to code).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on transcritical bifurcation as a function of rate of stability loss:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LTC, stability” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on transcritical bifurcation as a function of sample points:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LTC, sample, powercurves.R” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on saddle node bifurcation as a function of rate of stability loss:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LSN, stability, powercurves.R” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on saddle node bifurcation as a function of rate of sample points:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tag_mode=“all” tags=“warningsignals, LSN, sample, powercurves.R” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/867c55d251aad14ca5ed8d91e897c576ddd5d778&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Significant variation in power based on the simulation.  Also not all runs appear to get adequate convergence for the model fits.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylo Monte Carlo for diversification rates</title>
	 <link href="/2011/01/09/phylo-monte-carlo-for-diversification-rates.html"/>
   <updated>2011-01-09T13:28:55+00:00</updated>
   <id>/01/09/phylo-monte-carlo-for-diversification-rates</id>
   <content type="html">&lt;p&gt;Writing function wrappers for geiger functions to perform  Phylogenetic Monte Carlo.  Any object that has methods defined for update.objecttype (object, data) and simulate.objecttype(data), and loglik.object(object) should be able to use the montecarlotest() function. OUCH almost does this but not quite, since the datatype returned by ‘simulate’ doesn’t match that needed by ‘update’. OUCH also uses S4 class styles.&lt;/p&gt;
&lt;p&gt;Wrote wrappers for ouch functions such that the ouch models will work with the same montecarlotest() code.  Some care to avoid S3-S4 conflicts.  See gist[ref]Example code above for correct handling.  Basically avoid the S4 setGeneric() for compatibility.[/ref] for notes on this from Duncan.&lt;/p&gt;
&lt;h2 id=&quot;branching-rates&quot;&gt;Branching Rates&lt;/h2&gt;
&lt;p&gt;Having some difficulty running basic models. Notes: birthdeath.tree creates a tree with extinct taxa.  prune.extinct.taxa() seems to fail. Graham Slater suggests TreeSim package, which works except on wiglaf for some reason, the final example in sim.bd.taxa doesn’t run. A couple questions of what it means to be simulating under the right model&amp;quot;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should the simulation under the model condition on the number of taxa or the time?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should the simulation bother generating trees or just the vector of branching times? (really only a performance question)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Overall phylogenetic monte carlo seems to show that accurately distinguishing between models is very difficult.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-01-09 00:00:00” max_upload_date=“2011-01-09 23:59:59”]&lt;/p&gt;
&lt;p&gt;Creating a table of functions provided by the various phylogenetic methods package in R with notes:&lt;/p&gt;
&lt;p&gt;[table id=1 /]&lt;/p&gt;
&lt;h2 id=&quot;s3-s4-classes-in-r&quot;&gt;S3 &amp;amp; S4 classes in R&lt;/h2&gt;
&lt;p&gt;[gist id=“773234”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Two routes to adaptive branching</title>
	 <link href="/2011/01/06/two-routes-to-adaptive-branching.html"/>
   <updated>2011-01-06T10:56:11+00:00</updated>
   <id>/01/06/two-routes-to-adaptive-branching</id>
   <content type="html">&lt;p&gt;Simulations completed, help accentuate the different paths for branching.  When the most failures occur while waiting for the first mutation to enter first established dimorphism, mutation rate seems limiting (left):&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5082/5330189191_a102ab6930_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5003/5330799994_d9d050c587_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;(right) With a higher mutation rate, most collapses back to monomorphism occur after a mutation successfully invades in the dimorphic population. Unfortunately these runs result in large fraction of the ensemble never reaching the final branching, those that do, do so fast:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5044/5330262645_409b7f722e_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5243/5330873676_00a39384f4_o.png&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Note that 1e7 is the max running time.  Running a set of new simulations well outside of the range where some will not complete in the max-time interval of 1e7. (&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commit/bb0dd7111f696a1de2654a21df6d03068ac6fae6&quot;&gt;commit&lt;/a&gt;, &lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/bb0dd7111f696a1de2654a21df6d03068ac6fae6/demos/fewmore.R&quot;&gt;codes&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/593b0ac13b6065aa77c9235edeafdafe4cc0fe8a/demos/step_limited.R&quot;&gt;more&lt;/a&gt; to specify parameters.)  &lt;a href=&quot;http://www.flickr.com/search/?q=adaptivedynamics&amp;amp;m=tags&amp;amp;d=taken-20110106-20110106&amp;amp;ss=0&amp;amp;ct=0&amp;amp;mt=all&amp;amp;w=46456847%40N08&amp;amp;adv=1&quot;&gt;See flickr collection of today in adaptive dynamics for more&lt;/a&gt;, embedded below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“adaptivedynamics” min_upload_date=“2011-01-06 00:00:00” max_upload_date=“2011-01-07 00:00:00”]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Finishing up my #SICB Presentation</title>
	 <link href="/2011/01/02/finishing-up-my-sicb-presentation.html"/>
   <updated>2011-01-02T21:00:03+00:00</updated>
   <id>/01/02/finishing-up-my-sicb-presentation</id>
   <content type="html">&lt;p&gt;Finished up my SICB presentation tweaks, slides now up on slideshare, flying off to the conference tomorrow.  Created this in OpenOffice, started adding animations and then decided it would be more reliable to just duplicate slides to have parts appear (really just for the explanation of the likelihood ratio distributions under each model).  Next time think I’ll stick with my usual inkscape slides tied together with latex beamer, the lack of vector images in this one is not ideal.  Presenting at 8am Tuesday in: &lt;a href=&quot;http://www.sicb.org/meetings/2011/schedule/results.php3?search=sday+%3D+%272011-01-04%27+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27S%25%27%29+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27P%25%27%29%29&quot;&gt;Macroevolution I - Methods and Character Evolution.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/is-your-phylogeny-informative&quot;&gt;Is your phylogeny informative?&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It’s been another day of multiple projects:  I’m also running a few extra adaptive dynamics simulations to replicate the pattern of differences between phase 2 and phase 3 collapses from the May 5th simulations, and lastly, some work on the intro for the warning signals manuscript.&lt;/p&gt;
</content>
 </entry>
 
 
